{"version":3,"file":"js/chunks/vendors-node_modules_nextcloud_files_dist_index_mjs-node_modules_nextcloud_vue_dist_Component-c57add-bf77ee4ada999d637725.js","mappings":"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","sources":["webpack://files-archive/./node_modules/@nextcloud/files/dist/chunks/dav-Co9y-hkg.mjs","webpack://files-archive/./node_modules/@nextcloud/files/dist/index.mjs"],"sourcesContent":["import { join, basename, extname, dirname } from \"path\";\nimport { encodePath } from \"@nextcloud/paths\";\nimport { getLoggerBuilder } from \"@nextcloud/logger\";\nimport { getCurrentUser, onRequestTokenUpdate, getRequestToken } from \"@nextcloud/auth\";\nimport { generateRemoteUrl } from \"@nextcloud/router\";\nimport { CancelablePromise } from \"cancelable-promise\";\nimport { createClient, getPatcher } from \"webdav\";\nimport { isPublicShare, getSharingToken } from \"@nextcloud/sharing/public\";\nconst logger = getLoggerBuilder().setApp(\"@nextcloud/files\").detectUser().build();\nvar Permission = /* @__PURE__ */ ((Permission2) => {\n  Permission2[Permission2[\"NONE\"] = 0] = \"NONE\";\n  Permission2[Permission2[\"CREATE\"] = 4] = \"CREATE\";\n  Permission2[Permission2[\"READ\"] = 1] = \"READ\";\n  Permission2[Permission2[\"UPDATE\"] = 2] = \"UPDATE\";\n  Permission2[Permission2[\"DELETE\"] = 8] = \"DELETE\";\n  Permission2[Permission2[\"SHARE\"] = 16] = \"SHARE\";\n  Permission2[Permission2[\"ALL\"] = 31] = \"ALL\";\n  return Permission2;\n})(Permission || {});\nvar FileType = /* @__PURE__ */ ((FileType2) => {\n  FileType2[\"Folder\"] = \"folder\";\n  FileType2[\"File\"] = \"file\";\n  return FileType2;\n})(FileType || {});\nconst isDavResource = function(source, davService) {\n  return source.match(davService) !== null;\n};\nconst validateData = (data, davService) => {\n  if (data.id && typeof data.id !== \"number\") {\n    throw new Error(\"Invalid id type of value\");\n  }\n  if (!data.source) {\n    throw new Error(\"Missing mandatory source\");\n  }\n  try {\n    new URL(data.source);\n  } catch (e) {\n    throw new Error(\"Invalid source format, source must be a valid URL\");\n  }\n  if (!data.source.startsWith(\"http\")) {\n    throw new Error(\"Invalid source format, only http(s) is supported\");\n  }\n  if (data.displayname && typeof data.displayname !== \"string\") {\n    throw new Error(\"Invalid displayname type\");\n  }\n  if (data.mtime && !(data.mtime instanceof Date)) {\n    throw new Error(\"Invalid mtime type\");\n  }\n  if (data.crtime && !(data.crtime instanceof Date)) {\n    throw new Error(\"Invalid crtime type\");\n  }\n  if (!data.mime || typeof data.mime !== \"string\" || !data.mime.match(/^[-\\w.]+\\/[-+\\w.]+$/gi)) {\n    throw new Error(\"Missing or invalid mandatory mime\");\n  }\n  if (\"size\" in data && typeof data.size !== \"number\" && data.size !== void 0) {\n    throw new Error(\"Invalid size type\");\n  }\n  if (\"permissions\" in data && data.permissions !== void 0 && !(typeof data.permissions === \"number\" && data.permissions >= Permission.NONE && data.permissions <= Permission.ALL)) {\n    throw new Error(\"Invalid permissions\");\n  }\n  if (data.owner && data.owner !== null && typeof data.owner !== \"string\") {\n    throw new Error(\"Invalid owner type\");\n  }\n  if (data.attributes && typeof data.attributes !== \"object\") {\n    throw new Error(\"Invalid attributes type\");\n  }\n  if (data.root && typeof data.root !== \"string\") {\n    throw new Error(\"Invalid root type\");\n  }\n  if (data.root && !data.root.startsWith(\"/\")) {\n    throw new Error(\"Root must start with a leading slash\");\n  }\n  if (data.root && !data.source.includes(data.root)) {\n    throw new Error(\"Root must be part of the source\");\n  }\n  if (data.root && isDavResource(data.source, davService)) {\n    const service = data.source.match(davService)[0];\n    if (!data.source.includes(join(service, data.root))) {\n      throw new Error(\"The root must be relative to the service. e.g /files/emma\");\n    }\n  }\n  if (data.status && !Object.values(NodeStatus).includes(data.status)) {\n    throw new Error(\"Status must be a valid NodeStatus\");\n  }\n};\nvar NodeStatus = /* @__PURE__ */ ((NodeStatus2) => {\n  NodeStatus2[\"NEW\"] = \"new\";\n  NodeStatus2[\"FAILED\"] = \"failed\";\n  NodeStatus2[\"LOADING\"] = \"loading\";\n  NodeStatus2[\"LOCKED\"] = \"locked\";\n  return NodeStatus2;\n})(NodeStatus || {});\nclass Node {\n  _data;\n  _attributes;\n  _knownDavService = /(remote|public)\\.php\\/(web)?dav/i;\n  readonlyAttributes = Object.entries(Object.getOwnPropertyDescriptors(Node.prototype)).filter((e) => typeof e[1].get === \"function\" && e[0] !== \"__proto__\").map((e) => e[0]);\n  handler = {\n    set: (target, prop, value) => {\n      if (this.readonlyAttributes.includes(prop)) {\n        return false;\n      }\n      return Reflect.set(target, prop, value);\n    },\n    deleteProperty: (target, prop) => {\n      if (this.readonlyAttributes.includes(prop)) {\n        return false;\n      }\n      return Reflect.deleteProperty(target, prop);\n    },\n    // TODO: This is deprecated and only needed for files v3\n    get: (target, prop, receiver) => {\n      if (this.readonlyAttributes.includes(prop)) {\n        logger.warn(`Accessing \"Node.attributes.${prop}\" is deprecated, access it directly on the Node instance.`);\n        return Reflect.get(this, prop);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  };\n  constructor(data, davService) {\n    validateData(data, davService || this._knownDavService);\n    this._data = {\n      // TODO: Remove with next major release, this is just for compatibility\n      displayname: data.attributes?.displayname,\n      ...data,\n      attributes: {}\n    };\n    this._attributes = new Proxy(this._data.attributes, this.handler);\n    this.update(data.attributes ?? {});\n    if (davService) {\n      this._knownDavService = davService;\n    }\n  }\n  /**\n   * Get the source url to this object\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get source() {\n    return this._data.source.replace(/\\/$/i, \"\");\n  }\n  /**\n   * Get the encoded source url to this object for requests purposes\n   */\n  get encodedSource() {\n    const { origin } = new URL(this.source);\n    return origin + encodePath(this.source.slice(origin.length));\n  }\n  /**\n   * Get this object name\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get basename() {\n    return basename(this.source);\n  }\n  /**\n   * The nodes displayname\n   * By default the display name and the `basename` are identical,\n   * but it is possible to have a different name. This happens\n   * on the files app for example for shared folders.\n   */\n  get displayname() {\n    return this._data.displayname || this.basename;\n  }\n  /**\n   * Set the displayname\n   */\n  set displayname(displayname) {\n    this._data.displayname = displayname;\n  }\n  /**\n   * Get this object's extension\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get extension() {\n    return extname(this.source);\n  }\n  /**\n   * Get the directory path leading to this object\n   * Will use the relative path to root if available\n   *\n   * There is no setter as the source is not meant to be changed manually.\n   * You can use the rename or move method to change the source.\n   */\n  get dirname() {\n    if (this.root) {\n      let source = this.source;\n      if (this.isDavResource) {\n        source = source.split(this._knownDavService).pop();\n      }\n      const firstMatch = source.indexOf(this.root);\n      const root = this.root.replace(/\\/$/, \"\");\n      return dirname(source.slice(firstMatch + root.length) || \"/\");\n    }\n    const url = new URL(this.source);\n    return dirname(url.pathname);\n  }\n  /**\n   * Get the file mime\n   * There is no setter as the mime is not meant to be changed\n   */\n  get mime() {\n    return this._data.mime;\n  }\n  /**\n   * Get the file modification time\n   */\n  get mtime() {\n    return this._data.mtime;\n  }\n  /**\n   * Set the file modification time\n   */\n  set mtime(mtime) {\n    this._data.mtime = mtime;\n  }\n  /**\n   * Get the file creation time\n   * There is no setter as the creation time is not meant to be changed\n   */\n  get crtime() {\n    return this._data.crtime;\n  }\n  /**\n   * Get the file size\n   */\n  get size() {\n    return this._data.size;\n  }\n  /**\n   * Set the file size\n   */\n  set size(size) {\n    this.updateMtime();\n    this._data.size = size;\n  }\n  /**\n   * Get the file attribute\n   * This contains all additional attributes not provided by the Node class\n   */\n  get attributes() {\n    return this._attributes;\n  }\n  /**\n   * Get the file permissions\n   */\n  get permissions() {\n    if (this.owner === null && !this.isDavResource) {\n      return Permission.READ;\n    }\n    return this._data.permissions !== void 0 ? this._data.permissions : Permission.NONE;\n  }\n  /**\n   * Set the file permissions\n   */\n  set permissions(permissions) {\n    this.updateMtime();\n    this._data.permissions = permissions;\n  }\n  /**\n   * Get the file owner\n   * There is no setter as the owner is not meant to be changed\n   */\n  get owner() {\n    if (!this.isDavResource) {\n      return null;\n    }\n    return this._data.owner;\n  }\n  /**\n   * Is this a dav-related resource ?\n   */\n  get isDavResource() {\n    return isDavResource(this.source, this._knownDavService);\n  }\n  /**\n   * @deprecated use `isDavResource` instead - will be removed in next major version.\n   */\n  get isDavRessource() {\n    return this.isDavResource;\n  }\n  /**\n   * Get the dav root of this object\n   * There is no setter as the root is not meant to be changed\n   */\n  get root() {\n    if (this._data.root) {\n      return this._data.root.replace(/^(.+)\\/$/, \"$1\");\n    }\n    if (this.isDavResource) {\n      const root = dirname(this.source);\n      return root.split(this._knownDavService).pop() || null;\n    }\n    return null;\n  }\n  /**\n   * Get the absolute path of this object relative to the root\n   */\n  get path() {\n    if (this.root) {\n      let source = this.source;\n      if (this.isDavResource) {\n        source = source.split(this._knownDavService).pop();\n      }\n      const firstMatch = source.indexOf(this.root);\n      const root = this.root.replace(/\\/$/, \"\");\n      return source.slice(firstMatch + root.length) || \"/\";\n    }\n    return (this.dirname + \"/\" + this.basename).replace(/\\/\\//g, \"/\");\n  }\n  /**\n   * Get the node id if defined.\n   * There is no setter as the fileid is not meant to be changed\n   */\n  get fileid() {\n    return this._data?.id;\n  }\n  /**\n   * Get the node status.\n   */\n  get status() {\n    return this._data?.status;\n  }\n  /**\n   * Set the node status.\n   */\n  set status(status) {\n    this._data.status = status;\n  }\n  /**\n   * Get the node data\n   */\n  get data() {\n    return structuredClone(this._data);\n  }\n  /**\n   * Move the node to a new destination\n   *\n   * @param {string} destination the new source.\n   * e.g. https://cloud.domain.com/remote.php/dav/files/emma/Photos/picture.jpg\n   */\n  move(destination) {\n    validateData({ ...this._data, source: destination }, this._knownDavService);\n    const oldBasename = this.basename;\n    this._data.source = destination;\n    if (this.displayname === oldBasename && this.basename !== oldBasename) {\n      this.displayname = this.basename;\n    }\n    this.updateMtime();\n  }\n  /**\n   * Rename the node\n   * This aliases the move method for easier usage\n   *\n   * @param basename The new name of the node\n   */\n  rename(basename2) {\n    if (basename2.includes(\"/\")) {\n      throw new Error(\"Invalid basename\");\n    }\n    this.move(dirname(this.source) + \"/\" + basename2);\n  }\n  /**\n   * Update the mtime if exists\n   */\n  updateMtime() {\n    if (this._data.mtime) {\n      this._data.mtime = /* @__PURE__ */ new Date();\n    }\n  }\n  /**\n   * Update the attributes of the node\n   * Warning, updating attributes will NOT automatically update the mtime.\n   *\n   * @param attributes The new attributes to update on the Node attributes\n   */\n  update(attributes) {\n    for (const [name, value] of Object.entries(attributes)) {\n      try {\n        if (value === void 0) {\n          delete this.attributes[name];\n        } else {\n          this.attributes[name] = value;\n        }\n      } catch (e) {\n        if (e instanceof TypeError) {\n          continue;\n        }\n        throw e;\n      }\n    }\n  }\n}\nclass File extends Node {\n  get type() {\n    return FileType.File;\n  }\n  /**\n   * Returns a clone of the file\n   */\n  clone() {\n    return new File(this.data);\n  }\n}\nclass Folder extends Node {\n  constructor(data) {\n    super({\n      ...data,\n      mime: \"httpd/unix-directory\"\n    });\n  }\n  get type() {\n    return FileType.Folder;\n  }\n  get extension() {\n    return null;\n  }\n  get mime() {\n    return \"httpd/unix-directory\";\n  }\n  /**\n   * Returns a clone of the folder\n   */\n  clone() {\n    return new Folder(this.data);\n  }\n}\nconst parsePermissions = function(permString = \"\") {\n  let permissions = Permission.NONE;\n  if (!permString) {\n    return permissions;\n  }\n  if (permString.includes(\"C\") || permString.includes(\"K\")) {\n    permissions |= Permission.CREATE;\n  }\n  if (permString.includes(\"G\")) {\n    permissions |= Permission.READ;\n  }\n  if (permString.includes(\"W\") || permString.includes(\"N\") || permString.includes(\"V\")) {\n    permissions |= Permission.UPDATE;\n  }\n  if (permString.includes(\"D\")) {\n    permissions |= Permission.DELETE;\n  }\n  if (permString.includes(\"R\")) {\n    permissions |= Permission.SHARE;\n  }\n  return permissions;\n};\nconst defaultDavProperties = [\n  \"d:getcontentlength\",\n  \"d:getcontenttype\",\n  \"d:getetag\",\n  \"d:getlastmodified\",\n  \"d:creationdate\",\n  \"d:displayname\",\n  \"d:quota-available-bytes\",\n  \"d:resourcetype\",\n  \"nc:has-preview\",\n  \"nc:is-encrypted\",\n  \"nc:mount-type\",\n  \"oc:comments-unread\",\n  \"oc:favorite\",\n  \"oc:fileid\",\n  \"oc:owner-display-name\",\n  \"oc:owner-id\",\n  \"oc:permissions\",\n  \"oc:size\"\n];\nconst defaultDavNamespaces = {\n  d: \"DAV:\",\n  nc: \"http://nextcloud.org/ns\",\n  oc: \"http://owncloud.org/ns\",\n  ocs: \"http://open-collaboration-services.org/ns\"\n};\nconst registerDavProperty = function(prop, namespace = { nc: \"http://nextcloud.org/ns\" }) {\n  if (typeof window._nc_dav_properties === \"undefined\") {\n    window._nc_dav_properties = [...defaultDavProperties];\n    window._nc_dav_namespaces = { ...defaultDavNamespaces };\n  }\n  const namespaces = { ...window._nc_dav_namespaces, ...namespace };\n  if (window._nc_dav_properties.find((search) => search === prop)) {\n    logger.warn(`${prop} already registered`, { prop });\n    return false;\n  }\n  if (prop.startsWith(\"<\") || prop.split(\":\").length !== 2) {\n    logger.error(`${prop} is not valid. See example: 'oc:fileid'`, { prop });\n    return false;\n  }\n  const ns = prop.split(\":\")[0];\n  if (!namespaces[ns]) {\n    logger.error(`${prop} namespace unknown`, { prop, namespaces });\n    return false;\n  }\n  window._nc_dav_properties.push(prop);\n  window._nc_dav_namespaces = namespaces;\n  return true;\n};\nconst getDavProperties = function() {\n  if (typeof window._nc_dav_properties === \"undefined\") {\n    window._nc_dav_properties = [...defaultDavProperties];\n  }\n  return window._nc_dav_properties.map((prop) => `<${prop} />`).join(\" \");\n};\nconst getDavNameSpaces = function() {\n  if (typeof window._nc_dav_namespaces === \"undefined\") {\n    window._nc_dav_namespaces = { ...defaultDavNamespaces };\n  }\n  return Object.keys(window._nc_dav_namespaces).map((ns) => `xmlns:${ns}=\"${window._nc_dav_namespaces?.[ns]}\"`).join(\" \");\n};\nconst getDefaultPropfind = function() {\n  return `<?xml version=\"1.0\"?>\n\t\t<d:propfind ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`;\n};\nconst getFavoritesReport = function() {\n  return `<?xml version=\"1.0\"?>\n\t\t<oc:filter-files ${getDavNameSpaces()}>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`;\n};\nconst getRecentSearch = function(lastModified) {\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<d:searchrequest ${getDavNameSpaces()}\n\txmlns:ns=\"https://github.com/icewind1991/SearchDAV/ns\">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${getDavProperties()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${getCurrentUser()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${lastModified}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`;\n};\nfunction getRootPath() {\n  if (isPublicShare()) {\n    return `/files/${getSharingToken()}`;\n  }\n  return `/files/${getCurrentUser()?.uid}`;\n}\nconst defaultRootPath = getRootPath();\nfunction getRemoteURL() {\n  const url = generateRemoteUrl(\"dav\");\n  if (isPublicShare()) {\n    return url.replace(\"remote.php\", \"public.php\");\n  }\n  return url;\n}\nconst defaultRemoteURL = getRemoteURL();\nconst getClient = function(remoteURL = defaultRemoteURL, headers = {}) {\n  const client = createClient(remoteURL, { headers });\n  function setHeaders(token) {\n    client.setHeaders({\n      ...headers,\n      // Add this so the server knows it is an request from the browser\n      \"X-Requested-With\": \"XMLHttpRequest\",\n      // Inject user auth\n      requesttoken: token ?? \"\"\n    });\n  }\n  onRequestTokenUpdate(setHeaders);\n  setHeaders(getRequestToken());\n  const patcher = getPatcher();\n  patcher.patch(\"fetch\", (url, options) => {\n    const headers2 = options.headers;\n    if (headers2?.method) {\n      options.method = headers2.method;\n      delete headers2.method;\n    }\n    return fetch(url, options);\n  });\n  return client;\n};\nconst getFavoriteNodes = (davClient, path = \"/\", davRoot = defaultRootPath) => {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const contentsResponse = await davClient.getDirectoryContents(`${davRoot}${path}`, {\n        signal: controller.signal,\n        details: true,\n        data: getFavoritesReport(),\n        headers: {\n          // see getClient for patched webdav client\n          method: \"REPORT\"\n        },\n        includeSelf: true\n      });\n      const nodes = contentsResponse.data.filter((node) => node.filename !== path).map((result) => resultToNode(result, davRoot));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nconst resultToNode = function(node, filesRoot = defaultRootPath, remoteURL = defaultRemoteURL) {\n  let userId = getCurrentUser()?.uid;\n  if (isPublicShare()) {\n    userId = userId ?? \"anonymous\";\n  } else if (!userId) {\n    throw new Error(\"No user id found\");\n  }\n  const props = node.props;\n  const permissions = parsePermissions(props?.permissions);\n  const owner = String(props?.[\"owner-id\"] || userId);\n  const id = props.fileid || 0;\n  const mtime = new Date(Date.parse(node.lastmod));\n  const crtime = new Date(Date.parse(props.creationdate));\n  const nodeData = {\n    id,\n    source: `${remoteURL}${node.filename}`,\n    mtime: !isNaN(mtime.getTime()) && mtime.getTime() !== 0 ? mtime : void 0,\n    crtime: !isNaN(crtime.getTime()) && crtime.getTime() !== 0 ? crtime : void 0,\n    mime: node.mime || \"application/octet-stream\",\n    // Manually cast to work around for https://github.com/perry-mitchell/webdav-client/pull/380\n    displayname: props.displayname !== void 0 ? String(props.displayname) : void 0,\n    size: props?.size || Number.parseInt(props.getcontentlength || \"0\"),\n    // The fileid is set to -1 for failed requests\n    status: id < 0 ? NodeStatus.FAILED : void 0,\n    permissions,\n    owner,\n    root: filesRoot,\n    attributes: {\n      ...node,\n      ...props,\n      hasPreview: props?.[\"has-preview\"]\n    }\n  };\n  delete nodeData.attributes?.props;\n  return node.type === \"file\" ? new File(nodeData) : new Folder(nodeData);\n};\nexport {\n  FileType as F,\n  Node as N,\n  Permission as P,\n  getRemoteURL as a,\n  defaultRemoteURL as b,\n  getClient as c,\n  defaultRootPath as d,\n  getFavoriteNodes as e,\n  defaultDavProperties as f,\n  getRootPath as g,\n  defaultDavNamespaces as h,\n  registerDavProperty as i,\n  getDavProperties as j,\n  getDavNameSpaces as k,\n  getDefaultPropfind as l,\n  getFavoritesReport as m,\n  getRecentSearch as n,\n  logger as o,\n  parsePermissions as p,\n  File as q,\n  resultToNode as r,\n  Folder as s,\n  NodeStatus as t\n};\n","import { o as logger } from \"./chunks/dav-Co9y-hkg.mjs\";\nimport { q, F, s, N, t, P, c, l, m, n, a, g, p, b, r, d, h, f, k, j, e, i } from \"./chunks/dav-Co9y-hkg.mjs\";\nimport { getCapabilities } from \"@nextcloud/capabilities\";\nimport { extname, basename } from \"path\";\nimport { getCanonicalLocale, getLanguage } from \"@nextcloud/l10n\";\nimport { TypedEventTarget } from \"typescript-event-target\";\nvar NewMenuEntryCategory = /* @__PURE__ */ ((NewMenuEntryCategory2) => {\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"UploadFromDevice\"] = 0] = \"UploadFromDevice\";\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"CreateNew\"] = 1] = \"CreateNew\";\n  NewMenuEntryCategory2[NewMenuEntryCategory2[\"Other\"] = 2] = \"Other\";\n  return NewMenuEntryCategory2;\n})(NewMenuEntryCategory || {});\nclass NewFileMenu {\n  _entries = [];\n  registerEntry(entry) {\n    this.validateEntry(entry);\n    entry.category = entry.category ?? 1;\n    this._entries.push(entry);\n  }\n  unregisterEntry(entry) {\n    const entryIndex = typeof entry === \"string\" ? this.getEntryIndex(entry) : this.getEntryIndex(entry.id);\n    if (entryIndex === -1) {\n      logger.warn(\"Entry not found, nothing removed\", { entry, entries: this.getEntries() });\n      return;\n    }\n    this._entries.splice(entryIndex, 1);\n  }\n  /**\n   * Get the list of registered entries\n   *\n   * @param {Folder} context the creation context. Usually the current folder\n   */\n  getEntries(context) {\n    if (context) {\n      return this._entries.filter((entry) => typeof entry.enabled === \"function\" ? entry.enabled(context) : true);\n    }\n    return this._entries;\n  }\n  getEntryIndex(id) {\n    return this._entries.findIndex((entry) => entry.id === id);\n  }\n  validateEntry(entry) {\n    if (!entry.id || !entry.displayName || !(entry.iconSvgInline || entry.iconClass) || !entry.handler) {\n      throw new Error(\"Invalid entry\");\n    }\n    if (typeof entry.id !== \"string\" || typeof entry.displayName !== \"string\") {\n      throw new Error(\"Invalid id or displayName property\");\n    }\n    if (entry.iconClass && typeof entry.iconClass !== \"string\" || entry.iconSvgInline && typeof entry.iconSvgInline !== \"string\") {\n      throw new Error(\"Invalid icon provided\");\n    }\n    if (entry.enabled !== void 0 && typeof entry.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (typeof entry.handler !== \"function\") {\n      throw new Error(\"Invalid handler property\");\n    }\n    if (\"order\" in entry && typeof entry.order !== \"number\") {\n      throw new Error(\"Invalid order property\");\n    }\n    if (this.getEntryIndex(entry.id) !== -1) {\n      throw new Error(\"Duplicate entry\");\n    }\n  }\n}\nconst getNewFileMenu = function() {\n  if (typeof window._nc_newfilemenu === \"undefined\") {\n    window._nc_newfilemenu = new NewFileMenu();\n    logger.debug(\"NewFileMenu initialized\");\n  }\n  return window._nc_newfilemenu;\n};\nvar DefaultType = /* @__PURE__ */ ((DefaultType2) => {\n  DefaultType2[\"DEFAULT\"] = \"default\";\n  DefaultType2[\"HIDDEN\"] = \"hidden\";\n  return DefaultType2;\n})(DefaultType || {});\nclass FileAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get title() {\n    return this._action.title;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  get execBatch() {\n    return this._action.execBatch;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get parent() {\n    return this._action.parent;\n  }\n  get default() {\n    return this._action.default;\n  }\n  get destructive() {\n    return this._action.destructive;\n  }\n  get inline() {\n    return this._action.inline;\n  }\n  get renderInline() {\n    return this._action.renderInline;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"title\" in action && typeof action.title !== \"function\") {\n      throw new Error(\"Invalid title function\");\n    }\n    if (!action.iconSvgInline || typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (\"execBatch\" in action && typeof action.execBatch !== \"function\") {\n      throw new Error(\"Invalid execBatch function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (action.destructive !== void 0 && typeof action.destructive !== \"boolean\") {\n      throw new Error(\"Invalid destructive flag\");\n    }\n    if (\"parent\" in action && typeof action.parent !== \"string\") {\n      throw new Error(\"Invalid parent\");\n    }\n    if (action.default && !Object.values(DefaultType).includes(action.default)) {\n      throw new Error(\"Invalid default\");\n    }\n    if (\"inline\" in action && typeof action.inline !== \"function\") {\n      throw new Error(\"Invalid inline function\");\n    }\n    if (\"renderInline\" in action && typeof action.renderInline !== \"function\") {\n      throw new Error(\"Invalid renderInline function\");\n    }\n  }\n}\nconst registerFileAction = function(action) {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  if (window._nc_fileactions.find((search) => search.id === action.id)) {\n    logger.error(`FileAction ${action.id} already registered`, { action });\n    return;\n  }\n  window._nc_fileactions.push(action);\n};\nconst getFileActions = function() {\n  if (typeof window._nc_fileactions === \"undefined\") {\n    window._nc_fileactions = [];\n    logger.debug(\"FileActions initialized\");\n  }\n  return window._nc_fileactions;\n};\nclass FileListAction {\n  _action;\n  constructor(action) {\n    this.validateAction(action);\n    this._action = action;\n  }\n  get id() {\n    return this._action.id;\n  }\n  get displayName() {\n    return this._action.displayName;\n  }\n  get iconSvgInline() {\n    return this._action.iconSvgInline;\n  }\n  get order() {\n    return this._action.order;\n  }\n  get enabled() {\n    return this._action.enabled;\n  }\n  get exec() {\n    return this._action.exec;\n  }\n  validateAction(action) {\n    if (!action.id || typeof action.id !== \"string\") {\n      throw new Error(\"Invalid id\");\n    }\n    if (!action.displayName || typeof action.displayName !== \"function\") {\n      throw new Error(\"Invalid displayName function\");\n    }\n    if (\"iconSvgInline\" in action && typeof action.iconSvgInline !== \"function\") {\n      throw new Error(\"Invalid iconSvgInline function\");\n    }\n    if (\"order\" in action && typeof action.order !== \"number\") {\n      throw new Error(\"Invalid order\");\n    }\n    if (\"enabled\" in action && typeof action.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled function\");\n    }\n    if (!action.exec || typeof action.exec !== \"function\") {\n      throw new Error(\"Invalid exec function\");\n    }\n  }\n}\nconst registerFileListAction = (action) => {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  if (window._nc_filelistactions.find((listAction) => listAction.id === action.id)) {\n    logger.error(`FileListAction with id \"${action.id}\" is already registered`, { action });\n    return;\n  }\n  window._nc_filelistactions.push(action);\n};\nconst getFileListActions = () => {\n  if (typeof window._nc_filelistactions === \"undefined\") {\n    window._nc_filelistactions = [];\n  }\n  return window._nc_filelistactions;\n};\nclass Header {\n  _header;\n  constructor(header) {\n    this.validateHeader(header);\n    this._header = header;\n  }\n  get id() {\n    return this._header.id;\n  }\n  get order() {\n    return this._header.order;\n  }\n  get enabled() {\n    return this._header.enabled;\n  }\n  get render() {\n    return this._header.render;\n  }\n  get updated() {\n    return this._header.updated;\n  }\n  validateHeader(header) {\n    if (!header.id || !header.render || !header.updated) {\n      throw new Error(\"Invalid header: id, render and updated are required\");\n    }\n    if (typeof header.id !== \"string\") {\n      throw new Error(\"Invalid id property\");\n    }\n    if (header.enabled !== void 0 && typeof header.enabled !== \"function\") {\n      throw new Error(\"Invalid enabled property\");\n    }\n    if (header.render && typeof header.render !== \"function\") {\n      throw new Error(\"Invalid render property\");\n    }\n    if (header.updated && typeof header.updated !== \"function\") {\n      throw new Error(\"Invalid updated property\");\n    }\n  }\n}\nconst registerFileListHeaders = function(header) {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  if (window._nc_filelistheader.find((search) => search.id === header.id)) {\n    logger.error(`Header ${header.id} already registered`, { header });\n    return;\n  }\n  window._nc_filelistheader.push(header);\n};\nconst getFileListHeaders = function() {\n  if (typeof window._nc_filelistheader === \"undefined\") {\n    window._nc_filelistheader = [];\n    logger.debug(\"FileListHeaders initialized\");\n  }\n  return window._nc_filelistheader;\n};\nvar InvalidFilenameErrorReason = /* @__PURE__ */ ((InvalidFilenameErrorReason2) => {\n  InvalidFilenameErrorReason2[\"ReservedName\"] = \"reserved name\";\n  InvalidFilenameErrorReason2[\"Character\"] = \"character\";\n  InvalidFilenameErrorReason2[\"Extension\"] = \"extension\";\n  return InvalidFilenameErrorReason2;\n})(InvalidFilenameErrorReason || {});\nclass InvalidFilenameError extends Error {\n  constructor(options) {\n    super(`Invalid ${options.reason} '${options.segment}' in filename '${options.filename}'`, { cause: options });\n  }\n  /**\n   * The filename that was validated\n   */\n  get filename() {\n    return this.cause.filename;\n  }\n  /**\n   * Reason why the validation failed\n   */\n  get reason() {\n    return this.cause.reason;\n  }\n  /**\n   * Part of the filename that caused this error\n   */\n  get segment() {\n    return this.cause.segment;\n  }\n}\nfunction validateFilename(filename) {\n  const capabilities = getCapabilities().files;\n  const forbiddenCharacters = capabilities.forbidden_filename_characters ?? window._oc_config?.forbidden_filenames_characters ?? [\"/\", \"\\\\\"];\n  for (const character of forbiddenCharacters) {\n    if (filename.includes(character)) {\n      throw new InvalidFilenameError({ segment: character, reason: \"character\", filename });\n    }\n  }\n  filename = filename.toLocaleLowerCase();\n  const forbiddenFilenames = capabilities.forbidden_filenames ?? [\".htaccess\"];\n  if (forbiddenFilenames.includes(filename)) {\n    throw new InvalidFilenameError({\n      filename,\n      segment: filename,\n      reason: \"reserved name\"\n      /* ReservedName */\n    });\n  }\n  const endOfBasename = filename.indexOf(\".\", 1);\n  const basename2 = filename.substring(0, endOfBasename === -1 ? void 0 : endOfBasename);\n  const forbiddenFilenameBasenames = capabilities.forbidden_filename_basenames ?? [];\n  if (forbiddenFilenameBasenames.includes(basename2)) {\n    throw new InvalidFilenameError({\n      filename,\n      segment: basename2,\n      reason: \"reserved name\"\n      /* ReservedName */\n    });\n  }\n  const forbiddenFilenameExtensions = capabilities.forbidden_filename_extensions ?? [\".part\", \".filepart\"];\n  for (const extension of forbiddenFilenameExtensions) {\n    if (filename.length > extension.length && filename.endsWith(extension)) {\n      throw new InvalidFilenameError({ segment: extension, reason: \"extension\", filename });\n    }\n  }\n}\nfunction isFilenameValid(filename) {\n  try {\n    validateFilename(filename);\n    return true;\n  } catch (error) {\n    if (error instanceof InvalidFilenameError) {\n      return false;\n    }\n    throw error;\n  }\n}\nfunction getUniqueName(name, otherNames, options) {\n  const opts = {\n    suffix: (n2) => `(${n2})`,\n    ignoreFileExtension: false,\n    ...options\n  };\n  let newName = name;\n  let i2 = 1;\n  while (otherNames.includes(newName)) {\n    const ext = opts.ignoreFileExtension ? \"\" : extname(name);\n    const base = basename(name, ext);\n    newName = `${base} ${opts.suffix(i2++)}${ext}`;\n  }\n  return newName;\n}\nconst humanList = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\nconst humanListBinary = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\"];\nfunction formatFileSize(size, skipSmallSizes = false, binaryPrefixes = false, base1000 = false) {\n  binaryPrefixes = binaryPrefixes && !base1000;\n  if (typeof size === \"string\") {\n    size = Number(size);\n  }\n  let order = size > 0 ? Math.floor(Math.log(size) / Math.log(base1000 ? 1e3 : 1024)) : 0;\n  order = Math.min((binaryPrefixes ? humanListBinary.length : humanList.length) - 1, order);\n  const readableFormat = binaryPrefixes ? humanListBinary[order] : humanList[order];\n  let relativeSize = (size / Math.pow(base1000 ? 1e3 : 1024, order)).toFixed(1);\n  if (skipSmallSizes === true && order === 0) {\n    return (relativeSize !== \"0.0\" ? \"< 1 \" : \"0 \") + (binaryPrefixes ? humanListBinary[1] : humanList[1]);\n  }\n  if (order < 2) {\n    relativeSize = parseFloat(relativeSize).toFixed(0);\n  } else {\n    relativeSize = parseFloat(relativeSize).toLocaleString(getCanonicalLocale());\n  }\n  return relativeSize + \" \" + readableFormat;\n}\nfunction parseFileSize(value, forceBinary = false) {\n  try {\n    value = `${value}`.toLocaleLowerCase().replaceAll(/\\s+/g, \"\").replaceAll(\",\", \".\");\n  } catch (e2) {\n    return null;\n  }\n  const match = value.match(/^([0-9]*(\\.[0-9]*)?)([kmgtp]?)(i?)b?$/);\n  if (match === null || match[1] === \".\" || match[1] === \"\") {\n    return null;\n  }\n  const bytesArray = {\n    \"\": 0,\n    k: 1,\n    m: 2,\n    g: 3,\n    t: 4,\n    p: 5,\n    e: 6\n  };\n  const decimalString = `${match[1]}`;\n  const base = match[4] === \"i\" || forceBinary ? 1024 : 1e3;\n  return Math.round(Number.parseFloat(decimalString) * base ** bytesArray[match[3]]);\n}\nfunction stringify(value) {\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  return String(value);\n}\nfunction orderBy(collection, identifiers2, orders) {\n  identifiers2 = identifiers2 ?? [(value) => value];\n  orders = orders ?? [];\n  const sorting = identifiers2.map((_, index) => (orders[index] ?? \"asc\") === \"asc\" ? 1 : -1);\n  const collator = Intl.Collator(\n    [getLanguage(), getCanonicalLocale()],\n    {\n      // handle 10 as ten and not as one-zero\n      numeric: true,\n      usage: \"sort\"\n    }\n  );\n  return [...collection].sort((a2, b2) => {\n    for (const [index, identifier] of identifiers2.entries()) {\n      const value = collator.compare(stringify(identifier(a2)), stringify(identifier(b2)));\n      if (value !== 0) {\n        return value * sorting[index];\n      }\n    }\n    return 0;\n  });\n}\nvar FilesSortingMode = /* @__PURE__ */ ((FilesSortingMode2) => {\n  FilesSortingMode2[\"Name\"] = \"basename\";\n  FilesSortingMode2[\"Modified\"] = \"mtime\";\n  FilesSortingMode2[\"Size\"] = \"size\";\n  return FilesSortingMode2;\n})(FilesSortingMode || {});\nfunction sortNodes(nodes, options = {}) {\n  const sortingOptions = {\n    // Default to sort by name\n    sortingMode: \"basename\",\n    // Default to sort ascending\n    sortingOrder: \"asc\",\n    ...options\n  };\n  const basename2 = (name) => name.lastIndexOf(\".\") > 0 ? name.slice(0, name.lastIndexOf(\".\")) : name;\n  const identifiers2 = [\n    // 1: Sort favorites first if enabled\n    ...sortingOptions.sortFavoritesFirst ? [(v) => v.attributes?.favorite !== 1] : [],\n    // 2: Sort folders first if sorting by name\n    ...sortingOptions.sortFoldersFirst ? [(v) => v.type !== \"folder\"] : [],\n    // 3: Use sorting mode if NOT basename (to be able to use display name too)\n    ...sortingOptions.sortingMode !== \"basename\" ? [(v) => v[sortingOptions.sortingMode]] : [],\n    // 4: Use display name if available, fallback to name\n    (v) => basename2(v.displayname || v.attributes?.displayname || v.basename),\n    // 5: Finally, use basename if all previous sorting methods failed\n    (v) => v.basename\n  ];\n  const orders = [\n    // (for 1): always sort favorites before normal files\n    ...sortingOptions.sortFavoritesFirst ? [\"asc\"] : [],\n    // (for 2): always sort folders before files\n    ...sortingOptions.sortFoldersFirst ? [\"asc\"] : [],\n    // (for 3): Reverse if sorting by mtime as mtime higher means edited more recent -> lower\n    ...sortingOptions.sortingMode === \"mtime\" ? [sortingOptions.sortingOrder === \"asc\" ? \"desc\" : \"asc\"] : [],\n    // (also for 3 so make sure not to conflict with 2 and 3)\n    ...sortingOptions.sortingMode !== \"mtime\" && sortingOptions.sortingMode !== \"basename\" ? [sortingOptions.sortingOrder] : [],\n    // for 4: use configured sorting direction\n    sortingOptions.sortingOrder,\n    // for 5: use configured sorting direction\n    sortingOptions.sortingOrder\n  ];\n  return orderBy(nodes, identifiers2, orders);\n}\nclass Navigation extends TypedEventTarget {\n  _views = [];\n  _currentView = null;\n  /**\n   * Register a new view on the navigation\n   * @param view The view to register\n   * @throws `Error` is thrown if a view with the same id is already registered\n   */\n  register(view) {\n    if (this._views.find((search) => search.id === view.id)) {\n      throw new Error(`View id ${view.id} is already registered`);\n    }\n    this._views.push(view);\n    this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n  }\n  /**\n   * Remove a registered view\n   * @param id The id of the view to remove\n   */\n  remove(id) {\n    const index = this._views.findIndex((view) => view.id === id);\n    if (index !== -1) {\n      this._views.splice(index, 1);\n      this.dispatchTypedEvent(\"update\", new CustomEvent(\"update\"));\n    }\n  }\n  /**\n   * Set the currently active view\n   * @fires UpdateActiveViewEvent\n   * @param view New active view\n   */\n  setActive(view) {\n    this._currentView = view;\n    const event = new CustomEvent(\"updateActive\", { detail: view });\n    this.dispatchTypedEvent(\"updateActive\", event);\n  }\n  /**\n   * The currently active files view\n   */\n  get active() {\n    return this._currentView;\n  }\n  /**\n   * All registered views\n   */\n  get views() {\n    return this._views;\n  }\n}\nconst getNavigation = function() {\n  if (typeof window._nc_navigation === \"undefined\") {\n    window._nc_navigation = new Navigation();\n    logger.debug(\"Navigation service initialized\");\n  }\n  return window._nc_navigation;\n};\nclass Column {\n  _column;\n  constructor(column) {\n    isValidColumn(column);\n    this._column = column;\n  }\n  get id() {\n    return this._column.id;\n  }\n  get title() {\n    return this._column.title;\n  }\n  get render() {\n    return this._column.render;\n  }\n  get sort() {\n    return this._column.sort;\n  }\n  get summary() {\n    return this._column.summary;\n  }\n}\nconst isValidColumn = function(column) {\n  if (!column.id || typeof column.id !== \"string\") {\n    throw new Error(\"A column id is required\");\n  }\n  if (!column.title || typeof column.title !== \"string\") {\n    throw new Error(\"A column title is required\");\n  }\n  if (!column.render || typeof column.render !== \"function\") {\n    throw new Error(\"A render function is required\");\n  }\n  if (column.sort && typeof column.sort !== \"function\") {\n    throw new Error(\"Column sortFunction must be a function\");\n  }\n  if (column.summary && typeof column.summary !== \"function\") {\n    throw new Error(\"Column summary must be a function\");\n  }\n  return true;\n};\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nvar validator = {};\nvar util = {};\nvar hasRequiredUtil;\nfunction requireUtil() {\n  if (hasRequiredUtil) return util;\n  hasRequiredUtil = 1;\n  (function(exports) {\n    const nameStartChar = \":A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n    const nameChar = nameStartChar + \"\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n    const nameRegexp = \"[\" + nameStartChar + \"][\" + nameChar + \"]*\";\n    const regexName = new RegExp(\"^\" + nameRegexp + \"$\");\n    const getAllMatches = function(string, regex) {\n      const matches = [];\n      let match = regex.exec(string);\n      while (match) {\n        const allmatches = [];\n        allmatches.startIndex = regex.lastIndex - match[0].length;\n        const len = match.length;\n        for (let index = 0; index < len; index++) {\n          allmatches.push(match[index]);\n        }\n        matches.push(allmatches);\n        match = regex.exec(string);\n      }\n      return matches;\n    };\n    const isName = function(string) {\n      const match = regexName.exec(string);\n      return !(match === null || typeof match === \"undefined\");\n    };\n    exports.isExist = function(v) {\n      return typeof v !== \"undefined\";\n    };\n    exports.isEmptyObject = function(obj) {\n      return Object.keys(obj).length === 0;\n    };\n    exports.merge = function(target, a2, arrayMode) {\n      if (a2) {\n        const keys = Object.keys(a2);\n        const len = keys.length;\n        for (let i2 = 0; i2 < len; i2++) {\n          if (arrayMode === \"strict\") {\n            target[keys[i2]] = [a2[keys[i2]]];\n          } else {\n            target[keys[i2]] = a2[keys[i2]];\n          }\n        }\n      }\n    };\n    exports.getValue = function(v) {\n      if (exports.isExist(v)) {\n        return v;\n      } else {\n        return \"\";\n      }\n    };\n    exports.isName = isName;\n    exports.getAllMatches = getAllMatches;\n    exports.nameRegexp = nameRegexp;\n  })(util);\n  return util;\n}\nvar hasRequiredValidator;\nfunction requireValidator() {\n  if (hasRequiredValidator) return validator;\n  hasRequiredValidator = 1;\n  const util2 = requireUtil();\n  const defaultOptions = {\n    allowBooleanAttributes: false,\n    //A tag can have attributes without any value\n    unpairedTags: []\n  };\n  validator.validate = function(xmlData, options) {\n    options = Object.assign({}, defaultOptions, options);\n    const tags = [];\n    let tagFound = false;\n    let reachedRoot = false;\n    if (xmlData[0] === \"\\uFEFF\") {\n      xmlData = xmlData.substr(1);\n    }\n    for (let i2 = 0; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === \"<\" && xmlData[i2 + 1] === \"?\") {\n        i2 += 2;\n        i2 = readPI(xmlData, i2);\n        if (i2.err) return i2;\n      } else if (xmlData[i2] === \"<\") {\n        let tagStartPos = i2;\n        i2++;\n        if (xmlData[i2] === \"!\") {\n          i2 = readCommentAndCDATA(xmlData, i2);\n          continue;\n        } else {\n          let closingTag = false;\n          if (xmlData[i2] === \"/\") {\n            closingTag = true;\n            i2++;\n          }\n          let tagName = \"\";\n          for (; i2 < xmlData.length && xmlData[i2] !== \">\" && xmlData[i2] !== \" \" && xmlData[i2] !== \"\t\" && xmlData[i2] !== \"\\n\" && xmlData[i2] !== \"\\r\"; i2++) {\n            tagName += xmlData[i2];\n          }\n          tagName = tagName.trim();\n          if (tagName[tagName.length - 1] === \"/\") {\n            tagName = tagName.substring(0, tagName.length - 1);\n            i2--;\n          }\n          if (!validateTagName(tagName)) {\n            let msg;\n            if (tagName.trim().length === 0) {\n              msg = \"Invalid space after '<'.\";\n            } else {\n              msg = \"Tag '\" + tagName + \"' is an invalid name.\";\n            }\n            return getErrorObject(\"InvalidTag\", msg, getLineNumberForPosition(xmlData, i2));\n          }\n          const result = readAttributeStr(xmlData, i2);\n          if (result === false) {\n            return getErrorObject(\"InvalidAttr\", \"Attributes for '\" + tagName + \"' have open quote.\", getLineNumberForPosition(xmlData, i2));\n          }\n          let attrStr = result.value;\n          i2 = result.index;\n          if (attrStr[attrStr.length - 1] === \"/\") {\n            const attrStrStart = i2 - attrStr.length;\n            attrStr = attrStr.substring(0, attrStr.length - 1);\n            const isValid = validateAttributeString(attrStr, options);\n            if (isValid === true) {\n              tagFound = true;\n            } else {\n              return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, attrStrStart + isValid.err.line));\n            }\n          } else if (closingTag) {\n            if (!result.tagClosed) {\n              return getErrorObject(\"InvalidTag\", \"Closing tag '\" + tagName + \"' doesn't have proper closing.\", getLineNumberForPosition(xmlData, i2));\n            } else if (attrStr.trim().length > 0) {\n              return getErrorObject(\"InvalidTag\", \"Closing tag '\" + tagName + \"' can't have attributes or invalid starting.\", getLineNumberForPosition(xmlData, tagStartPos));\n            } else if (tags.length === 0) {\n              return getErrorObject(\"InvalidTag\", \"Closing tag '\" + tagName + \"' has not been opened.\", getLineNumberForPosition(xmlData, tagStartPos));\n            } else {\n              const otg = tags.pop();\n              if (tagName !== otg.tagName) {\n                let openPos = getLineNumberForPosition(xmlData, otg.tagStartPos);\n                return getErrorObject(\n                  \"InvalidTag\",\n                  \"Expected closing tag '\" + otg.tagName + \"' (opened in line \" + openPos.line + \", col \" + openPos.col + \") instead of closing tag '\" + tagName + \"'.\",\n                  getLineNumberForPosition(xmlData, tagStartPos)\n                );\n              }\n              if (tags.length == 0) {\n                reachedRoot = true;\n              }\n            }\n          } else {\n            const isValid = validateAttributeString(attrStr, options);\n            if (isValid !== true) {\n              return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i2 - attrStr.length + isValid.err.line));\n            }\n            if (reachedRoot === true) {\n              return getErrorObject(\"InvalidXml\", \"Multiple possible root nodes found.\", getLineNumberForPosition(xmlData, i2));\n            } else if (options.unpairedTags.indexOf(tagName) !== -1) ;\n            else {\n              tags.push({ tagName, tagStartPos });\n            }\n            tagFound = true;\n          }\n          for (i2++; i2 < xmlData.length; i2++) {\n            if (xmlData[i2] === \"<\") {\n              if (xmlData[i2 + 1] === \"!\") {\n                i2++;\n                i2 = readCommentAndCDATA(xmlData, i2);\n                continue;\n              } else if (xmlData[i2 + 1] === \"?\") {\n                i2 = readPI(xmlData, ++i2);\n                if (i2.err) return i2;\n              } else {\n                break;\n              }\n            } else if (xmlData[i2] === \"&\") {\n              const afterAmp = validateAmpersand(xmlData, i2);\n              if (afterAmp == -1)\n                return getErrorObject(\"InvalidChar\", \"char '&' is not expected.\", getLineNumberForPosition(xmlData, i2));\n              i2 = afterAmp;\n            } else {\n              if (reachedRoot === true && !isWhiteSpace(xmlData[i2])) {\n                return getErrorObject(\"InvalidXml\", \"Extra text at the end\", getLineNumberForPosition(xmlData, i2));\n              }\n            }\n          }\n          if (xmlData[i2] === \"<\") {\n            i2--;\n          }\n        }\n      } else {\n        if (isWhiteSpace(xmlData[i2])) {\n          continue;\n        }\n        return getErrorObject(\"InvalidChar\", \"char '\" + xmlData[i2] + \"' is not expected.\", getLineNumberForPosition(xmlData, i2));\n      }\n    }\n    if (!tagFound) {\n      return getErrorObject(\"InvalidXml\", \"Start tag expected.\", 1);\n    } else if (tags.length == 1) {\n      return getErrorObject(\"InvalidTag\", \"Unclosed tag '\" + tags[0].tagName + \"'.\", getLineNumberForPosition(xmlData, tags[0].tagStartPos));\n    } else if (tags.length > 0) {\n      return getErrorObject(\"InvalidXml\", \"Invalid '\" + JSON.stringify(tags.map((t2) => t2.tagName), null, 4).replace(/\\r?\\n/g, \"\") + \"' found.\", { line: 1, col: 1 });\n    }\n    return true;\n  };\n  function isWhiteSpace(char) {\n    return char === \" \" || char === \"\t\" || char === \"\\n\" || char === \"\\r\";\n  }\n  function readPI(xmlData, i2) {\n    const start = i2;\n    for (; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] == \"?\" || xmlData[i2] == \" \") {\n        const tagname = xmlData.substr(start, i2 - start);\n        if (i2 > 5 && tagname === \"xml\") {\n          return getErrorObject(\"InvalidXml\", \"XML declaration allowed only at the start of the document.\", getLineNumberForPosition(xmlData, i2));\n        } else if (xmlData[i2] == \"?\" && xmlData[i2 + 1] == \">\") {\n          i2++;\n          break;\n        } else {\n          continue;\n        }\n      }\n    }\n    return i2;\n  }\n  function readCommentAndCDATA(xmlData, i2) {\n    if (xmlData.length > i2 + 5 && xmlData[i2 + 1] === \"-\" && xmlData[i2 + 2] === \"-\") {\n      for (i2 += 3; i2 < xmlData.length; i2++) {\n        if (xmlData[i2] === \"-\" && xmlData[i2 + 1] === \"-\" && xmlData[i2 + 2] === \">\") {\n          i2 += 2;\n          break;\n        }\n      }\n    } else if (xmlData.length > i2 + 8 && xmlData[i2 + 1] === \"D\" && xmlData[i2 + 2] === \"O\" && xmlData[i2 + 3] === \"C\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"Y\" && xmlData[i2 + 6] === \"P\" && xmlData[i2 + 7] === \"E\") {\n      let angleBracketsCount = 1;\n      for (i2 += 8; i2 < xmlData.length; i2++) {\n        if (xmlData[i2] === \"<\") {\n          angleBracketsCount++;\n        } else if (xmlData[i2] === \">\") {\n          angleBracketsCount--;\n          if (angleBracketsCount === 0) {\n            break;\n          }\n        }\n      }\n    } else if (xmlData.length > i2 + 9 && xmlData[i2 + 1] === \"[\" && xmlData[i2 + 2] === \"C\" && xmlData[i2 + 3] === \"D\" && xmlData[i2 + 4] === \"A\" && xmlData[i2 + 5] === \"T\" && xmlData[i2 + 6] === \"A\" && xmlData[i2 + 7] === \"[\") {\n      for (i2 += 8; i2 < xmlData.length; i2++) {\n        if (xmlData[i2] === \"]\" && xmlData[i2 + 1] === \"]\" && xmlData[i2 + 2] === \">\") {\n          i2 += 2;\n          break;\n        }\n      }\n    }\n    return i2;\n  }\n  const doubleQuote = '\"';\n  const singleQuote = \"'\";\n  function readAttributeStr(xmlData, i2) {\n    let attrStr = \"\";\n    let startChar = \"\";\n    let tagClosed = false;\n    for (; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === doubleQuote || xmlData[i2] === singleQuote) {\n        if (startChar === \"\") {\n          startChar = xmlData[i2];\n        } else if (startChar !== xmlData[i2]) ;\n        else {\n          startChar = \"\";\n        }\n      } else if (xmlData[i2] === \">\") {\n        if (startChar === \"\") {\n          tagClosed = true;\n          break;\n        }\n      }\n      attrStr += xmlData[i2];\n    }\n    if (startChar !== \"\") {\n      return false;\n    }\n    return {\n      value: attrStr,\n      index: i2,\n      tagClosed\n    };\n  }\n  const validAttrStrRegxp = new RegExp(`(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*(['\"])(([\\\\s\\\\S])*?)\\\\5)?`, \"g\");\n  function validateAttributeString(attrStr, options) {\n    const matches = util2.getAllMatches(attrStr, validAttrStrRegxp);\n    const attrNames = {};\n    for (let i2 = 0; i2 < matches.length; i2++) {\n      if (matches[i2][1].length === 0) {\n        return getErrorObject(\"InvalidAttr\", \"Attribute '\" + matches[i2][2] + \"' has no space in starting.\", getPositionFromMatch(matches[i2]));\n      } else if (matches[i2][3] !== void 0 && matches[i2][4] === void 0) {\n        return getErrorObject(\"InvalidAttr\", \"Attribute '\" + matches[i2][2] + \"' is without value.\", getPositionFromMatch(matches[i2]));\n      } else if (matches[i2][3] === void 0 && !options.allowBooleanAttributes) {\n        return getErrorObject(\"InvalidAttr\", \"boolean attribute '\" + matches[i2][2] + \"' is not allowed.\", getPositionFromMatch(matches[i2]));\n      }\n      const attrName = matches[i2][2];\n      if (!validateAttrName(attrName)) {\n        return getErrorObject(\"InvalidAttr\", \"Attribute '\" + attrName + \"' is an invalid name.\", getPositionFromMatch(matches[i2]));\n      }\n      if (!attrNames.hasOwnProperty(attrName)) {\n        attrNames[attrName] = 1;\n      } else {\n        return getErrorObject(\"InvalidAttr\", \"Attribute '\" + attrName + \"' is repeated.\", getPositionFromMatch(matches[i2]));\n      }\n    }\n    return true;\n  }\n  function validateNumberAmpersand(xmlData, i2) {\n    let re2 = /\\d/;\n    if (xmlData[i2] === \"x\") {\n      i2++;\n      re2 = /[\\da-fA-F]/;\n    }\n    for (; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === \";\")\n        return i2;\n      if (!xmlData[i2].match(re2))\n        break;\n    }\n    return -1;\n  }\n  function validateAmpersand(xmlData, i2) {\n    i2++;\n    if (xmlData[i2] === \";\")\n      return -1;\n    if (xmlData[i2] === \"#\") {\n      i2++;\n      return validateNumberAmpersand(xmlData, i2);\n    }\n    let count = 0;\n    for (; i2 < xmlData.length; i2++, count++) {\n      if (xmlData[i2].match(/\\w/) && count < 20)\n        continue;\n      if (xmlData[i2] === \";\")\n        break;\n      return -1;\n    }\n    return i2;\n  }\n  function getErrorObject(code, message, lineNumber) {\n    return {\n      err: {\n        code,\n        msg: message,\n        line: lineNumber.line || lineNumber,\n        col: lineNumber.col\n      }\n    };\n  }\n  function validateAttrName(attrName) {\n    return util2.isName(attrName);\n  }\n  function validateTagName(tagname) {\n    return util2.isName(tagname);\n  }\n  function getLineNumberForPosition(xmlData, index) {\n    const lines = xmlData.substring(0, index).split(/\\r?\\n/);\n    return {\n      line: lines.length,\n      // column number is last line's length + 1, because column numbering starts at 1:\n      col: lines[lines.length - 1].length + 1\n    };\n  }\n  function getPositionFromMatch(match) {\n    return match.startIndex + match[1].length;\n  }\n  return validator;\n}\nvar OptionsBuilder = {};\nvar hasRequiredOptionsBuilder;\nfunction requireOptionsBuilder() {\n  if (hasRequiredOptionsBuilder) return OptionsBuilder;\n  hasRequiredOptionsBuilder = 1;\n  const defaultOptions = {\n    preserveOrder: false,\n    attributeNamePrefix: \"@_\",\n    attributesGroupName: false,\n    textNodeName: \"#text\",\n    ignoreAttributes: true,\n    removeNSPrefix: false,\n    // remove NS from tag name or attribute name if true\n    allowBooleanAttributes: false,\n    //a tag can have attributes without any value\n    //ignoreRootElement : false,\n    parseTagValue: true,\n    parseAttributeValue: false,\n    trimValues: true,\n    //Trim string values of tag and attributes\n    cdataPropName: false,\n    numberParseOptions: {\n      hex: true,\n      leadingZeros: true,\n      eNotation: true\n    },\n    tagValueProcessor: function(tagName, val) {\n      return val;\n    },\n    attributeValueProcessor: function(attrName, val) {\n      return val;\n    },\n    stopNodes: [],\n    //nested tags will not be parsed even for errors\n    alwaysCreateTextNode: false,\n    isArray: () => false,\n    commentPropName: false,\n    unpairedTags: [],\n    processEntities: true,\n    htmlEntities: false,\n    ignoreDeclaration: false,\n    ignorePiTags: false,\n    transformTagName: false,\n    transformAttributeName: false,\n    updateTag: function(tagName, jPath, attrs) {\n      return tagName;\n    }\n    // skipEmptyListItem: false\n  };\n  const buildOptions = function(options) {\n    return Object.assign({}, defaultOptions, options);\n  };\n  OptionsBuilder.buildOptions = buildOptions;\n  OptionsBuilder.defaultOptions = defaultOptions;\n  return OptionsBuilder;\n}\nvar xmlNode;\nvar hasRequiredXmlNode;\nfunction requireXmlNode() {\n  if (hasRequiredXmlNode) return xmlNode;\n  hasRequiredXmlNode = 1;\n  class XmlNode {\n    constructor(tagname) {\n      this.tagname = tagname;\n      this.child = [];\n      this[\":@\"] = {};\n    }\n    add(key, val) {\n      if (key === \"__proto__\") key = \"#__proto__\";\n      this.child.push({ [key]: val });\n    }\n    addChild(node) {\n      if (node.tagname === \"__proto__\") node.tagname = \"#__proto__\";\n      if (node[\":@\"] && Object.keys(node[\":@\"]).length > 0) {\n        this.child.push({ [node.tagname]: node.child, [\":@\"]: node[\":@\"] });\n      } else {\n        this.child.push({ [node.tagname]: node.child });\n      }\n    }\n  }\n  xmlNode = XmlNode;\n  return xmlNode;\n}\nvar DocTypeReader;\nvar hasRequiredDocTypeReader;\nfunction requireDocTypeReader() {\n  if (hasRequiredDocTypeReader) return DocTypeReader;\n  hasRequiredDocTypeReader = 1;\n  const util2 = requireUtil();\n  function readDocType(xmlData, i2) {\n    const entities = {};\n    if (xmlData[i2 + 3] === \"O\" && xmlData[i2 + 4] === \"C\" && xmlData[i2 + 5] === \"T\" && xmlData[i2 + 6] === \"Y\" && xmlData[i2 + 7] === \"P\" && xmlData[i2 + 8] === \"E\") {\n      i2 = i2 + 9;\n      let angleBracketsCount = 1;\n      let hasBody = false, comment = false;\n      let exp = \"\";\n      for (; i2 < xmlData.length; i2++) {\n        if (xmlData[i2] === \"<\" && !comment) {\n          if (hasBody && isEntity(xmlData, i2)) {\n            i2 += 7;\n            let entityName, val;\n            [entityName, val, i2] = readEntityExp(xmlData, i2 + 1);\n            if (val.indexOf(\"&\") === -1)\n              entities[validateEntityName(entityName)] = {\n                regx: RegExp(`&${entityName};`, \"g\"),\n                val\n              };\n          } else if (hasBody && isElement(xmlData, i2)) i2 += 8;\n          else if (hasBody && isAttlist(xmlData, i2)) i2 += 8;\n          else if (hasBody && isNotation(xmlData, i2)) i2 += 9;\n          else comment = true;\n          angleBracketsCount++;\n          exp = \"\";\n        } else if (xmlData[i2] === \">\") {\n          if (comment) {\n            if (xmlData[i2 - 1] === \"-\" && xmlData[i2 - 2] === \"-\") {\n              comment = false;\n              angleBracketsCount--;\n            }\n          } else {\n            angleBracketsCount--;\n          }\n          if (angleBracketsCount === 0) {\n            break;\n          }\n        } else if (xmlData[i2] === \"[\") {\n          hasBody = true;\n        } else {\n          exp += xmlData[i2];\n        }\n      }\n      if (angleBracketsCount !== 0) {\n        throw new Error(`Unclosed DOCTYPE`);\n      }\n    } else {\n      throw new Error(`Invalid Tag instead of DOCTYPE`);\n    }\n    return { entities, i: i2 };\n  }\n  function readEntityExp(xmlData, i2) {\n    let entityName = \"\";\n    for (; i2 < xmlData.length && (xmlData[i2] !== \"'\" && xmlData[i2] !== '\"'); i2++) {\n      entityName += xmlData[i2];\n    }\n    entityName = entityName.trim();\n    if (entityName.indexOf(\" \") !== -1) throw new Error(\"External entites are not supported\");\n    const startChar = xmlData[i2++];\n    let val = \"\";\n    for (; i2 < xmlData.length && xmlData[i2] !== startChar; i2++) {\n      val += xmlData[i2];\n    }\n    return [entityName, val, i2];\n  }\n  function isEntity(xmlData, i2) {\n    if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"E\" && xmlData[i2 + 3] === \"N\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"I\" && xmlData[i2 + 6] === \"T\" && xmlData[i2 + 7] === \"Y\") return true;\n    return false;\n  }\n  function isElement(xmlData, i2) {\n    if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"E\" && xmlData[i2 + 3] === \"L\" && xmlData[i2 + 4] === \"E\" && xmlData[i2 + 5] === \"M\" && xmlData[i2 + 6] === \"E\" && xmlData[i2 + 7] === \"N\" && xmlData[i2 + 8] === \"T\") return true;\n    return false;\n  }\n  function isAttlist(xmlData, i2) {\n    if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"A\" && xmlData[i2 + 3] === \"T\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"L\" && xmlData[i2 + 6] === \"I\" && xmlData[i2 + 7] === \"S\" && xmlData[i2 + 8] === \"T\") return true;\n    return false;\n  }\n  function isNotation(xmlData, i2) {\n    if (xmlData[i2 + 1] === \"!\" && xmlData[i2 + 2] === \"N\" && xmlData[i2 + 3] === \"O\" && xmlData[i2 + 4] === \"T\" && xmlData[i2 + 5] === \"A\" && xmlData[i2 + 6] === \"T\" && xmlData[i2 + 7] === \"I\" && xmlData[i2 + 8] === \"O\" && xmlData[i2 + 9] === \"N\") return true;\n    return false;\n  }\n  function validateEntityName(name) {\n    if (util2.isName(name))\n      return name;\n    else\n      throw new Error(`Invalid entity name ${name}`);\n  }\n  DocTypeReader = readDocType;\n  return DocTypeReader;\n}\nvar strnum;\nvar hasRequiredStrnum;\nfunction requireStrnum() {\n  if (hasRequiredStrnum) return strnum;\n  hasRequiredStrnum = 1;\n  const hexRegex = /^[-+]?0x[a-fA-F0-9]+$/;\n  const numRegex = /^([\\-\\+])?(0*)(\\.[0-9]+([eE]\\-?[0-9]+)?|[0-9]+(\\.[0-9]+([eE]\\-?[0-9]+)?)?)$/;\n  if (!Number.parseInt && window.parseInt) {\n    Number.parseInt = window.parseInt;\n  }\n  if (!Number.parseFloat && window.parseFloat) {\n    Number.parseFloat = window.parseFloat;\n  }\n  const consider = {\n    hex: true,\n    leadingZeros: true,\n    decimalPoint: \".\",\n    eNotation: true\n    //skipLike: /regex/\n  };\n  function toNumber(str, options = {}) {\n    options = Object.assign({}, consider, options);\n    if (!str || typeof str !== \"string\") return str;\n    let trimmedStr = str.trim();\n    if (options.skipLike !== void 0 && options.skipLike.test(trimmedStr)) return str;\n    else if (options.hex && hexRegex.test(trimmedStr)) {\n      return Number.parseInt(trimmedStr, 16);\n    } else {\n      const match = numRegex.exec(trimmedStr);\n      if (match) {\n        const sign = match[1];\n        const leadingZeros = match[2];\n        let numTrimmedByZeros = trimZeros(match[3]);\n        const eNotation = match[4] || match[6];\n        if (!options.leadingZeros && leadingZeros.length > 0 && sign && trimmedStr[2] !== \".\") return str;\n        else if (!options.leadingZeros && leadingZeros.length > 0 && !sign && trimmedStr[1] !== \".\") return str;\n        else {\n          const num = Number(trimmedStr);\n          const numStr = \"\" + num;\n          if (numStr.search(/[eE]/) !== -1) {\n            if (options.eNotation) return num;\n            else return str;\n          } else if (eNotation) {\n            if (options.eNotation) return num;\n            else return str;\n          } else if (trimmedStr.indexOf(\".\") !== -1) {\n            if (numStr === \"0\" && numTrimmedByZeros === \"\") return num;\n            else if (numStr === numTrimmedByZeros) return num;\n            else if (sign && numStr === \"-\" + numTrimmedByZeros) return num;\n            else return str;\n          }\n          if (leadingZeros) {\n            if (numTrimmedByZeros === numStr) return num;\n            else if (sign + numTrimmedByZeros === numStr) return num;\n            else return str;\n          }\n          if (trimmedStr === numStr) return num;\n          else if (trimmedStr === sign + numStr) return num;\n          return str;\n        }\n      } else {\n        return str;\n      }\n    }\n  }\n  function trimZeros(numStr) {\n    if (numStr && numStr.indexOf(\".\") !== -1) {\n      numStr = numStr.replace(/0+$/, \"\");\n      if (numStr === \".\") numStr = \"0\";\n      else if (numStr[0] === \".\") numStr = \"0\" + numStr;\n      else if (numStr[numStr.length - 1] === \".\") numStr = numStr.substr(0, numStr.length - 1);\n      return numStr;\n    }\n    return numStr;\n  }\n  strnum = toNumber;\n  return strnum;\n}\nvar ignoreAttributes;\nvar hasRequiredIgnoreAttributes;\nfunction requireIgnoreAttributes() {\n  if (hasRequiredIgnoreAttributes) return ignoreAttributes;\n  hasRequiredIgnoreAttributes = 1;\n  function getIgnoreAttributesFn(ignoreAttributes2) {\n    if (typeof ignoreAttributes2 === \"function\") {\n      return ignoreAttributes2;\n    }\n    if (Array.isArray(ignoreAttributes2)) {\n      return (attrName) => {\n        for (const pattern of ignoreAttributes2) {\n          if (typeof pattern === \"string\" && attrName === pattern) {\n            return true;\n          }\n          if (pattern instanceof RegExp && pattern.test(attrName)) {\n            return true;\n          }\n        }\n      };\n    }\n    return () => false;\n  }\n  ignoreAttributes = getIgnoreAttributesFn;\n  return ignoreAttributes;\n}\nvar OrderedObjParser_1;\nvar hasRequiredOrderedObjParser;\nfunction requireOrderedObjParser() {\n  if (hasRequiredOrderedObjParser) return OrderedObjParser_1;\n  hasRequiredOrderedObjParser = 1;\n  const util2 = requireUtil();\n  const xmlNode2 = requireXmlNode();\n  const readDocType = requireDocTypeReader();\n  const toNumber = requireStrnum();\n  const getIgnoreAttributesFn = requireIgnoreAttributes();\n  class OrderedObjParser {\n    constructor(options) {\n      this.options = options;\n      this.currentNode = null;\n      this.tagsNodeStack = [];\n      this.docTypeEntities = {};\n      this.lastEntities = {\n        \"apos\": { regex: /&(apos|#39|#x27);/g, val: \"'\" },\n        \"gt\": { regex: /&(gt|#62|#x3E);/g, val: \">\" },\n        \"lt\": { regex: /&(lt|#60|#x3C);/g, val: \"<\" },\n        \"quot\": { regex: /&(quot|#34|#x22);/g, val: '\"' }\n      };\n      this.ampEntity = { regex: /&(amp|#38|#x26);/g, val: \"&\" };\n      this.htmlEntities = {\n        \"space\": { regex: /&(nbsp|#160);/g, val: \" \" },\n        // \"lt\" : { regex: /&(lt|#60);/g, val: \"<\" },\n        // \"gt\" : { regex: /&(gt|#62);/g, val: \">\" },\n        // \"amp\" : { regex: /&(amp|#38);/g, val: \"&\" },\n        // \"quot\" : { regex: /&(quot|#34);/g, val: \"\\\"\" },\n        // \"apos\" : { regex: /&(apos|#39);/g, val: \"'\" },\n        \"cent\": { regex: /&(cent|#162);/g, val: \"¢\" },\n        \"pound\": { regex: /&(pound|#163);/g, val: \"£\" },\n        \"yen\": { regex: /&(yen|#165);/g, val: \"¥\" },\n        \"euro\": { regex: /&(euro|#8364);/g, val: \"€\" },\n        \"copyright\": { regex: /&(copy|#169);/g, val: \"©\" },\n        \"reg\": { regex: /&(reg|#174);/g, val: \"®\" },\n        \"inr\": { regex: /&(inr|#8377);/g, val: \"₹\" },\n        \"num_dec\": { regex: /&#([0-9]{1,7});/g, val: (_, str) => String.fromCharCode(Number.parseInt(str, 10)) },\n        \"num_hex\": { regex: /&#x([0-9a-fA-F]{1,6});/g, val: (_, str) => String.fromCharCode(Number.parseInt(str, 16)) }\n      };\n      this.addExternalEntities = addExternalEntities;\n      this.parseXml = parseXml;\n      this.parseTextData = parseTextData;\n      this.resolveNameSpace = resolveNameSpace;\n      this.buildAttributesMap = buildAttributesMap;\n      this.isItStopNode = isItStopNode;\n      this.replaceEntitiesValue = replaceEntitiesValue;\n      this.readStopNodeData = readStopNodeData;\n      this.saveTextToParentTag = saveTextToParentTag;\n      this.addChild = addChild;\n      this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes);\n    }\n  }\n  function addExternalEntities(externalEntities) {\n    const entKeys = Object.keys(externalEntities);\n    for (let i2 = 0; i2 < entKeys.length; i2++) {\n      const ent = entKeys[i2];\n      this.lastEntities[ent] = {\n        regex: new RegExp(\"&\" + ent + \";\", \"g\"),\n        val: externalEntities[ent]\n      };\n    }\n  }\n  function parseTextData(val, tagName, jPath, dontTrim, hasAttributes, isLeafNode, escapeEntities) {\n    if (val !== void 0) {\n      if (this.options.trimValues && !dontTrim) {\n        val = val.trim();\n      }\n      if (val.length > 0) {\n        if (!escapeEntities) val = this.replaceEntitiesValue(val);\n        const newval = this.options.tagValueProcessor(tagName, val, jPath, hasAttributes, isLeafNode);\n        if (newval === null || newval === void 0) {\n          return val;\n        } else if (typeof newval !== typeof val || newval !== val) {\n          return newval;\n        } else if (this.options.trimValues) {\n          return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n        } else {\n          const trimmedVal = val.trim();\n          if (trimmedVal === val) {\n            return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n          } else {\n            return val;\n          }\n        }\n      }\n    }\n  }\n  function resolveNameSpace(tagname) {\n    if (this.options.removeNSPrefix) {\n      const tags = tagname.split(\":\");\n      const prefix = tagname.charAt(0) === \"/\" ? \"/\" : \"\";\n      if (tags[0] === \"xmlns\") {\n        return \"\";\n      }\n      if (tags.length === 2) {\n        tagname = prefix + tags[1];\n      }\n    }\n    return tagname;\n  }\n  const attrsRegx = new RegExp(`([^\\\\s=]+)\\\\s*(=\\\\s*(['\"])([\\\\s\\\\S]*?)\\\\3)?`, \"gm\");\n  function buildAttributesMap(attrStr, jPath, tagName) {\n    if (this.options.ignoreAttributes !== true && typeof attrStr === \"string\") {\n      const matches = util2.getAllMatches(attrStr, attrsRegx);\n      const len = matches.length;\n      const attrs = {};\n      for (let i2 = 0; i2 < len; i2++) {\n        const attrName = this.resolveNameSpace(matches[i2][1]);\n        if (this.ignoreAttributesFn(attrName, jPath)) {\n          continue;\n        }\n        let oldVal = matches[i2][4];\n        let aName = this.options.attributeNamePrefix + attrName;\n        if (attrName.length) {\n          if (this.options.transformAttributeName) {\n            aName = this.options.transformAttributeName(aName);\n          }\n          if (aName === \"__proto__\") aName = \"#__proto__\";\n          if (oldVal !== void 0) {\n            if (this.options.trimValues) {\n              oldVal = oldVal.trim();\n            }\n            oldVal = this.replaceEntitiesValue(oldVal);\n            const newVal = this.options.attributeValueProcessor(attrName, oldVal, jPath);\n            if (newVal === null || newVal === void 0) {\n              attrs[aName] = oldVal;\n            } else if (typeof newVal !== typeof oldVal || newVal !== oldVal) {\n              attrs[aName] = newVal;\n            } else {\n              attrs[aName] = parseValue(\n                oldVal,\n                this.options.parseAttributeValue,\n                this.options.numberParseOptions\n              );\n            }\n          } else if (this.options.allowBooleanAttributes) {\n            attrs[aName] = true;\n          }\n        }\n      }\n      if (!Object.keys(attrs).length) {\n        return;\n      }\n      if (this.options.attributesGroupName) {\n        const attrCollection = {};\n        attrCollection[this.options.attributesGroupName] = attrs;\n        return attrCollection;\n      }\n      return attrs;\n    }\n  }\n  const parseXml = function(xmlData) {\n    xmlData = xmlData.replace(/\\r\\n?/g, \"\\n\");\n    const xmlObj = new xmlNode2(\"!xml\");\n    let currentNode = xmlObj;\n    let textData = \"\";\n    let jPath = \"\";\n    for (let i2 = 0; i2 < xmlData.length; i2++) {\n      const ch = xmlData[i2];\n      if (ch === \"<\") {\n        if (xmlData[i2 + 1] === \"/\") {\n          const closeIndex = findClosingIndex(xmlData, \">\", i2, \"Closing Tag is not closed.\");\n          let tagName = xmlData.substring(i2 + 2, closeIndex).trim();\n          if (this.options.removeNSPrefix) {\n            const colonIndex = tagName.indexOf(\":\");\n            if (colonIndex !== -1) {\n              tagName = tagName.substr(colonIndex + 1);\n            }\n          }\n          if (this.options.transformTagName) {\n            tagName = this.options.transformTagName(tagName);\n          }\n          if (currentNode) {\n            textData = this.saveTextToParentTag(textData, currentNode, jPath);\n          }\n          const lastTagName = jPath.substring(jPath.lastIndexOf(\".\") + 1);\n          if (tagName && this.options.unpairedTags.indexOf(tagName) !== -1) {\n            throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);\n          }\n          let propIndex = 0;\n          if (lastTagName && this.options.unpairedTags.indexOf(lastTagName) !== -1) {\n            propIndex = jPath.lastIndexOf(\".\", jPath.lastIndexOf(\".\") - 1);\n            this.tagsNodeStack.pop();\n          } else {\n            propIndex = jPath.lastIndexOf(\".\");\n          }\n          jPath = jPath.substring(0, propIndex);\n          currentNode = this.tagsNodeStack.pop();\n          textData = \"\";\n          i2 = closeIndex;\n        } else if (xmlData[i2 + 1] === \"?\") {\n          let tagData = readTagExp(xmlData, i2, false, \"?>\");\n          if (!tagData) throw new Error(\"Pi Tag is not closed.\");\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n          if (this.options.ignoreDeclaration && tagData.tagName === \"?xml\" || this.options.ignorePiTags) ;\n          else {\n            const childNode = new xmlNode2(tagData.tagName);\n            childNode.add(this.options.textNodeName, \"\");\n            if (tagData.tagName !== tagData.tagExp && tagData.attrExpPresent) {\n              childNode[\":@\"] = this.buildAttributesMap(tagData.tagExp, jPath, tagData.tagName);\n            }\n            this.addChild(currentNode, childNode, jPath);\n          }\n          i2 = tagData.closeIndex + 1;\n        } else if (xmlData.substr(i2 + 1, 3) === \"!--\") {\n          const endIndex = findClosingIndex(xmlData, \"-->\", i2 + 4, \"Comment is not closed.\");\n          if (this.options.commentPropName) {\n            const comment = xmlData.substring(i2 + 4, endIndex - 2);\n            textData = this.saveTextToParentTag(textData, currentNode, jPath);\n            currentNode.add(this.options.commentPropName, [{ [this.options.textNodeName]: comment }]);\n          }\n          i2 = endIndex;\n        } else if (xmlData.substr(i2 + 1, 2) === \"!D\") {\n          const result = readDocType(xmlData, i2);\n          this.docTypeEntities = result.entities;\n          i2 = result.i;\n        } else if (xmlData.substr(i2 + 1, 2) === \"![\") {\n          const closeIndex = findClosingIndex(xmlData, \"]]>\", i2, \"CDATA is not closed.\") - 2;\n          const tagExp = xmlData.substring(i2 + 9, closeIndex);\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n          let val = this.parseTextData(tagExp, currentNode.tagname, jPath, true, false, true, true);\n          if (val == void 0) val = \"\";\n          if (this.options.cdataPropName) {\n            currentNode.add(this.options.cdataPropName, [{ [this.options.textNodeName]: tagExp }]);\n          } else {\n            currentNode.add(this.options.textNodeName, val);\n          }\n          i2 = closeIndex + 2;\n        } else {\n          let result = readTagExp(xmlData, i2, this.options.removeNSPrefix);\n          let tagName = result.tagName;\n          const rawTagName = result.rawTagName;\n          let tagExp = result.tagExp;\n          let attrExpPresent = result.attrExpPresent;\n          let closeIndex = result.closeIndex;\n          if (this.options.transformTagName) {\n            tagName = this.options.transformTagName(tagName);\n          }\n          if (currentNode && textData) {\n            if (currentNode.tagname !== \"!xml\") {\n              textData = this.saveTextToParentTag(textData, currentNode, jPath, false);\n            }\n          }\n          const lastTag = currentNode;\n          if (lastTag && this.options.unpairedTags.indexOf(lastTag.tagname) !== -1) {\n            currentNode = this.tagsNodeStack.pop();\n            jPath = jPath.substring(0, jPath.lastIndexOf(\".\"));\n          }\n          if (tagName !== xmlObj.tagname) {\n            jPath += jPath ? \".\" + tagName : tagName;\n          }\n          if (this.isItStopNode(this.options.stopNodes, jPath, tagName)) {\n            let tagContent = \"\";\n            if (tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1) {\n              if (tagName[tagName.length - 1] === \"/\") {\n                tagName = tagName.substr(0, tagName.length - 1);\n                jPath = jPath.substr(0, jPath.length - 1);\n                tagExp = tagName;\n              } else {\n                tagExp = tagExp.substr(0, tagExp.length - 1);\n              }\n              i2 = result.closeIndex;\n            } else if (this.options.unpairedTags.indexOf(tagName) !== -1) {\n              i2 = result.closeIndex;\n            } else {\n              const result2 = this.readStopNodeData(xmlData, rawTagName, closeIndex + 1);\n              if (!result2) throw new Error(`Unexpected end of ${rawTagName}`);\n              i2 = result2.i;\n              tagContent = result2.tagContent;\n            }\n            const childNode = new xmlNode2(tagName);\n            if (tagName !== tagExp && attrExpPresent) {\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            if (tagContent) {\n              tagContent = this.parseTextData(tagContent, tagName, jPath, true, attrExpPresent, true, true);\n            }\n            jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n            childNode.add(this.options.textNodeName, tagContent);\n            this.addChild(currentNode, childNode, jPath);\n          } else {\n            if (tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1) {\n              if (tagName[tagName.length - 1] === \"/\") {\n                tagName = tagName.substr(0, tagName.length - 1);\n                jPath = jPath.substr(0, jPath.length - 1);\n                tagExp = tagName;\n              } else {\n                tagExp = tagExp.substr(0, tagExp.length - 1);\n              }\n              if (this.options.transformTagName) {\n                tagName = this.options.transformTagName(tagName);\n              }\n              const childNode = new xmlNode2(tagName);\n              if (tagName !== tagExp && attrExpPresent) {\n                childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n              }\n              this.addChild(currentNode, childNode, jPath);\n              jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n            } else {\n              const childNode = new xmlNode2(tagName);\n              this.tagsNodeStack.push(currentNode);\n              if (tagName !== tagExp && attrExpPresent) {\n                childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n              }\n              this.addChild(currentNode, childNode, jPath);\n              currentNode = childNode;\n            }\n            textData = \"\";\n            i2 = closeIndex;\n          }\n        }\n      } else {\n        textData += xmlData[i2];\n      }\n    }\n    return xmlObj.child;\n  };\n  function addChild(currentNode, childNode, jPath) {\n    const result = this.options.updateTag(childNode.tagname, jPath, childNode[\":@\"]);\n    if (result === false) ;\n    else if (typeof result === \"string\") {\n      childNode.tagname = result;\n      currentNode.addChild(childNode);\n    } else {\n      currentNode.addChild(childNode);\n    }\n  }\n  const replaceEntitiesValue = function(val) {\n    if (this.options.processEntities) {\n      for (let entityName in this.docTypeEntities) {\n        const entity = this.docTypeEntities[entityName];\n        val = val.replace(entity.regx, entity.val);\n      }\n      for (let entityName in this.lastEntities) {\n        const entity = this.lastEntities[entityName];\n        val = val.replace(entity.regex, entity.val);\n      }\n      if (this.options.htmlEntities) {\n        for (let entityName in this.htmlEntities) {\n          const entity = this.htmlEntities[entityName];\n          val = val.replace(entity.regex, entity.val);\n        }\n      }\n      val = val.replace(this.ampEntity.regex, this.ampEntity.val);\n    }\n    return val;\n  };\n  function saveTextToParentTag(textData, currentNode, jPath, isLeafNode) {\n    if (textData) {\n      if (isLeafNode === void 0) isLeafNode = Object.keys(currentNode.child).length === 0;\n      textData = this.parseTextData(\n        textData,\n        currentNode.tagname,\n        jPath,\n        false,\n        currentNode[\":@\"] ? Object.keys(currentNode[\":@\"]).length !== 0 : false,\n        isLeafNode\n      );\n      if (textData !== void 0 && textData !== \"\")\n        currentNode.add(this.options.textNodeName, textData);\n      textData = \"\";\n    }\n    return textData;\n  }\n  function isItStopNode(stopNodes, jPath, currentTagName) {\n    const allNodesExp = \"*.\" + currentTagName;\n    for (const stopNodePath in stopNodes) {\n      const stopNodeExp = stopNodes[stopNodePath];\n      if (allNodesExp === stopNodeExp || jPath === stopNodeExp) return true;\n    }\n    return false;\n  }\n  function tagExpWithClosingIndex(xmlData, i2, closingChar = \">\") {\n    let attrBoundary;\n    let tagExp = \"\";\n    for (let index = i2; index < xmlData.length; index++) {\n      let ch = xmlData[index];\n      if (attrBoundary) {\n        if (ch === attrBoundary) attrBoundary = \"\";\n      } else if (ch === '\"' || ch === \"'\") {\n        attrBoundary = ch;\n      } else if (ch === closingChar[0]) {\n        if (closingChar[1]) {\n          if (xmlData[index + 1] === closingChar[1]) {\n            return {\n              data: tagExp,\n              index\n            };\n          }\n        } else {\n          return {\n            data: tagExp,\n            index\n          };\n        }\n      } else if (ch === \"\t\") {\n        ch = \" \";\n      }\n      tagExp += ch;\n    }\n  }\n  function findClosingIndex(xmlData, str, i2, errMsg) {\n    const closingIndex = xmlData.indexOf(str, i2);\n    if (closingIndex === -1) {\n      throw new Error(errMsg);\n    } else {\n      return closingIndex + str.length - 1;\n    }\n  }\n  function readTagExp(xmlData, i2, removeNSPrefix, closingChar = \">\") {\n    const result = tagExpWithClosingIndex(xmlData, i2 + 1, closingChar);\n    if (!result) return;\n    let tagExp = result.data;\n    const closeIndex = result.index;\n    const separatorIndex = tagExp.search(/\\s/);\n    let tagName = tagExp;\n    let attrExpPresent = true;\n    if (separatorIndex !== -1) {\n      tagName = tagExp.substring(0, separatorIndex);\n      tagExp = tagExp.substring(separatorIndex + 1).trimStart();\n    }\n    const rawTagName = tagName;\n    if (removeNSPrefix) {\n      const colonIndex = tagName.indexOf(\":\");\n      if (colonIndex !== -1) {\n        tagName = tagName.substr(colonIndex + 1);\n        attrExpPresent = tagName !== result.data.substr(colonIndex + 1);\n      }\n    }\n    return {\n      tagName,\n      tagExp,\n      closeIndex,\n      attrExpPresent,\n      rawTagName\n    };\n  }\n  function readStopNodeData(xmlData, tagName, i2) {\n    const startIndex = i2;\n    let openTagCount = 1;\n    for (; i2 < xmlData.length; i2++) {\n      if (xmlData[i2] === \"<\") {\n        if (xmlData[i2 + 1] === \"/\") {\n          const closeIndex = findClosingIndex(xmlData, \">\", i2, `${tagName} is not closed`);\n          let closeTagName = xmlData.substring(i2 + 2, closeIndex).trim();\n          if (closeTagName === tagName) {\n            openTagCount--;\n            if (openTagCount === 0) {\n              return {\n                tagContent: xmlData.substring(startIndex, i2),\n                i: closeIndex\n              };\n            }\n          }\n          i2 = closeIndex;\n        } else if (xmlData[i2 + 1] === \"?\") {\n          const closeIndex = findClosingIndex(xmlData, \"?>\", i2 + 1, \"StopNode is not closed.\");\n          i2 = closeIndex;\n        } else if (xmlData.substr(i2 + 1, 3) === \"!--\") {\n          const closeIndex = findClosingIndex(xmlData, \"-->\", i2 + 3, \"StopNode is not closed.\");\n          i2 = closeIndex;\n        } else if (xmlData.substr(i2 + 1, 2) === \"![\") {\n          const closeIndex = findClosingIndex(xmlData, \"]]>\", i2, \"StopNode is not closed.\") - 2;\n          i2 = closeIndex;\n        } else {\n          const tagData = readTagExp(xmlData, i2, \">\");\n          if (tagData) {\n            const openTagName = tagData && tagData.tagName;\n            if (openTagName === tagName && tagData.tagExp[tagData.tagExp.length - 1] !== \"/\") {\n              openTagCount++;\n            }\n            i2 = tagData.closeIndex;\n          }\n        }\n      }\n    }\n  }\n  function parseValue(val, shouldParse, options) {\n    if (shouldParse && typeof val === \"string\") {\n      const newval = val.trim();\n      if (newval === \"true\") return true;\n      else if (newval === \"false\") return false;\n      else return toNumber(val, options);\n    } else {\n      if (util2.isExist(val)) {\n        return val;\n      } else {\n        return \"\";\n      }\n    }\n  }\n  OrderedObjParser_1 = OrderedObjParser;\n  return OrderedObjParser_1;\n}\nvar node2json = {};\nvar hasRequiredNode2json;\nfunction requireNode2json() {\n  if (hasRequiredNode2json) return node2json;\n  hasRequiredNode2json = 1;\n  function prettify(node, options) {\n    return compress(node, options);\n  }\n  function compress(arr, options, jPath) {\n    let text;\n    const compressedObj = {};\n    for (let i2 = 0; i2 < arr.length; i2++) {\n      const tagObj = arr[i2];\n      const property = propName(tagObj);\n      let newJpath = \"\";\n      if (jPath === void 0) newJpath = property;\n      else newJpath = jPath + \".\" + property;\n      if (property === options.textNodeName) {\n        if (text === void 0) text = tagObj[property];\n        else text += \"\" + tagObj[property];\n      } else if (property === void 0) {\n        continue;\n      } else if (tagObj[property]) {\n        let val = compress(tagObj[property], options, newJpath);\n        const isLeaf = isLeafTag(val, options);\n        if (tagObj[\":@\"]) {\n          assignAttributes(val, tagObj[\":@\"], newJpath, options);\n        } else if (Object.keys(val).length === 1 && val[options.textNodeName] !== void 0 && !options.alwaysCreateTextNode) {\n          val = val[options.textNodeName];\n        } else if (Object.keys(val).length === 0) {\n          if (options.alwaysCreateTextNode) val[options.textNodeName] = \"\";\n          else val = \"\";\n        }\n        if (compressedObj[property] !== void 0 && compressedObj.hasOwnProperty(property)) {\n          if (!Array.isArray(compressedObj[property])) {\n            compressedObj[property] = [compressedObj[property]];\n          }\n          compressedObj[property].push(val);\n        } else {\n          if (options.isArray(property, newJpath, isLeaf)) {\n            compressedObj[property] = [val];\n          } else {\n            compressedObj[property] = val;\n          }\n        }\n      }\n    }\n    if (typeof text === \"string\") {\n      if (text.length > 0) compressedObj[options.textNodeName] = text;\n    } else if (text !== void 0) compressedObj[options.textNodeName] = text;\n    return compressedObj;\n  }\n  function propName(obj) {\n    const keys = Object.keys(obj);\n    for (let i2 = 0; i2 < keys.length; i2++) {\n      const key = keys[i2];\n      if (key !== \":@\") return key;\n    }\n  }\n  function assignAttributes(obj, attrMap, jpath, options) {\n    if (attrMap) {\n      const keys = Object.keys(attrMap);\n      const len = keys.length;\n      for (let i2 = 0; i2 < len; i2++) {\n        const atrrName = keys[i2];\n        if (options.isArray(atrrName, jpath + \".\" + atrrName, true, true)) {\n          obj[atrrName] = [attrMap[atrrName]];\n        } else {\n          obj[atrrName] = attrMap[atrrName];\n        }\n      }\n    }\n  }\n  function isLeafTag(obj, options) {\n    const { textNodeName } = options;\n    const propCount = Object.keys(obj).length;\n    if (propCount === 0) {\n      return true;\n    }\n    if (propCount === 1 && (obj[textNodeName] || typeof obj[textNodeName] === \"boolean\" || obj[textNodeName] === 0)) {\n      return true;\n    }\n    return false;\n  }\n  node2json.prettify = prettify;\n  return node2json;\n}\nvar XMLParser_1;\nvar hasRequiredXMLParser;\nfunction requireXMLParser() {\n  if (hasRequiredXMLParser) return XMLParser_1;\n  hasRequiredXMLParser = 1;\n  const { buildOptions } = requireOptionsBuilder();\n  const OrderedObjParser = requireOrderedObjParser();\n  const { prettify } = requireNode2json();\n  const validator2 = requireValidator();\n  class XMLParser {\n    constructor(options) {\n      this.externalEntities = {};\n      this.options = buildOptions(options);\n    }\n    /**\n     * Parse XML dats to JS object \n     * @param {string|Buffer} xmlData \n     * @param {boolean|Object} validationOption \n     */\n    parse(xmlData, validationOption) {\n      if (typeof xmlData === \"string\") ;\n      else if (xmlData.toString) {\n        xmlData = xmlData.toString();\n      } else {\n        throw new Error(\"XML data is accepted in String or Bytes[] form.\");\n      }\n      if (validationOption) {\n        if (validationOption === true) validationOption = {};\n        const result = validator2.validate(xmlData, validationOption);\n        if (result !== true) {\n          throw Error(`${result.err.msg}:${result.err.line}:${result.err.col}`);\n        }\n      }\n      const orderedObjParser = new OrderedObjParser(this.options);\n      orderedObjParser.addExternalEntities(this.externalEntities);\n      const orderedResult = orderedObjParser.parseXml(xmlData);\n      if (this.options.preserveOrder || orderedResult === void 0) return orderedResult;\n      else return prettify(orderedResult, this.options);\n    }\n    /**\n     * Add Entity which is not by default supported by this library\n     * @param {string} key \n     * @param {string} value \n     */\n    addEntity(key, value) {\n      if (value.indexOf(\"&\") !== -1) {\n        throw new Error(\"Entity value can't have '&'\");\n      } else if (key.indexOf(\"&\") !== -1 || key.indexOf(\";\") !== -1) {\n        throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\");\n      } else if (value === \"&\") {\n        throw new Error(\"An entity with value '&' is not permitted\");\n      } else {\n        this.externalEntities[key] = value;\n      }\n    }\n  }\n  XMLParser_1 = XMLParser;\n  return XMLParser_1;\n}\nvar orderedJs2Xml;\nvar hasRequiredOrderedJs2Xml;\nfunction requireOrderedJs2Xml() {\n  if (hasRequiredOrderedJs2Xml) return orderedJs2Xml;\n  hasRequiredOrderedJs2Xml = 1;\n  const EOL = \"\\n\";\n  function toXml(jArray, options) {\n    let indentation = \"\";\n    if (options.format && options.indentBy.length > 0) {\n      indentation = EOL;\n    }\n    return arrToStr(jArray, options, \"\", indentation);\n  }\n  function arrToStr(arr, options, jPath, indentation) {\n    let xmlStr = \"\";\n    let isPreviousElementTag = false;\n    for (let i2 = 0; i2 < arr.length; i2++) {\n      const tagObj = arr[i2];\n      const tagName = propName(tagObj);\n      if (tagName === void 0) continue;\n      let newJPath = \"\";\n      if (jPath.length === 0) newJPath = tagName;\n      else newJPath = `${jPath}.${tagName}`;\n      if (tagName === options.textNodeName) {\n        let tagText = tagObj[tagName];\n        if (!isStopNode(newJPath, options)) {\n          tagText = options.tagValueProcessor(tagName, tagText);\n          tagText = replaceEntitiesValue(tagText, options);\n        }\n        if (isPreviousElementTag) {\n          xmlStr += indentation;\n        }\n        xmlStr += tagText;\n        isPreviousElementTag = false;\n        continue;\n      } else if (tagName === options.cdataPropName) {\n        if (isPreviousElementTag) {\n          xmlStr += indentation;\n        }\n        xmlStr += `<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`;\n        isPreviousElementTag = false;\n        continue;\n      } else if (tagName === options.commentPropName) {\n        xmlStr += indentation + `<!--${tagObj[tagName][0][options.textNodeName]}-->`;\n        isPreviousElementTag = true;\n        continue;\n      } else if (tagName[0] === \"?\") {\n        const attStr2 = attr_to_str(tagObj[\":@\"], options);\n        const tempInd = tagName === \"?xml\" ? \"\" : indentation;\n        let piTextNodeName = tagObj[tagName][0][options.textNodeName];\n        piTextNodeName = piTextNodeName.length !== 0 ? \" \" + piTextNodeName : \"\";\n        xmlStr += tempInd + `<${tagName}${piTextNodeName}${attStr2}?>`;\n        isPreviousElementTag = true;\n        continue;\n      }\n      let newIdentation = indentation;\n      if (newIdentation !== \"\") {\n        newIdentation += options.indentBy;\n      }\n      const attStr = attr_to_str(tagObj[\":@\"], options);\n      const tagStart = indentation + `<${tagName}${attStr}`;\n      const tagValue = arrToStr(tagObj[tagName], options, newJPath, newIdentation);\n      if (options.unpairedTags.indexOf(tagName) !== -1) {\n        if (options.suppressUnpairedNode) xmlStr += tagStart + \">\";\n        else xmlStr += tagStart + \"/>\";\n      } else if ((!tagValue || tagValue.length === 0) && options.suppressEmptyNode) {\n        xmlStr += tagStart + \"/>\";\n      } else if (tagValue && tagValue.endsWith(\">\")) {\n        xmlStr += tagStart + `>${tagValue}${indentation}</${tagName}>`;\n      } else {\n        xmlStr += tagStart + \">\";\n        if (tagValue && indentation !== \"\" && (tagValue.includes(\"/>\") || tagValue.includes(\"</\"))) {\n          xmlStr += indentation + options.indentBy + tagValue + indentation;\n        } else {\n          xmlStr += tagValue;\n        }\n        xmlStr += `</${tagName}>`;\n      }\n      isPreviousElementTag = true;\n    }\n    return xmlStr;\n  }\n  function propName(obj) {\n    const keys = Object.keys(obj);\n    for (let i2 = 0; i2 < keys.length; i2++) {\n      const key = keys[i2];\n      if (!obj.hasOwnProperty(key)) continue;\n      if (key !== \":@\") return key;\n    }\n  }\n  function attr_to_str(attrMap, options) {\n    let attrStr = \"\";\n    if (attrMap && !options.ignoreAttributes) {\n      for (let attr in attrMap) {\n        if (!attrMap.hasOwnProperty(attr)) continue;\n        let attrVal = options.attributeValueProcessor(attr, attrMap[attr]);\n        attrVal = replaceEntitiesValue(attrVal, options);\n        if (attrVal === true && options.suppressBooleanAttributes) {\n          attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}`;\n        } else {\n          attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}=\"${attrVal}\"`;\n        }\n      }\n    }\n    return attrStr;\n  }\n  function isStopNode(jPath, options) {\n    jPath = jPath.substr(0, jPath.length - options.textNodeName.length - 1);\n    let tagName = jPath.substr(jPath.lastIndexOf(\".\") + 1);\n    for (let index in options.stopNodes) {\n      if (options.stopNodes[index] === jPath || options.stopNodes[index] === \"*.\" + tagName) return true;\n    }\n    return false;\n  }\n  function replaceEntitiesValue(textValue, options) {\n    if (textValue && textValue.length > 0 && options.processEntities) {\n      for (let i2 = 0; i2 < options.entities.length; i2++) {\n        const entity = options.entities[i2];\n        textValue = textValue.replace(entity.regex, entity.val);\n      }\n    }\n    return textValue;\n  }\n  orderedJs2Xml = toXml;\n  return orderedJs2Xml;\n}\nvar json2xml;\nvar hasRequiredJson2xml;\nfunction requireJson2xml() {\n  if (hasRequiredJson2xml) return json2xml;\n  hasRequiredJson2xml = 1;\n  const buildFromOrderedJs = requireOrderedJs2Xml();\n  const getIgnoreAttributesFn = requireIgnoreAttributes();\n  const defaultOptions = {\n    attributeNamePrefix: \"@_\",\n    attributesGroupName: false,\n    textNodeName: \"#text\",\n    ignoreAttributes: true,\n    cdataPropName: false,\n    format: false,\n    indentBy: \"  \",\n    suppressEmptyNode: false,\n    suppressUnpairedNode: true,\n    suppressBooleanAttributes: true,\n    tagValueProcessor: function(key, a2) {\n      return a2;\n    },\n    attributeValueProcessor: function(attrName, a2) {\n      return a2;\n    },\n    preserveOrder: false,\n    commentPropName: false,\n    unpairedTags: [],\n    entities: [\n      { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },\n      //it must be on top\n      { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n      { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n      { regex: new RegExp(\"'\", \"g\"), val: \"&apos;\" },\n      { regex: new RegExp('\"', \"g\"), val: \"&quot;\" }\n    ],\n    processEntities: true,\n    stopNodes: [],\n    // transformTagName: false,\n    // transformAttributeName: false,\n    oneListGroup: false\n  };\n  function Builder(options) {\n    this.options = Object.assign({}, defaultOptions, options);\n    if (this.options.ignoreAttributes === true || this.options.attributesGroupName) {\n      this.isAttribute = function() {\n        return false;\n      };\n    } else {\n      this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes);\n      this.attrPrefixLen = this.options.attributeNamePrefix.length;\n      this.isAttribute = isAttribute;\n    }\n    this.processTextOrObjNode = processTextOrObjNode;\n    if (this.options.format) {\n      this.indentate = indentate;\n      this.tagEndChar = \">\\n\";\n      this.newLine = \"\\n\";\n    } else {\n      this.indentate = function() {\n        return \"\";\n      };\n      this.tagEndChar = \">\";\n      this.newLine = \"\";\n    }\n  }\n  Builder.prototype.build = function(jObj) {\n    if (this.options.preserveOrder) {\n      return buildFromOrderedJs(jObj, this.options);\n    } else {\n      if (Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1) {\n        jObj = {\n          [this.options.arrayNodeName]: jObj\n        };\n      }\n      return this.j2x(jObj, 0, []).val;\n    }\n  };\n  Builder.prototype.j2x = function(jObj, level, ajPath) {\n    let attrStr = \"\";\n    let val = \"\";\n    const jPath = ajPath.join(\".\");\n    for (let key in jObj) {\n      if (!Object.prototype.hasOwnProperty.call(jObj, key)) continue;\n      if (typeof jObj[key] === \"undefined\") {\n        if (this.isAttribute(key)) {\n          val += \"\";\n        }\n      } else if (jObj[key] === null) {\n        if (this.isAttribute(key)) {\n          val += \"\";\n        } else if (key[0] === \"?\") {\n          val += this.indentate(level) + \"<\" + key + \"?\" + this.tagEndChar;\n        } else {\n          val += this.indentate(level) + \"<\" + key + \"/\" + this.tagEndChar;\n        }\n      } else if (jObj[key] instanceof Date) {\n        val += this.buildTextValNode(jObj[key], key, \"\", level);\n      } else if (typeof jObj[key] !== \"object\") {\n        const attr = this.isAttribute(key);\n        if (attr && !this.ignoreAttributesFn(attr, jPath)) {\n          attrStr += this.buildAttrPairStr(attr, \"\" + jObj[key]);\n        } else if (!attr) {\n          if (key === this.options.textNodeName) {\n            let newval = this.options.tagValueProcessor(key, \"\" + jObj[key]);\n            val += this.replaceEntitiesValue(newval);\n          } else {\n            val += this.buildTextValNode(jObj[key], key, \"\", level);\n          }\n        }\n      } else if (Array.isArray(jObj[key])) {\n        const arrLen = jObj[key].length;\n        let listTagVal = \"\";\n        let listTagAttr = \"\";\n        for (let j2 = 0; j2 < arrLen; j2++) {\n          const item = jObj[key][j2];\n          if (typeof item === \"undefined\") ;\n          else if (item === null) {\n            if (key[0] === \"?\") val += this.indentate(level) + \"<\" + key + \"?\" + this.tagEndChar;\n            else val += this.indentate(level) + \"<\" + key + \"/\" + this.tagEndChar;\n          } else if (typeof item === \"object\") {\n            if (this.options.oneListGroup) {\n              const result = this.j2x(item, level + 1, ajPath.concat(key));\n              listTagVal += result.val;\n              if (this.options.attributesGroupName && item.hasOwnProperty(this.options.attributesGroupName)) {\n                listTagAttr += result.attrStr;\n              }\n            } else {\n              listTagVal += this.processTextOrObjNode(item, key, level, ajPath);\n            }\n          } else {\n            if (this.options.oneListGroup) {\n              let textValue = this.options.tagValueProcessor(key, item);\n              textValue = this.replaceEntitiesValue(textValue);\n              listTagVal += textValue;\n            } else {\n              listTagVal += this.buildTextValNode(item, key, \"\", level);\n            }\n          }\n        }\n        if (this.options.oneListGroup) {\n          listTagVal = this.buildObjectNode(listTagVal, key, listTagAttr, level);\n        }\n        val += listTagVal;\n      } else {\n        if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n          const Ks = Object.keys(jObj[key]);\n          const L = Ks.length;\n          for (let j2 = 0; j2 < L; j2++) {\n            attrStr += this.buildAttrPairStr(Ks[j2], \"\" + jObj[key][Ks[j2]]);\n          }\n        } else {\n          val += this.processTextOrObjNode(jObj[key], key, level, ajPath);\n        }\n      }\n    }\n    return { attrStr, val };\n  };\n  Builder.prototype.buildAttrPairStr = function(attrName, val) {\n    val = this.options.attributeValueProcessor(attrName, \"\" + val);\n    val = this.replaceEntitiesValue(val);\n    if (this.options.suppressBooleanAttributes && val === \"true\") {\n      return \" \" + attrName;\n    } else return \" \" + attrName + '=\"' + val + '\"';\n  };\n  function processTextOrObjNode(object, key, level, ajPath) {\n    const result = this.j2x(object, level + 1, ajPath.concat(key));\n    if (object[this.options.textNodeName] !== void 0 && Object.keys(object).length === 1) {\n      return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n    } else {\n      return this.buildObjectNode(result.val, key, result.attrStr, level);\n    }\n  }\n  Builder.prototype.buildObjectNode = function(val, key, attrStr, level) {\n    if (val === \"\") {\n      if (key[0] === \"?\") return this.indentate(level) + \"<\" + key + attrStr + \"?\" + this.tagEndChar;\n      else {\n        return this.indentate(level) + \"<\" + key + attrStr + this.closeTag(key) + this.tagEndChar;\n      }\n    } else {\n      let tagEndExp = \"</\" + key + this.tagEndChar;\n      let piClosingChar = \"\";\n      if (key[0] === \"?\") {\n        piClosingChar = \"?\";\n        tagEndExp = \"\";\n      }\n      if ((attrStr || attrStr === \"\") && val.indexOf(\"<\") === -1) {\n        return this.indentate(level) + \"<\" + key + attrStr + piClosingChar + \">\" + val + tagEndExp;\n      } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n        return this.indentate(level) + `<!--${val}-->` + this.newLine;\n      } else {\n        return this.indentate(level) + \"<\" + key + attrStr + piClosingChar + this.tagEndChar + val + this.indentate(level) + tagEndExp;\n      }\n    }\n  };\n  Builder.prototype.closeTag = function(key) {\n    let closeTag = \"\";\n    if (this.options.unpairedTags.indexOf(key) !== -1) {\n      if (!this.options.suppressUnpairedNode) closeTag = \"/\";\n    } else if (this.options.suppressEmptyNode) {\n      closeTag = \"/\";\n    } else {\n      closeTag = `></${key}`;\n    }\n    return closeTag;\n  };\n  Builder.prototype.buildTextValNode = function(val, key, attrStr, level) {\n    if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n      return this.indentate(level) + `<![CDATA[${val}]]>` + this.newLine;\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    } else if (key[0] === \"?\") {\n      return this.indentate(level) + \"<\" + key + attrStr + \"?\" + this.tagEndChar;\n    } else {\n      let textValue = this.options.tagValueProcessor(key, val);\n      textValue = this.replaceEntitiesValue(textValue);\n      if (textValue === \"\") {\n        return this.indentate(level) + \"<\" + key + attrStr + this.closeTag(key) + this.tagEndChar;\n      } else {\n        return this.indentate(level) + \"<\" + key + attrStr + \">\" + textValue + \"</\" + key + this.tagEndChar;\n      }\n    }\n  };\n  Builder.prototype.replaceEntitiesValue = function(textValue) {\n    if (textValue && textValue.length > 0 && this.options.processEntities) {\n      for (let i2 = 0; i2 < this.options.entities.length; i2++) {\n        const entity = this.options.entities[i2];\n        textValue = textValue.replace(entity.regex, entity.val);\n      }\n    }\n    return textValue;\n  };\n  function indentate(level) {\n    return this.options.indentBy.repeat(level);\n  }\n  function isAttribute(name) {\n    if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n      return name.substr(this.attrPrefixLen);\n    } else {\n      return false;\n    }\n  }\n  json2xml = Builder;\n  return json2xml;\n}\nvar fxp;\nvar hasRequiredFxp;\nfunction requireFxp() {\n  if (hasRequiredFxp) return fxp;\n  hasRequiredFxp = 1;\n  const validator2 = requireValidator();\n  const XMLParser = requireXMLParser();\n  const XMLBuilder = requireJson2xml();\n  fxp = {\n    XMLParser,\n    XMLValidator: validator2,\n    XMLBuilder\n  };\n  return fxp;\n}\nvar fxpExports = requireFxp();\nfunction isSvg(string) {\n  if (typeof string !== \"string\") {\n    throw new TypeError(`Expected a \\`string\\`, got \\`${typeof string}\\``);\n  }\n  string = string.trim();\n  if (string.length === 0) {\n    return false;\n  }\n  if (fxpExports.XMLValidator.validate(string) !== true) {\n    return false;\n  }\n  let jsonObject;\n  const parser = new fxpExports.XMLParser();\n  try {\n    jsonObject = parser.parse(string);\n  } catch {\n    return false;\n  }\n  if (!jsonObject) {\n    return false;\n  }\n  if (!Object.keys(jsonObject).some((x) => x.toLowerCase() === \"svg\")) {\n    return false;\n  }\n  return true;\n}\nclass View {\n  _view;\n  constructor(view) {\n    isValidView(view);\n    this._view = view;\n  }\n  get id() {\n    return this._view.id;\n  }\n  get name() {\n    return this._view.name;\n  }\n  get caption() {\n    return this._view.caption;\n  }\n  get emptyTitle() {\n    return this._view.emptyTitle;\n  }\n  get emptyCaption() {\n    return this._view.emptyCaption;\n  }\n  get getContents() {\n    return this._view.getContents;\n  }\n  get icon() {\n    return this._view.icon;\n  }\n  set icon(icon) {\n    this._view.icon = icon;\n  }\n  get order() {\n    return this._view.order;\n  }\n  set order(order) {\n    this._view.order = order;\n  }\n  get params() {\n    return this._view.params;\n  }\n  set params(params) {\n    this._view.params = params;\n  }\n  get columns() {\n    return this._view.columns;\n  }\n  get emptyView() {\n    return this._view.emptyView;\n  }\n  get parent() {\n    return this._view.parent;\n  }\n  get sticky() {\n    return this._view.sticky;\n  }\n  get expanded() {\n    return this._view.expanded;\n  }\n  set expanded(expanded) {\n    this._view.expanded = expanded;\n  }\n  get defaultSortKey() {\n    return this._view.defaultSortKey;\n  }\n  get loadChildViews() {\n    return this._view.loadChildViews;\n  }\n}\nconst isValidView = function(view) {\n  if (!view.id || typeof view.id !== \"string\") {\n    throw new Error(\"View id is required and must be a string\");\n  }\n  if (!view.name || typeof view.name !== \"string\") {\n    throw new Error(\"View name is required and must be a string\");\n  }\n  if (\"caption\" in view && typeof view.caption !== \"string\") {\n    throw new Error(\"View caption must be a string\");\n  }\n  if (!view.getContents || typeof view.getContents !== \"function\") {\n    throw new Error(\"View getContents is required and must be a function\");\n  }\n  if (!view.icon || typeof view.icon !== \"string\" || !isSvg(view.icon)) {\n    throw new Error(\"View icon is required and must be a valid svg string\");\n  }\n  if (\"order\" in view && typeof view.order !== \"number\") {\n    throw new Error(\"View order must be a number\");\n  }\n  if (view.columns) {\n    view.columns.forEach((column) => {\n      if (!(column instanceof Column)) {\n        throw new Error(\"View columns must be an array of Column. Invalid column found\");\n      }\n    });\n  }\n  if (view.emptyView && typeof view.emptyView !== \"function\") {\n    throw new Error(\"View emptyView must be a function\");\n  }\n  if (view.parent && typeof view.parent !== \"string\") {\n    throw new Error(\"View parent must be a string\");\n  }\n  if (\"sticky\" in view && typeof view.sticky !== \"boolean\") {\n    throw new Error(\"View sticky must be a boolean\");\n  }\n  if (\"expanded\" in view && typeof view.expanded !== \"boolean\") {\n    throw new Error(\"View expanded must be a boolean\");\n  }\n  if (view.defaultSortKey && typeof view.defaultSortKey !== \"string\") {\n    throw new Error(\"View defaultSortKey must be a string\");\n  }\n  if (view.loadChildViews && typeof view.loadChildViews !== \"function\") {\n    throw new Error(\"View loadChildViews must be a function\");\n  }\n  return true;\n};\nvar debug_1;\nvar hasRequiredDebug;\nfunction requireDebug() {\n  if (hasRequiredDebug) return debug_1;\n  hasRequiredDebug = 1;\n  const debug = typeof process === \"object\" && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? (...args) => console.error(\"SEMVER\", ...args) : () => {\n  };\n  debug_1 = debug;\n  return debug_1;\n}\nvar constants;\nvar hasRequiredConstants;\nfunction requireConstants() {\n  if (hasRequiredConstants) return constants;\n  hasRequiredConstants = 1;\n  const SEMVER_SPEC_VERSION = \"2.0.0\";\n  const MAX_LENGTH = 256;\n  const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */\n  9007199254740991;\n  const MAX_SAFE_COMPONENT_LENGTH = 16;\n  const MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6;\n  const RELEASE_TYPES = [\n    \"major\",\n    \"premajor\",\n    \"minor\",\n    \"preminor\",\n    \"patch\",\n    \"prepatch\",\n    \"prerelease\"\n  ];\n  constants = {\n    MAX_LENGTH,\n    MAX_SAFE_COMPONENT_LENGTH,\n    MAX_SAFE_BUILD_LENGTH,\n    MAX_SAFE_INTEGER,\n    RELEASE_TYPES,\n    SEMVER_SPEC_VERSION,\n    FLAG_INCLUDE_PRERELEASE: 1,\n    FLAG_LOOSE: 2\n  };\n  return constants;\n}\nvar re = { exports: {} };\nvar hasRequiredRe;\nfunction requireRe() {\n  if (hasRequiredRe) return re.exports;\n  hasRequiredRe = 1;\n  (function(module, exports) {\n    const {\n      MAX_SAFE_COMPONENT_LENGTH,\n      MAX_SAFE_BUILD_LENGTH,\n      MAX_LENGTH\n    } = requireConstants();\n    const debug = requireDebug();\n    exports = module.exports = {};\n    const re2 = exports.re = [];\n    const safeRe = exports.safeRe = [];\n    const src = exports.src = [];\n    const t2 = exports.t = {};\n    let R = 0;\n    const LETTERDASHNUMBER = \"[a-zA-Z0-9-]\";\n    const safeRegexReplacements = [\n      [\"\\\\s\", 1],\n      [\"\\\\d\", MAX_LENGTH],\n      [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH]\n    ];\n    const makeSafeRegex = (value) => {\n      for (const [token, max] of safeRegexReplacements) {\n        value = value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`);\n      }\n      return value;\n    };\n    const createToken = (name, value, isGlobal) => {\n      const safe = makeSafeRegex(value);\n      const index = R++;\n      debug(name, index, value);\n      t2[name] = index;\n      src[index] = value;\n      re2[index] = new RegExp(value, isGlobal ? \"g\" : void 0);\n      safeRe[index] = new RegExp(safe, isGlobal ? \"g\" : void 0);\n    };\n    createToken(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\");\n    createToken(\"NUMERICIDENTIFIERLOOSE\", \"\\\\d+\");\n    createToken(\"NONNUMERICIDENTIFIER\", `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);\n    createToken(\"MAINVERSION\", `(${src[t2.NUMERICIDENTIFIER]})\\\\.(${src[t2.NUMERICIDENTIFIER]})\\\\.(${src[t2.NUMERICIDENTIFIER]})`);\n    createToken(\"MAINVERSIONLOOSE\", `(${src[t2.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t2.NUMERICIDENTIFIERLOOSE]})\\\\.(${src[t2.NUMERICIDENTIFIERLOOSE]})`);\n    createToken(\"PRERELEASEIDENTIFIER\", `(?:${src[t2.NUMERICIDENTIFIER]}|${src[t2.NONNUMERICIDENTIFIER]})`);\n    createToken(\"PRERELEASEIDENTIFIERLOOSE\", `(?:${src[t2.NUMERICIDENTIFIERLOOSE]}|${src[t2.NONNUMERICIDENTIFIER]})`);\n    createToken(\"PRERELEASE\", `(?:-(${src[t2.PRERELEASEIDENTIFIER]}(?:\\\\.${src[t2.PRERELEASEIDENTIFIER]})*))`);\n    createToken(\"PRERELEASELOOSE\", `(?:-?(${src[t2.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${src[t2.PRERELEASEIDENTIFIERLOOSE]})*))`);\n    createToken(\"BUILDIDENTIFIER\", `${LETTERDASHNUMBER}+`);\n    createToken(\"BUILD\", `(?:\\\\+(${src[t2.BUILDIDENTIFIER]}(?:\\\\.${src[t2.BUILDIDENTIFIER]})*))`);\n    createToken(\"FULLPLAIN\", `v?${src[t2.MAINVERSION]}${src[t2.PRERELEASE]}?${src[t2.BUILD]}?`);\n    createToken(\"FULL\", `^${src[t2.FULLPLAIN]}$`);\n    createToken(\"LOOSEPLAIN\", `[v=\\\\s]*${src[t2.MAINVERSIONLOOSE]}${src[t2.PRERELEASELOOSE]}?${src[t2.BUILD]}?`);\n    createToken(\"LOOSE\", `^${src[t2.LOOSEPLAIN]}$`);\n    createToken(\"GTLT\", \"((?:<|>)?=?)\");\n    createToken(\"XRANGEIDENTIFIERLOOSE\", `${src[t2.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`);\n    createToken(\"XRANGEIDENTIFIER\", `${src[t2.NUMERICIDENTIFIER]}|x|X|\\\\*`);\n    createToken(\"XRANGEPLAIN\", `[v=\\\\s]*(${src[t2.XRANGEIDENTIFIER]})(?:\\\\.(${src[t2.XRANGEIDENTIFIER]})(?:\\\\.(${src[t2.XRANGEIDENTIFIER]})(?:${src[t2.PRERELEASE]})?${src[t2.BUILD]}?)?)?`);\n    createToken(\"XRANGEPLAINLOOSE\", `[v=\\\\s]*(${src[t2.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t2.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${src[t2.XRANGEIDENTIFIERLOOSE]})(?:${src[t2.PRERELEASELOOSE]})?${src[t2.BUILD]}?)?)?`);\n    createToken(\"XRANGE\", `^${src[t2.GTLT]}\\\\s*${src[t2.XRANGEPLAIN]}$`);\n    createToken(\"XRANGELOOSE\", `^${src[t2.GTLT]}\\\\s*${src[t2.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COERCEPLAIN\", `${\"(^|[^\\\\d])(\\\\d{1,\"}${MAX_SAFE_COMPONENT_LENGTH}})(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`);\n    createToken(\"COERCE\", `${src[t2.COERCEPLAIN]}(?:$|[^\\\\d])`);\n    createToken(\"COERCEFULL\", src[t2.COERCEPLAIN] + `(?:${src[t2.PRERELEASE]})?(?:${src[t2.BUILD]})?(?:$|[^\\\\d])`);\n    createToken(\"COERCERTL\", src[t2.COERCE], true);\n    createToken(\"COERCERTLFULL\", src[t2.COERCEFULL], true);\n    createToken(\"LONETILDE\", \"(?:~>?)\");\n    createToken(\"TILDETRIM\", `(\\\\s*)${src[t2.LONETILDE]}\\\\s+`, true);\n    exports.tildeTrimReplace = \"$1~\";\n    createToken(\"TILDE\", `^${src[t2.LONETILDE]}${src[t2.XRANGEPLAIN]}$`);\n    createToken(\"TILDELOOSE\", `^${src[t2.LONETILDE]}${src[t2.XRANGEPLAINLOOSE]}$`);\n    createToken(\"LONECARET\", \"(?:\\\\^)\");\n    createToken(\"CARETTRIM\", `(\\\\s*)${src[t2.LONECARET]}\\\\s+`, true);\n    exports.caretTrimReplace = \"$1^\";\n    createToken(\"CARET\", `^${src[t2.LONECARET]}${src[t2.XRANGEPLAIN]}$`);\n    createToken(\"CARETLOOSE\", `^${src[t2.LONECARET]}${src[t2.XRANGEPLAINLOOSE]}$`);\n    createToken(\"COMPARATORLOOSE\", `^${src[t2.GTLT]}\\\\s*(${src[t2.LOOSEPLAIN]})$|^$`);\n    createToken(\"COMPARATOR\", `^${src[t2.GTLT]}\\\\s*(${src[t2.FULLPLAIN]})$|^$`);\n    createToken(\"COMPARATORTRIM\", `(\\\\s*)${src[t2.GTLT]}\\\\s*(${src[t2.LOOSEPLAIN]}|${src[t2.XRANGEPLAIN]})`, true);\n    exports.comparatorTrimReplace = \"$1$2$3\";\n    createToken(\"HYPHENRANGE\", `^\\\\s*(${src[t2.XRANGEPLAIN]})\\\\s+-\\\\s+(${src[t2.XRANGEPLAIN]})\\\\s*$`);\n    createToken(\"HYPHENRANGELOOSE\", `^\\\\s*(${src[t2.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${src[t2.XRANGEPLAINLOOSE]})\\\\s*$`);\n    createToken(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\");\n    createToken(\"GTE0\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$\");\n    createToken(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$\");\n  })(re, re.exports);\n  return re.exports;\n}\nvar parseOptions_1;\nvar hasRequiredParseOptions;\nfunction requireParseOptions() {\n  if (hasRequiredParseOptions) return parseOptions_1;\n  hasRequiredParseOptions = 1;\n  const looseOption = Object.freeze({ loose: true });\n  const emptyOpts = Object.freeze({});\n  const parseOptions = (options) => {\n    if (!options) {\n      return emptyOpts;\n    }\n    if (typeof options !== \"object\") {\n      return looseOption;\n    }\n    return options;\n  };\n  parseOptions_1 = parseOptions;\n  return parseOptions_1;\n}\nvar identifiers;\nvar hasRequiredIdentifiers;\nfunction requireIdentifiers() {\n  if (hasRequiredIdentifiers) return identifiers;\n  hasRequiredIdentifiers = 1;\n  const numeric = /^[0-9]+$/;\n  const compareIdentifiers = (a2, b2) => {\n    const anum = numeric.test(a2);\n    const bnum = numeric.test(b2);\n    if (anum && bnum) {\n      a2 = +a2;\n      b2 = +b2;\n    }\n    return a2 === b2 ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a2 < b2 ? -1 : 1;\n  };\n  const rcompareIdentifiers = (a2, b2) => compareIdentifiers(b2, a2);\n  identifiers = {\n    compareIdentifiers,\n    rcompareIdentifiers\n  };\n  return identifiers;\n}\nvar semver;\nvar hasRequiredSemver;\nfunction requireSemver() {\n  if (hasRequiredSemver) return semver;\n  hasRequiredSemver = 1;\n  const debug = requireDebug();\n  const { MAX_LENGTH, MAX_SAFE_INTEGER } = requireConstants();\n  const { safeRe: re2, t: t2 } = requireRe();\n  const parseOptions = requireParseOptions();\n  const { compareIdentifiers } = requireIdentifiers();\n  class SemVer {\n    constructor(version, options) {\n      options = parseOptions(options);\n      if (version instanceof SemVer) {\n        if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n          return version;\n        } else {\n          version = version.version;\n        }\n      } else if (typeof version !== \"string\") {\n        throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`);\n      }\n      if (version.length > MAX_LENGTH) {\n        throw new TypeError(\n          `version is longer than ${MAX_LENGTH} characters`\n        );\n      }\n      debug(\"SemVer\", version, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      this.includePrerelease = !!options.includePrerelease;\n      const m2 = version.trim().match(options.loose ? re2[t2.LOOSE] : re2[t2.FULL]);\n      if (!m2) {\n        throw new TypeError(`Invalid Version: ${version}`);\n      }\n      this.raw = version;\n      this.major = +m2[1];\n      this.minor = +m2[2];\n      this.patch = +m2[3];\n      if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n        throw new TypeError(\"Invalid major version\");\n      }\n      if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n        throw new TypeError(\"Invalid minor version\");\n      }\n      if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n        throw new TypeError(\"Invalid patch version\");\n      }\n      if (!m2[4]) {\n        this.prerelease = [];\n      } else {\n        this.prerelease = m2[4].split(\".\").map((id) => {\n          if (/^[0-9]+$/.test(id)) {\n            const num = +id;\n            if (num >= 0 && num < MAX_SAFE_INTEGER) {\n              return num;\n            }\n          }\n          return id;\n        });\n      }\n      this.build = m2[5] ? m2[5].split(\".\") : [];\n      this.format();\n    }\n    format() {\n      this.version = `${this.major}.${this.minor}.${this.patch}`;\n      if (this.prerelease.length) {\n        this.version += `-${this.prerelease.join(\".\")}`;\n      }\n      return this.version;\n    }\n    toString() {\n      return this.version;\n    }\n    compare(other) {\n      debug(\"SemVer.compare\", this.version, this.options, other);\n      if (!(other instanceof SemVer)) {\n        if (typeof other === \"string\" && other === this.version) {\n          return 0;\n        }\n        other = new SemVer(other, this.options);\n      }\n      if (other.version === this.version) {\n        return 0;\n      }\n      return this.compareMain(other) || this.comparePre(other);\n    }\n    compareMain(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      return compareIdentifiers(this.major, other.major) || compareIdentifiers(this.minor, other.minor) || compareIdentifiers(this.patch, other.patch);\n    }\n    comparePre(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      if (this.prerelease.length && !other.prerelease.length) {\n        return -1;\n      } else if (!this.prerelease.length && other.prerelease.length) {\n        return 1;\n      } else if (!this.prerelease.length && !other.prerelease.length) {\n        return 0;\n      }\n      let i2 = 0;\n      do {\n        const a2 = this.prerelease[i2];\n        const b2 = other.prerelease[i2];\n        debug(\"prerelease compare\", i2, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i2);\n    }\n    compareBuild(other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n      let i2 = 0;\n      do {\n        const a2 = this.build[i2];\n        const b2 = other.build[i2];\n        debug(\"build compare\", i2, a2, b2);\n        if (a2 === void 0 && b2 === void 0) {\n          return 0;\n        } else if (b2 === void 0) {\n          return 1;\n        } else if (a2 === void 0) {\n          return -1;\n        } else if (a2 === b2) {\n          continue;\n        } else {\n          return compareIdentifiers(a2, b2);\n        }\n      } while (++i2);\n    }\n    // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n    inc(release, identifier, identifierBase) {\n      switch (release) {\n        case \"premajor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor = 0;\n          this.major++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"preminor\":\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor++;\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"prepatch\":\n          this.prerelease.length = 0;\n          this.inc(\"patch\", identifier, identifierBase);\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        // If the input is a non-prerelease version, this acts the same as\n        // prepatch.\n        case \"prerelease\":\n          if (this.prerelease.length === 0) {\n            this.inc(\"patch\", identifier, identifierBase);\n          }\n          this.inc(\"pre\", identifier, identifierBase);\n          break;\n        case \"major\":\n          if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n            this.major++;\n          }\n          this.minor = 0;\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"minor\":\n          if (this.patch !== 0 || this.prerelease.length === 0) {\n            this.minor++;\n          }\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case \"patch\":\n          if (this.prerelease.length === 0) {\n            this.patch++;\n          }\n          this.prerelease = [];\n          break;\n        // This probably shouldn't be used publicly.\n        // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n        case \"pre\": {\n          const base = Number(identifierBase) ? 1 : 0;\n          if (!identifier && identifierBase === false) {\n            throw new Error(\"invalid increment argument: identifier is empty\");\n          }\n          if (this.prerelease.length === 0) {\n            this.prerelease = [base];\n          } else {\n            let i2 = this.prerelease.length;\n            while (--i2 >= 0) {\n              if (typeof this.prerelease[i2] === \"number\") {\n                this.prerelease[i2]++;\n                i2 = -2;\n              }\n            }\n            if (i2 === -1) {\n              if (identifier === this.prerelease.join(\".\") && identifierBase === false) {\n                throw new Error(\"invalid increment argument: identifier already exists\");\n              }\n              this.prerelease.push(base);\n            }\n          }\n          if (identifier) {\n            let prerelease = [identifier, base];\n            if (identifierBase === false) {\n              prerelease = [identifier];\n            }\n            if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n              if (isNaN(this.prerelease[1])) {\n                this.prerelease = prerelease;\n              }\n            } else {\n              this.prerelease = prerelease;\n            }\n          }\n          break;\n        }\n        default:\n          throw new Error(`invalid increment argument: ${release}`);\n      }\n      this.raw = this.format();\n      if (this.build.length) {\n        this.raw += `+${this.build.join(\".\")}`;\n      }\n      return this;\n    }\n  }\n  semver = SemVer;\n  return semver;\n}\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  const SemVer = requireSemver();\n  const parse = (version, options, throwErrors = false) => {\n    if (version instanceof SemVer) {\n      return version;\n    }\n    try {\n      return new SemVer(version, options);\n    } catch (er) {\n      if (!throwErrors) {\n        return null;\n      }\n      throw er;\n    }\n  };\n  parse_1 = parse;\n  return parse_1;\n}\nvar valid_1;\nvar hasRequiredValid;\nfunction requireValid() {\n  if (hasRequiredValid) return valid_1;\n  hasRequiredValid = 1;\n  const parse = requireParse();\n  const valid2 = (version, options) => {\n    const v = parse(version, options);\n    return v ? v.version : null;\n  };\n  valid_1 = valid2;\n  return valid_1;\n}\nvar validExports = requireValid();\nconst valid = /* @__PURE__ */ getDefaultExportFromCjs(validExports);\nvar major_1;\nvar hasRequiredMajor;\nfunction requireMajor() {\n  if (hasRequiredMajor) return major_1;\n  hasRequiredMajor = 1;\n  const SemVer = requireSemver();\n  const major2 = (a2, loose) => new SemVer(a2, loose).major;\n  major_1 = major2;\n  return major_1;\n}\nvar majorExports = requireMajor();\nconst major = /* @__PURE__ */ getDefaultExportFromCjs(majorExports);\nclass ProxyBus {\n  bus;\n  constructor(bus2) {\n    if (typeof bus2.getVersion !== \"function\" || !valid(bus2.getVersion())) {\n      console.warn(\"Proxying an event bus with an unknown or invalid version\");\n    } else if (major(bus2.getVersion()) !== major(this.getVersion())) {\n      console.warn(\n        \"Proxying an event bus of version \" + bus2.getVersion() + \" with \" + this.getVersion()\n      );\n    }\n    this.bus = bus2;\n  }\n  getVersion() {\n    return \"3.3.1\";\n  }\n  subscribe(name, handler) {\n    this.bus.subscribe(name, handler);\n  }\n  unsubscribe(name, handler) {\n    this.bus.unsubscribe(name, handler);\n  }\n  emit(name, event) {\n    this.bus.emit(name, event);\n  }\n}\nclass SimpleBus {\n  handlers = /* @__PURE__ */ new Map();\n  getVersion() {\n    return \"3.3.1\";\n  }\n  subscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).concat(\n        handler\n      )\n    );\n  }\n  unsubscribe(name, handler) {\n    this.handlers.set(\n      name,\n      (this.handlers.get(name) || []).filter((h2) => h2 !== handler)\n    );\n  }\n  emit(name, event) {\n    (this.handlers.get(name) || []).forEach((h2) => {\n      try {\n        h2(event);\n      } catch (e2) {\n        console.error(\"could not invoke event listener\", e2);\n      }\n    });\n  }\n}\nlet bus = null;\nfunction getBus() {\n  if (bus !== null) {\n    return bus;\n  }\n  if (typeof window === \"undefined\") {\n    return new Proxy({}, {\n      get: () => {\n        return () => console.error(\n          \"Window not available, EventBus can not be established!\"\n        );\n      }\n    });\n  }\n  if (window.OC?._eventBus && typeof window._nc_event_bus === \"undefined\") {\n    console.warn(\n      \"found old event bus instance at OC._eventBus. Update your version!\"\n    );\n    window._nc_event_bus = window.OC._eventBus;\n  }\n  if (typeof window?._nc_event_bus !== \"undefined\") {\n    bus = new ProxyBus(window._nc_event_bus);\n  } else {\n    bus = window._nc_event_bus = new SimpleBus();\n  }\n  return bus;\n}\nfunction emit(name, event) {\n  getBus().emit(name, event);\n}\n/*!\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\nclass FileListFilter extends TypedEventTarget {\n  id;\n  order;\n  constructor(id, order = 100) {\n    super();\n    this.id = id;\n    this.order = order;\n  }\n  filter(nodes) {\n    throw new Error(\"Not implemented\");\n  }\n  updateChips(chips) {\n    this.dispatchTypedEvent(\"update:chips\", new CustomEvent(\"update:chips\", { detail: chips }));\n  }\n  filterUpdated() {\n    this.dispatchTypedEvent(\"update:filter\", new CustomEvent(\"update:filter\"));\n  }\n}\nfunction registerFileListFilter(filter) {\n  if (!window._nc_filelist_filters) {\n    window._nc_filelist_filters = /* @__PURE__ */ new Map();\n  }\n  if (window._nc_filelist_filters.has(filter.id)) {\n    throw new Error(`File list filter \"${filter.id}\" already registered`);\n  }\n  window._nc_filelist_filters.set(filter.id, filter);\n  emit(\"files:filter:added\", filter);\n}\nfunction unregisterFileListFilter(filterId) {\n  if (window._nc_filelist_filters && window._nc_filelist_filters.has(filterId)) {\n    window._nc_filelist_filters.delete(filterId);\n    emit(\"files:filter:removed\", filterId);\n  }\n}\nfunction getFileListFilters() {\n  if (!window._nc_filelist_filters) {\n    return [];\n  }\n  return [...window._nc_filelist_filters.values()];\n}\nconst addNewFileMenuEntry = function(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.registerEntry(entry);\n};\nconst removeNewFileMenuEntry = function(entry) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.unregisterEntry(entry);\n};\nconst getNewFileMenuEntries = function(context) {\n  const newFileMenu = getNewFileMenu();\n  return newFileMenu.getEntries(context).sort((a2, b2) => {\n    if (a2.order !== void 0 && b2.order !== void 0 && a2.order !== b2.order) {\n      return a2.order - b2.order;\n    }\n    return a2.displayName.localeCompare(b2.displayName, void 0, { numeric: true, sensitivity: \"base\" });\n  });\n};\nexport {\n  Column,\n  DefaultType,\n  q as File,\n  FileAction,\n  FileListAction,\n  FileListFilter,\n  F as FileType,\n  FilesSortingMode,\n  s as Folder,\n  Header,\n  InvalidFilenameError,\n  InvalidFilenameErrorReason,\n  Navigation,\n  NewMenuEntryCategory,\n  N as Node,\n  t as NodeStatus,\n  P as Permission,\n  View,\n  addNewFileMenuEntry,\n  c as davGetClient,\n  l as davGetDefaultPropfind,\n  m as davGetFavoritesReport,\n  n as davGetRecentSearch,\n  a as davGetRemoteURL,\n  g as davGetRootPath,\n  p as davParsePermissions,\n  b as davRemoteURL,\n  r as davResultToNode,\n  d as davRootPath,\n  h as defaultDavNamespaces,\n  f as defaultDavProperties,\n  formatFileSize,\n  k as getDavNameSpaces,\n  j as getDavProperties,\n  e as getFavoriteNodes,\n  getFileActions,\n  getFileListActions,\n  getFileListFilters,\n  getFileListHeaders,\n  getNavigation,\n  getNewFileMenuEntries,\n  getUniqueName,\n  isFilenameValid,\n  orderBy,\n  parseFileSize,\n  i as registerDavProperty,\n  registerFileAction,\n  registerFileListAction,\n  registerFileListFilter,\n  registerFileListHeaders,\n  removeNewFileMenuEntry,\n  sortNodes,\n  unregisterFileListFilter,\n  validateFilename\n};\n"],"names":["setApp","detectUser","build","Permission","Permission2","FileType","FileType2","isDavResource","source","davService","match","validateData","data","id","Error","URL","e","startsWith","displayname","mtime","Date","crtime","mime","size","permissions","NONE","ALL","owner","attributes","root","includes","service","join","status","Object","values","NodeStatus","NodeStatus2","Node","_data","_attributes","_knownDavService","readonlyAttributes","entries","getOwnPropertyDescriptors","prototype","filter","get","map","handler","set","target","prop","value","this","Reflect","deleteProperty","receiver","warn","constructor","Proxy","update","replace","encodedSource","origin","slice","length","basename","extension","extname","dirname","split","pop","firstMatch","indexOf","url","pathname","updateMtime","READ","isDavRessource","path","fileid","structuredClone","move","destination","oldBasename","rename","basename2","name","TypeError","File","type","clone","Folder","super","defaultDavProperties","defaultDavNamespaces","d","nc","oc","ocs","getDavProperties","window","_nc_dav_properties","getDavNameSpaces","_nc_dav_namespaces","keys","ns","getDefaultPropfind","getRecentSearch","lastModified","uid","defaultRootPath","defaultRemoteURL","getRemoteURL","getClient","remoteURL","headers","client","setHeaders","token","requesttoken","patch","options","headers2","method","fetch","getFavoriteNodes","davClient","davRoot","controller","AbortController","CancelablePromise","async","resolve","reject","onCancel","abort","contentsResponse","getDirectoryContents","signal","details","includeSelf","node","filename","result","resultToNode","error","filesRoot","userId","props","permString","CREATE","UPDATE","DELETE","SHARE","parsePermissions","String","parse","lastmod","creationdate","nodeData","isNaN","getTime","Number","parseInt","getcontentlength","FAILED","hasPreview","DefaultType","DefaultType2","FileAction","_action","action","validateAction","displayName","title","iconSvgInline","enabled","exec","execBatch","order","parent","default","destructive","inline","renderInline","registerFileAction","_nc_fileactions","debug","find","search","push","InvalidFilenameErrorReason","InvalidFilenameErrorReason2","InvalidFilenameError","reason","segment","cause","validateFilename","capabilities","files","forbiddenCharacters","forbidden_filename_characters","_oc_config","forbidden_filenames_characters","character","toLocaleLowerCase","forbidden_filenames","endOfBasename","substring","forbidden_filename_basenames","forbiddenFilenameExtensions","forbidden_filename_extensions","endsWith","humanList","humanListBinary","formatFileSize","skipSmallSizes","binaryPrefixes","base1000","Math","floor","log","min","readableFormat","relativeSize","pow","toFixed","parseFloat","toLocaleString","stringify","toISOString","sortNodes","nodes","sortingOptions","sortingMode","sortingOrder","collection","identifiers2","orders","sorting","_","index","collator","Intl","Collator","numeric","usage","sort","a2","b2","identifier","compare","orderBy","sortFavoritesFirst","v","favorite","sortFoldersFirst","lastIndexOf","hasRequiredUtil","hasRequiredValidator","validator","util","requireUtil","exports","nameStartChar","nameRegexp","regexName","RegExp","isExist","isEmptyObject","obj","merge","arrayMode","len","i2","getValue","isName","string","getAllMatches","regex","matches","allmatches","startIndex","lastIndex","requireValidator","util2","defaultOptions","allowBooleanAttributes","unpairedTags","isWhiteSpace","char","readPI","xmlData","start","tagname","substr","getErrorObject","getLineNumberForPosition","readCommentAndCDATA","angleBracketsCount","validate","assign","tags","tagFound","reachedRoot","err","tagStartPos","closingTag","tagName","trim","validateTagName","msg","readAttributeStr","attrStr","attrStrStart","isValid","validateAttributeString","code","line","tagClosed","otg","openPos","col","afterAmp","validateAmpersand","JSON","t2","doubleQuote","singleQuote","startChar","validAttrStrRegxp","attrNames","getPositionFromMatch","attrName","validateAttrName","hasOwnProperty","re2","validateNumberAmpersand","count","message","lineNumber","lines","hasRequiredOptionsBuilder","xmlNode","hasRequiredXmlNode","DocTypeReader","hasRequiredDocTypeReader","strnum","hasRequiredStrnum","ignoreAttributes","hasRequiredIgnoreAttributes","OrderedObjParser_1","hasRequiredOrderedObjParser","OptionsBuilder","requireIgnoreAttributes","ignoreAttributes2","Array","isArray","pattern","test","requireOrderedObjParser","xmlNode2","child","add","key","val","addChild","readDocType","readEntityExp","entityName","isEntity","isElement","isAttlist","isNotation","validateEntityName","entities","hasBody","comment","exp","regx","i","requireDocTypeReader","toNumber","hexRegex","numRegex","consider","hex","leadingZeros","decimalPoint","eNotation","str","trimmedStr","skipLike","sign","numTrimmedByZeros","numStr","num","requireStrnum","getIgnoreAttributesFn","addExternalEntities","externalEntities","entKeys","ent","lastEntities","parseTextData","jPath","dontTrim","hasAttributes","isLeafNode","escapeEntities","trimValues","replaceEntitiesValue","newval","tagValueProcessor","parseValue","parseTagValue","numberParseOptions","resolveNameSpace","removeNSPrefix","prefix","charAt","attrsRegx","buildAttributesMap","attrs","ignoreAttributesFn","oldVal","aName","attributeNamePrefix","transformAttributeName","newVal","attributeValueProcessor","parseAttributeValue","attributesGroupName","attrCollection","parseXml","xmlObj","currentNode","textData","closeIndex","findClosingIndex","colonIndex","transformTagName","saveTextToParentTag","lastTagName","propIndex","tagsNodeStack","tagData","readTagExp","ignoreDeclaration","ignorePiTags","childNode","textNodeName","tagExp","attrExpPresent","endIndex","commentPropName","docTypeEntities","cdataPropName","rawTagName","lastTag","isItStopNode","stopNodes","tagContent","result2","readStopNodeData","updateTag","processEntities","entity","htmlEntities","ampEntity","currentTagName","allNodesExp","stopNodePath","stopNodeExp","errMsg","closingIndex","closingChar","attrBoundary","ch","tagExpWithClosingIndex","separatorIndex","trimStart","openTagCount","shouldParse","fromCharCode","hasRequiredNode2json","XMLParser_1","hasRequiredXMLParser","orderedJs2Xml","hasRequiredOrderedJs2Xml","json2xml","hasRequiredJson2xml","fxp","hasRequiredFxp","node2json","requireNode2json","compress","arr","text","compressedObj","tagObj","property","propName","newJpath","isLeaf","isLeafTag","assignAttributes","alwaysCreateTextNode","attrMap","jpath","atrrName","propCount","prettify","requireXMLParser","buildOptions","preserveOrder","requireOptionsBuilder","OrderedObjParser","validator2","validationOption","toString","orderedObjParser","orderedResult","addEntity","requireOrderedJs2Xml","arrToStr","indentation","xmlStr","isPreviousElementTag","newJPath","tagText","isStopNode","attStr2","attr_to_str","tempInd","piTextNodeName","newIdentation","indentBy","tagStart","tagValue","suppressUnpairedNode","suppressEmptyNode","attr","attrVal","suppressBooleanAttributes","textValue","jArray","format","XMLParser","XMLBuilder","buildFromOrderedJs","oneListGroup","Builder","isAttribute","attrPrefixLen","processTextOrObjNode","indentate","tagEndChar","newLine","object","level","ajPath","j2x","concat","buildTextValNode","buildObjectNode","repeat","jObj","arrayNodeName","call","buildAttrPairStr","arrLen","listTagVal","listTagAttr","j2","item","Ks","L","closeTag","tagEndExp","piClosingChar","requireJson2xml","XMLValidator","requireFxp","debug_1","hasRequiredDebug","constants","hasRequiredConstants","requireDebug","process","env","NODE_DEBUG","args","console","requireConstants","MAX_SAFE_INTEGER","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","hasRequiredRe","parseOptions_1","hasRequiredParseOptions","identifiers","hasRequiredIdentifiers","semver","hasRequiredSemver","parse_1","hasRequiredParse","valid_1","hasRequiredValid","re","requireRe","module","safeRe","src","t","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","max","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","requireSemver","parseOptions","looseOption","freeze","loose","emptyOpts","requireParseOptions","compareIdentifiers","anum","bnum","rcompareIdentifiers","requireIdentifiers","SemVer","version","includePrerelease","m2","LOOSE","FULL","raw","major","minor","prerelease","other","compareMain","comparePre","compareBuild","inc","release","identifierBase","base","throwErrors","er","requireParse","requireValid","major_1","hasRequiredMajor","requireMajor"],"sourceRoot":""}