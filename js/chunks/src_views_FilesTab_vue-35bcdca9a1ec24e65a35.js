/*! For license information please see src_views_FilesTab_vue-35bcdca9a1ec24e65a35.js.LICENSE.txt */
"use strict";(self.webpackChunkfiles_archive=self.webpackChunkfiles_archive||[]).push([["src_views_FilesTab_vue"],{8867:(t,e,i)=>{i.r(e),i.d(e,{Vue:()=>a.Ay,default:()=>M});var s=i(9027),a=i(5471),o=i(5845),n=i(9498),r=i(1338),c=i(1777);const h=function(t,e,i){let a=(0,n.Jv)("/apps/"+s.J+"/"+t,e,i);const o={...e};for(const e of t.matchAll(/{([^{}]*)}/g))delete o[e[1]];const r=[];for(const[t,e]of Object.entries(o))try{r.push(t+"="+encodeURIComponent(e.toString()))}catch(t){console.debug("STRING CONVERSION ERROR",t)}return r.length>0&&(a+="?"+r.join("&")),a};var l=i(8558),u=i(5810);const v=function(t,e){const i="/"+(e=e||(0,c.HW)().uid)+"/files";if(t.topLevelFolder!==i)throw new Error(`${t.path} is located outside of the front end user file space ${i}.`);const s={id:t.fileid,source:(0,n.dC)((0,l.join)("dav/files",e,t.relativePath)),root:`/files/${e}`,mime:t.mime,mtime:new Date(1e3*t.lastmod),owner:e,size:t.size,permissions:t.permissions,attributes:{...t,"has-preview":t.hasPreview}};return"file"===t.type?new u.ZH(s):new u.vd(s)};var f=i(8922),m=i.n(f),d=i(5168),p=i(3334),P=i(6333),N=i(5873),x=i(6390),I=i(1458);a.Ay.directive("tooltip",P.m_),a.Ay.mixin({data:()=>({appName:s.J}),methods:{t:p.Tl,n:p.zw}});const g={name:"FilesTab",components:{NcActions:P.B6,NcActionButton:P.Ko,NcActionInput:P.Az,NcActionCheckbox:P.RI,ListItem:N.A,FilePrefixPicker:x.A},data:()=>({fileInfo:{},fileName:void 0,showArchiveInfo:!0,showArchivePassPhrase:!1,showArchiveMounts:!1,showArchiveExtraction:!1,initialState:{},archiveInfo:{},archiveStatus:null,archiveMounts:[],openMountTarget:m()((0,n.Jv)("")+s.J+"-open-archive-mount"),loading:0,archiveMountFileInfo:{dirName:void 0,baseName:void 0},archiveMountStripCommonPathPrefix:!1,archiveMountBackgroundJob:!1,archiveExtractFileInfo:{dirName:void 0,baseName:void 0},archiveExtractStripCommonPathPrefix:!1,archiveExtractBackgroundJob:!1,archivePassPhrase:void 0,backgroundMountsTimer:void 0}),computed:{archiveFileId(){return this.fileInfo?.id},archiveFileDirName(){return this.fileInfo.path},archiveFileBaseName(){return this.fileInfo.name},archiveFilePathName(){return this.fileInfo.path+"/"+this.fileInfo.name},archiveMounted(){return this.archiveMounts.length>0},archiveMountBaseName:{get(){return this.archiveMountFileInfo.baseName},set(t){return(0,a.hZ)(this.archiveMountFileInfo,"baseName",t),t}},archiveMountDirName:{get(){return this.archiveMountFileInfo.dirName},set(t){return(0,a.hZ)(this.archiveMountFileInfo,"dirName",t),t}},archiveMountPathName(){return this.archiveMountDirName+(this.archiveMountBaseName?"/"+this.archiveMountBaseName:"")},archiveExtractBaseName:{get(){return this.archiveExtractFileInfo.baseName},set(t){return(0,a.hZ)(this.archiveExtractFileInfo,"baseName",t),t}},archiveExtractDirName:{get(){return this.archiveExtractFileInfo.dirName},set(t){return(0,a.hZ)(this.archiveExtractFileInfo,"dirName",t),t}},archiveExtractPathName(){return this.archiveExtractDirName+(this.archiveExtractBaseName?"/"+this.archiveExtractBaseName:"")},archiveInfoText(){return JSON.stringify(this.archiveInfo,null,2)},humanArchiveOriginalSize(){return isNaN(parseInt(this.archiveInfo.originalSize))?(0,p.Tl)(s.J,"unknown"):(0,u.v7)(this.archiveInfo.originalSize)},humanArchiveCompressedSize(){return isNaN(parseInt(this.archiveInfo.compressedSize))?(0,p.Tl)(s.J,"unknown"):(0,u.v7)(this.archiveInfo.compressedSize)},humanArchiveFileSize(){return isNaN(parseInt(this.archiveInfo.size))?(0,p.Tl)(s.J,"unknown"):(0,u.v7)(this.archiveInfo.size)},numberOfArchiveMembers(){return!this.archiveInfo||void 0===this.archiveInfo.numberOfFiles||isNaN(parseInt(""+this.archiveInfo.numberOfFiles))?(0,p.Tl)(s.J,"unknown"):""+this.archiveInfo.numberOfFiles},commonPathPrefix(){return this.archiveInfo&&void 0!==this.archiveInfo.commonPathPrefix?"/"+this.archiveInfo.commonPathPrefix:(0,p.Tl)(s.J,"unknown")},archiveStatusText(){return 0===this.archiveStatus?(0,p.Tl)(s.J,"ok"):2&this.archiveStatus?(0,p.Tl)(s.J,"zip bomb"):1&this.archiveStatus?(0,p.Tl)(s.J,"too large"):(0,p.Tl)(s.J,"unknown")},mountPointTitle(){return(0,p.Tl)(s.J,"Mount Points")+" ("+(this.archiveMounted?this.archiveMounts.length:(0,p.Tl)(s.J,"not mounted"))+")"}},created(){(0,r.B1)("files:node:deleted",this.onMountPointDeleted),(0,r.B1)("files:node:renamed",this.onMountPointRenamed),(0,r.B1)("notifications:notification:received",this.onNotification)},mounted(){},beforeDestroy(){this.backgroundMountsTimer&&(clearInterval(this.backgroundMountsTimer),this.backgroundMountsTimer=void 0)},methods:{info(){console.info.apply(null,arguments)},setBusyState(){},async update(t){console.info("FILE INFO",t),this.fileInfo=t,this.fileName=t.path+"/"+t.name,this.archiveMountBaseName=t.name.split(".")[0],this.archiveMountDirName=t.path,this.archiveExtractBaseName=this.archiveMountBaseName,this.archiveExtractDirName=this.archiveMountDirName,this.getData()},async getData(){this.initialState=(0,o.C)(),this.archiveMountStripCommonPathPrefix=!!this.initialState.mountStripCommonPathPrefixDefault,this.archiveExtractStripCommonPathPrefix=!!this.initialState.extractStripCommonPathPrefixDefault,this.archiveMountBackgroundJob=!!this.initialState.mountBackgroundJob,this.archiveExtractBackgroundJob=!!this.initialState.extractBackgroundJob,this.getArchiveInfo(this.fileName),this.refreshArchiveMounts(this.fileName,!0)},async getArchiveInfo(t){++this.loading,t=encodeURIComponent(t);const e=h("archive/info/{fileName}",{fileName:t}),i={};this.archivePassPhrase&&(i.passPhrase=this.archivePassPhrase);try{const t=(await I.Ay.post(e,i)).data;this.archiveInfo=t.archiveInfo,this.archiveStatus=t.archiveStatus;for(const e of t.messages)(0,d.cf)(e);console.info("ARCHIVE INFO",this.archiveInfo)}catch(t){if(console.error("ERROR",t),t.response&&t.response.data){const e=t.response.data;if(this.archiveInfo=e.archiveInfo,this.archiveStatus=e.archiveStatus,e.messages)for(const t of e.messages)(0,d.Qg)(t,{timeout:d.DH})}else this.archiveInfo={}}this.archiveInfo.defaultMountPoint&&(this.archiveMountBaseName=this.archiveInfo.defaultMountPoint),this.archiveInfo.defaultTargetBaseName&&(this.archiveExtractBaseName=this.archiveInfo.defaultTargetBaseName),--this.loading},async refreshArchiveMounts(t,e){const i=[...this.archiveMounts],s=await this.getArchiveMounts(t,!1);if(this.archiveMounts=s.mounts,e)return;const a=this.archiveMounts.filter((t=>-1===i.findIndex((e=>t.mountPoint.fileid===e.mountPoint.fileid)))),o=i.filter((t=>-1===this.archiveMounts.findIndex((e=>e.mountPoint.fileid===t.mountPoint.fileid))));for(const t of o){const e=v(t.mountPoint);e.attributes["is-mount-root"]=!0,console.info("EMIT DELETED",e),(0,r.Ic)("files:node:deleted",e)}for(const t of a){const e=v(t.mountPoint);e.attributes["is-mount-root"]=!0,console.info("EMIT CREATED",e),(0,r.Ic)("files:node:created",e)}},async getArchiveMounts(t,e){const i={mounts:[],mounted:!1};!0!==e&&++this.loading,t=encodeURIComponent(t);const s=h("archive/mount/{fileName}",{fileName:t});try{const t=(await I.Ay.get(s)).data;i.mounts=t.mounts,i.mounted=t.mounted;for(const e of t.messages)(0,d.cf)(e);console.info("MOUNTS",this.archiveMounts)}catch(t){if(console.error("ERROR",t),t.response&&t.response.data){const e=t.response.data;if(i.mounts=e.mounts,i.mounted=e.mounted,e.messages)for(const t of e.messages)(0,d.Qg)(t,{timeout:d.DH})}}for(const t of i.mounts){const e=t.mountPointPath.split("/"),i=e.pop(),s=e.join("/");t.baseName=i,t.dirName=s,!this.archivePassPhrase&&t.archivePassPhrase&&(this.archivePassPhrase=t.archivePassPhrase),delete t.archivePassPhrase}return!0!==e&&--this.loading,i},async mountArchive(){const t=encodeURIComponent(this.fileInfo.path+"/"+this.fileInfo.name),e=encodeURIComponent(this.archiveMountPathName),i=this.archiveMountBackgroundJob?"archive/schedule/mount/{archivePath}/{mountPath}":"archive/mount/{archivePath}/{mountPath}",a=h(i,{archivePath:t,mountPath:e});this.setBusyState(!0);const o={};this.archivePassPhrase&&(o.passPhrase=this.archivePassPhrase),o.stripCommonPathPrefix=!!this.archiveMountStripCommonPathPrefix;try{const t=await I.Ay.post(a,o);if(!this.archiveMountBackgroundJob){const e=t.data,i=e.mountPoint.fileid;if(-1===this.archiveMounts.findIndex((t=>t.mountPoint.fileid===i))){this.archiveMounts.push(e);const i=v(t.data.mountPoint);i.attributes["is-mount-root"]=!0,console.info("EMIT CREATED",i),(0,r.Ic)("files:node:created",i)}}}catch(t){if(console.error("ERROR",t),t.response){const e=[];if(t.response.data){const i=t.response.data;i.messages&&e.splice(e.length,0,i.messages)}e.length||e.push((0,p.Tl)(s.J,'Mount request failed with error {status}, "{statusText}".',t.response));for(const t of e)(0,d.Qg)(t,{timeout:d.DH})}}this.setBusyState(!1)},async unmount(t){console.info("UNMOUNT MOUNT",t);const e=(0,c.HW)(),i=(0,n.dC)("dav/files/"+e.uid+t.mountPointPath);this.setBusyState(!0);try{await I.Ay.delete(i);const e=this.archiveMounts.indexOf(t);e>=0?this.archiveMounts.splice(e,1):console.error("UNABLE TO FIND DELETED MOUNT IN LIST",t,this.archiveMounts);const s=v(t.mountPoint);s.attributes["is-mount-root"]=!0,console.info("EMIT DELETED"),(0,r.Ic)("files:node:deleted",s)}catch(t){console.error("ERROR",t);const e=[];if(t.response){const i=t.response.request.responseXML;if(i&&"error"===i.documentElement.localName&&"DAV:"===i.documentElement.namespaceURI){const t=i.getElementsByTagNameNS("http://sabredav.org/ns","message");for(const i of t)e.push(i.textContent)}if(t.response.data){const i=t.response.data;i.messages&&e.splice(e.length,0,...i.messages)}e.length||e.push((0,p.Tl)(s.J,'Unmount request failed with error {status}, "{statusText}".',t.response));for(const t of e)(0,d.Qg)(t,{timeout:d.DH});404===t.response.status&&this.refreshArchiveMounts()}}this.setBusyState(!1)},onNotification(t){if(t?.notification?.app!==s.J)return;const e=t?.notification?.messageRichParameters?.destination;if(e?.mount?.archiveFileId===this.archiveFileId){if("mount"===e?.status){console.info("*** Mount notification received, updating mount-list",e);const t=e.id;if(-1===this.archiveMounts.findIndex((e=>e.mountPoint.fileid===t))){const t=e.mount;t.mountPoint=e.folder,this.archiveMounts.push(t)}}}else console.info("*** Archive notification for other file received",t)},onMountPointRenamed(t){const e=t.fileid,i=this.archiveMounts.findIndex((t=>t.mountPoint.fileid===e));i>=0?(console.info("BERFORE RENAME",{...this.archiveMounts[i]}),(0,a.hZ)(this.archiveMounts[i],"mountPoint",t),(0,a.hZ)(this.archiveMounts[i],"mountPointPath",t.path),(0,a.hZ)(this.archiveMounts[i],"mountPointPathHash",m()(t.path)),console.info("AFTER RENAME",{...this.archiveMounts[i]})):console.info("RENAME OF NODE NOT FOR US",t)},onMountPointDeleted(t){const e=t.fileid,i=this.archiveMounts.findIndex((t=>t.mountPoint.fileid===e));i>=0?(this.archiveMounts.splice(i,1),console.info("RECORD UNMOUNT",t)):console.info("DELETE OF NODE NOT FOR US",t)},async extractArchive(){const t=encodeURIComponent(this.fileInfo.path+"/"+this.fileInfo.name),e=encodeURIComponent(this.archiveExtractPathName),i=this.archiveExtractBackgroundJob?"archive/schedule/extract/{archivePath}/{targetPath}":"archive/extract/{archivePath}/{targetPath}",a=h(i,{archivePath:t,targetPath:e});this.setBusyState(!0);const o={};this.archivePassPhrase&&(o.passPhrase=this.archivePassPhrase),o.stripCommonPathPrefix=!!this.archiveExtractStripCommonPathPrefix;try{const t=await I.Ay.post(a,o);if(!this.archiveExtractBackgroundJob){const e=v(t.data.targetFolder);e.attributes["is-mount-root"]=!0,console.info("EMIT CREATED"),(0,r.Ic)("files:node:created",e)}}catch(t){if(console.error("ERROR",t),t.response){const e=[];if(t.response.data){const i=t.response.data;i.messages&&e.splice(e.length,0,i.messages)}e.length||e.push((0,p.Tl)(s.J,'Archive extraction failed with error {status}, "{statusText}".',t.response));for(const t of e)(0,d.Qg)(t,{timeout:d.DH})}}this.setBusyState(!1)},async setPassPhrase(){const t=this.showArchivePassPhrase?this.$refs.archivePassPhrase.$el.querySelector('input[type="text"]').value:this.$refs.archivePassPhrase.$el.querySelector('input[type="password"]').value;this.archivePassPhrase=t;const e=encodeURIComponent(this.fileInfo.path+"/"+this.fileInfo.name),i=(0,n.Jv)("/apps/"+s.J+"/archive/mount/{archivePath}",{archivePath:e});this.setBusyState(!0);const a={changeSet:{archivePassPhrase:this.archivePassPhrase}};try{await I.Ay.patch(i,a)}catch(t){if(console.error("ERROR",t),t.response){const e=[];if(t.response.data){const i=t.response.data;i.messages&&e.splice(e.length,0,i.messages)}e.length||e.push((0,p.Tl)(s.J,'Patching the passphrase failed with error {status}, "{statusText}".',t.response));for(const t of e)(0,d.Qg)(t,{timeout:d.DH})}}this.setBusyState(!1)},async togglePassPhraseVisibility(){let t=this.showArchivePassPhrase?this.$refs.archivePassPhrase.$el.querySelector('input[type="text"]'):this.$refs.archivePassPhrase.$el.querySelector('input[type="password"]');const e=t.value;this.showArchivePassPhrase=!this.showArchivePassPhrase,await(0,a.dY)(),t=this.showArchivePassPhrase?this.$refs.archivePassPhrase.$el.querySelector('input[type="text"]'):this.$refs.archivePassPhrase.$el.querySelector('input[type="password"]'),t.value=e},filesAppMountPointUrl:t=>(0,n.Jv)("/apps/files")+"?dir="+encodeURIComponent(t.mountPointPath)}};const M=(0,i(4486).A)(g,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"files-tab"},[e("ul",[e("li",{staticClass:"files-tab-entry flex flex-center clickable",on:{click:function(e){t.showArchiveInfo=!t.showArchiveInfo}}},[e("div",{staticClass:"files-tab-entry__avatar icon-info-white"}),t._v(" "),e("div",{staticClass:"files-tab-entry__desc"},[e("h5",[t._v(t._s(t.t(t.appName,"Archive Information")))])]),t._v(" "),e("NcActions",[e("NcActionButton",{attrs:{icon:"icon-triangle-"+(t.showArchiveInfo?"n":"s")},model:{value:t.showArchiveInfo,callback:function(e){t.showArchiveInfo=e},expression:"showArchiveInfo"}})],1)],1),t._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:t.showArchiveInfo,expression:"showArchiveInfo"}],staticClass:"files-tab-entry"},[t.loading?e("div",{staticClass:"icon-loading-small"}):t._e(),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"archive-info"},[t.archiveStatus>0?e("ListItem",{class:{"archive-error":t.archiveStatus>0},attrs:{title:t.t(t.appName,"archive status"),bold:!0,details:t.archiveStatusText},scopedSlots:t._u([{key:"icon",fn:function(){return[e("div",{staticClass:"icon-error"})]},proxy:!0}],null,!1,2833062560)}):t._e(),t._v(" "),e("ListItem",{attrs:{title:t.t(t.appName,"archive format"),bold:!0,details:t.archiveInfo.format||t.t(t.appName,"unknown")}}),t._v(" "),e("ListItem",{attrs:{title:t.t(t.appName,"MIME type"),bold:!0,details:t.archiveInfo.mimeType||t.t(t.appName,"unknown")}}),t._v(" "),e("ListItem",{attrs:{title:t.t(t.appName,"backend driver"),bold:!0,details:t.archiveInfo.backendDriver||t.t(t.appName,"unknown")}}),t._v(" "),e("ListItem",{attrs:{title:t.t(t.appName,"uncompressed size"),bold:!0,details:t.humanArchiveOriginalSize}}),t._v(" "),e("ListItem",{attrs:{title:t.t(t.appName,"compressed size"),bold:!0,details:t.humanArchiveCompressedSize}}),t._v(" "),t.humanArchiveCompressedSize!==t.humanArchiveFileSize?e("ListItem",{attrs:{title:t.t(t.appName,"archive file size"),bold:!0,details:t.humanArchiveFileSize}}):t._e(),t._v(" "),e("ListItem",{attrs:{title:t.t(t.appName,"# archive members"),bold:!0,details:t.numberOfArchiveMembers}}),t._v(" "),e("ListItem",{attrs:{title:t.t(t.appName,"common prefix"),bold:!0,details:t.commonPathPrefix}}),t._v(" "),t.archiveInfo.comment?e("ListItem",{staticClass:"archive-comment",attrs:{title:t.t(t.appName,"creator's comment"),bold:!0},scopedSlots:t._u([{key:"subtitle",fn:function(){return[t._v("\n            "+t._s(t.archiveInfo.comment)+"\n          ")]},proxy:!0}],null,!1,3635500645)}):t._e()],1)]),t._v(" "),e("li",{staticClass:"files-tab-entry flex flex-center"},[e("div",{staticClass:"files-tab-entry__avatar icon-password-white"}),t._v(" "),e("div",{staticClass:"files-tab-entry__desc"},[e("h5",[e("span",{staticClass:"main-title"},[t._v(t._s(t.t(t.appName,"Passphrase")))]),t._v(" "),t.archivePassPhrase?t._e():e("span",{staticClass:"title-annotation"},[t._v("("+t._s(t.t(t.appName,"unset"))+")")])])]),t._v(" "),e("NcActions",{attrs:{"force-menu":!0}},[t.showArchivePassPhrase?e("NcActionInput",{ref:"archivePassPhrase",attrs:{value:t.archivePassPhrase,type:"text",icon:"icon-password"},on:{submit:t.setPassPhrase}},[t._v("\n          "+t._s(t.t(t.appName,"archive passphrase"))+"\n        ")]):e("NcActionInput",{ref:"archivePassPhrase",attrs:{value:t.archivePassPhrase,type:"password",icon:"icon-password"},on:{submit:t.setPassPhrase}},[t._v("\n          "+t._s(t.t(t.appName,"archive passphrase"))+"\n        ")]),t._v(" "),e("NcActionCheckbox",{on:{change:t.togglePassPhraseVisibility}},[t._v("\n          "+t._s(t.t(t.appName,"Show Passphrase"))+"\n        ")])],1)],1),t._v(" "),e("li",{staticClass:"files-tab-entry flex flex-center clickable",on:{click:function(e){t.showArchiveMounts=!t.showArchiveMounts}}},[e("div",{staticClass:"files-tab-entry__avatar icon-external-white"}),t._v(" "),e("div",{staticClass:"files-tab-entry__desc"},[e("h5",[e("span",{staticClass:"main-title"},[t._v(t._s(t.t(t.appName,"Mount Points")))]),t._v(" "),t.archiveMounted?e("span",{staticClass:"title-annotation"},[t._v("("+t._s(""+t.archiveMounts.length)+")")]):e("span",{staticClass:"title-annotation"},[t._v("("+t._s(t.t(t.appName,"not mounted"))+")")])])]),t._v(" "),e("NcActions",[e("NcActionButton",{attrs:{icon:"icon-triangle-"+(t.showArchiveMounts?"n":"s")},model:{value:t.showArchiveMounts,callback:function(e){t.showArchiveMounts=e},expression:"showArchiveMounts"}})],1)],1),t._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:t.showArchiveMounts,expression:"showArchiveMounts"}],staticClass:"directory-chooser files-tab-entry"},[t.loading?e("div",{staticClass:"icon-loading-small"}):t.archiveMounted?e("ul",{staticClass:"archive-mounts"},t._l(t.archiveMounts,(function(i){return e("ListItem",{key:i.id,attrs:{"force-display-actions":!0,bold:!1},scopedSlots:t._u([{key:"title",fn:function(){return[e("a",{staticClass:"external icon-folder icon",attrs:{target:t.openMountTarget,href:t.filesAppMountPointUrlI(i)}},[t._v("\n              "+t._s(i.mountPointPath)+"\n            ")])]},proxy:!0},{key:"actions",fn:function(){return[e("NcActionButton",{attrs:{icon:"icon-delete"},on:{click:function(e){return t.unmount(i,...arguments)}}})]},proxy:!0},1&i.mountFlags?{key:"extra",fn:function(){return[e("div",[t._v(t._s(t.t(t.appName,"Common prefix {prefix} is stripped.",{prefix:t.commonPathPrefix})))])]},proxy:!0}:null],null,!0)})})),1):e("div",[e("FilePrefixPicker",{attrs:{hint:t.t(t.appName,"Not mounted, create a new mount point:"),placeholder:t.t(t.appName,"base name")},on:{update:t.mountArchive},model:{value:t.archiveMountFileInfo,callback:function(e){t.archiveMountFileInfo=e},expression:"archiveMountFileInfo"}}),t._v(" "),e("div",{staticClass:"flex flex-center"},[e("div",{staticClass:"label",on:{click:function(e){return t.$refs.mountOptions.openMenu()}}},[t._v("\n            "+t._s(t.t(t.appName,"Mount Options"))+"\n          ")]),t._v(" "),e("NcActions",{ref:"mountOptions",attrs:{"force-menu":!0}},[e("NcActionCheckbox",{ref:"mountStripCommonPathPrefix",attrs:{checked:t.archiveMountStripCommonPathPrefix},on:{change:function(e){t.archiveMountStripCommonPathPrefix=!t.archiveMountStripCommonPathPrefix}}},[t._v("\n              "+t._s(t.t(t.appName,"strip common path prefix"))+"\n            ")]),t._v(" "),e("NcActionCheckbox",{ref:"mountBackgroundJob",attrs:{checked:t.archiveMountBackgroundJob},on:{change:function(e){t.archiveMountBackgroundJob=!t.archiveMountBackgroundJob}}},[t._v("\n              "+t._s(t.t(t.appName,"schedule as background job"))+"\n            ")])],1)],1)],1)]),t._v(" "),e("li",{staticClass:"files-tab-entry flex flex-center clickable",on:{click:function(e){t.showArchiveExtraction=!t.showArchiveExtraction}}},[e("div",{staticClass:"files-tab-entry__avatar icon-play-white"}),t._v(" "),e("div",{staticClass:"files-tab-entry__desc"},[e("h5",[t._v(t._s(t.t(t.appName,"Extract Archive")))])]),t._v(" "),e("NcActions",[e("NcActionButton",{attrs:{icon:"icon-triangle-"+(t.showArchiveExtraction?"n":"s")},model:{value:t.showArchiveExtraction,callback:function(e){t.showArchiveExtraction=e},expression:"showArchiveExtraction"}})],1)],1),t._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:t.showArchiveExtraction,expression:"showArchiveExtraction"}],staticClass:"directory-chooser files-tab-entry"},[t.loading?e("div",{staticClass:"icon-loading-small"}):e("div",[e("FilePrefixPicker",{attrs:{hint:t.t(t.appName,"Choose a directory to extract the archive to:"),placeholder:t.t(t.appName,"basename")},on:{update:t.extractArchive},model:{value:t.archiveExtractFileInfo,callback:function(e){t.archiveExtractFileInfo=e},expression:"archiveExtractFileInfo"}}),t._v(" "),e("div",{staticClass:"flex flex-center"},[e("div",{staticClass:"label",on:{click:function(e){return t.$refs.extractionOptions.openMenu()}}},[t._v("\n            "+t._s(t.t(t.appName,"Extraction Options"))+"\n          ")]),t._v(" "),e("NcActions",{ref:"extractionOptions",attrs:{"force-menu":!0}},[e("NcActionCheckbox",{attrs:{checked:t.archiveExtractStripCommonPathPrefix},on:{change:function(e){t.archiveExtractStripCommonPathPrefix=!t.archiveExtractStripCommonPathPrefix}}},[t._v("\n              "+t._s(t.t(t.appName,"strip common path prefix"))+"\n            ")]),t._v(" "),e("NcActionCheckbox",{ref:"extractBackgroundJob",attrs:{checked:t.archiveExtractBackgroundJob},on:{change:function(e){t.archiveExtractBackgroundJob=!t.archiveExtractBackgroundJob}}},[t._v("\n              "+t._s(t.t(t.appName,"schedule as background job"))+"\n            ")])],1)],1)],1)])])])}),[],!1,null,"7ac4e0a8",null).exports}}]);
//# sourceMappingURL=src_views_FilesTab_vue-35bcdca9a1ec24e65a35.js.map