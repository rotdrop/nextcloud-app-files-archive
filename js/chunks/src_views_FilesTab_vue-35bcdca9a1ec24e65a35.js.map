{"version":3,"file":"js/chunks/src_views_FilesTab_vue-35bcdca9a1ec24e65a35.js","mappings":"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","sources":["webpack://files-archive/./src/views/FilesTab.vue","webpack://files-archive/./src/toolkit/util/generate-url.js","webpack://files-archive/./src/toolkit/util/file-node-helper.js","webpack://files-archive/src/views/FilesTab.vue","webpack://files-archive/./src/views/FilesTab.vue?8640","webpack://files-archive/./src/views/FilesTab.vue?3e00"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"files-tab\"},[_c('ul',[_c('li',{staticClass:\"files-tab-entry flex flex-center clickable\",on:{\"click\":function($event){_vm.showArchiveInfo = !_vm.showArchiveInfo}}},[_c('div',{staticClass:\"files-tab-entry__avatar icon-info-white\"}),_vm._v(\" \"),_c('div',{staticClass:\"files-tab-entry__desc\"},[_c('h5',[_vm._v(_vm._s(_vm.t(_vm.appName, 'Archive Information')))])]),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":'icon-triangle-' + (_vm.showArchiveInfo ? 'n' : 's')},model:{value:(_vm.showArchiveInfo),callback:function ($$v) {_vm.showArchiveInfo=$$v},expression:\"showArchiveInfo\"}})],1)],1),_vm._v(\" \"),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showArchiveInfo),expression:\"showArchiveInfo\"}],staticClass:\"files-tab-entry\"},[(_vm.loading)?_c('div',{staticClass:\"icon-loading-small\"}):_vm._e(),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"archive-info\"},[(_vm.archiveStatus > 0)?_c('ListItem',{class:{ 'archive-error': _vm.archiveStatus > 0 },attrs:{\"title\":_vm.t(_vm.appName, 'archive status'),\"bold\":true,\"details\":_vm.archiveStatusText},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('div',{staticClass:\"icon-error\"})]},proxy:true}],null,false,2833062560)}):_vm._e(),_vm._v(\" \"),_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, 'archive format'),\"bold\":true,\"details\":_vm.archiveInfo.format || _vm.t(_vm.appName, 'unknown')}}),_vm._v(\" \"),_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, 'MIME type'),\"bold\":true,\"details\":_vm.archiveInfo.mimeType || _vm.t(_vm.appName, 'unknown')}}),_vm._v(\" \"),_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, 'backend driver'),\"bold\":true,\"details\":_vm.archiveInfo.backendDriver || _vm.t(_vm.appName, 'unknown')}}),_vm._v(\" \"),_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, 'uncompressed size'),\"bold\":true,\"details\":_vm.humanArchiveOriginalSize}}),_vm._v(\" \"),_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, 'compressed size'),\"bold\":true,\"details\":_vm.humanArchiveCompressedSize}}),_vm._v(\" \"),(_vm.humanArchiveCompressedSize !== _vm.humanArchiveFileSize)?_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, 'archive file size'),\"bold\":true,\"details\":_vm.humanArchiveFileSize}}):_vm._e(),_vm._v(\" \"),_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, '# archive members'),\"bold\":true,\"details\":_vm.numberOfArchiveMembers}}),_vm._v(\" \"),_c('ListItem',{attrs:{\"title\":_vm.t(_vm.appName, 'common prefix'),\"bold\":true,\"details\":_vm.commonPathPrefix}}),_vm._v(\" \"),(_vm.archiveInfo.comment)?_c('ListItem',{staticClass:\"archive-comment\",attrs:{\"title\":_vm.t(_vm.appName, 'creator\\'s comment'),\"bold\":true},scopedSlots:_vm._u([{key:\"subtitle\",fn:function(){return [_vm._v(\"\\n            \"+_vm._s(_vm.archiveInfo.comment)+\"\\n          \")]},proxy:true}],null,false,3635500645)}):_vm._e()],1)]),_vm._v(\" \"),_c('li',{staticClass:\"files-tab-entry flex flex-center\"},[_c('div',{staticClass:\"files-tab-entry__avatar icon-password-white\"}),_vm._v(\" \"),_c('div',{staticClass:\"files-tab-entry__desc\"},[_c('h5',[_c('span',{staticClass:\"main-title\"},[_vm._v(_vm._s(_vm.t(_vm.appName, 'Passphrase')))]),_vm._v(\" \"),(!_vm.archivePassPhrase)?_c('span',{staticClass:\"title-annotation\"},[_vm._v(\"(\"+_vm._s(_vm.t(_vm.appName, 'unset'))+\")\")]):_vm._e()])]),_vm._v(\" \"),_c('NcActions',{attrs:{\"force-menu\":true}},[(_vm.showArchivePassPhrase)?_c('NcActionInput',{ref:\"archivePassPhrase\",attrs:{\"value\":_vm.archivePassPhrase,\"type\":\"text\",\"icon\":\"icon-password\"},on:{\"submit\":_vm.setPassPhrase}},[_vm._v(\"\\n          \"+_vm._s(_vm.t(_vm.appName, 'archive passphrase'))+\"\\n        \")]):_c('NcActionInput',{ref:\"archivePassPhrase\",attrs:{\"value\":_vm.archivePassPhrase,\"type\":\"password\",\"icon\":\"icon-password\"},on:{\"submit\":_vm.setPassPhrase}},[_vm._v(\"\\n          \"+_vm._s(_vm.t(_vm.appName, 'archive passphrase'))+\"\\n        \")]),_vm._v(\" \"),_c('NcActionCheckbox',{on:{\"change\":_vm.togglePassPhraseVisibility}},[_vm._v(\"\\n          \"+_vm._s(_vm.t(_vm.appName, 'Show Passphrase'))+\"\\n        \")])],1)],1),_vm._v(\" \"),_c('li',{staticClass:\"files-tab-entry flex flex-center clickable\",on:{\"click\":function($event){_vm.showArchiveMounts = !_vm.showArchiveMounts}}},[_c('div',{staticClass:\"files-tab-entry__avatar icon-external-white\"}),_vm._v(\" \"),_c('div',{staticClass:\"files-tab-entry__desc\"},[_c('h5',[_c('span',{staticClass:\"main-title\"},[_vm._v(_vm._s(_vm.t(_vm.appName, 'Mount Points')))]),_vm._v(\" \"),(_vm.archiveMounted)?_c('span',{staticClass:\"title-annotation\"},[_vm._v(\"(\"+_vm._s('' + _vm.archiveMounts.length)+\")\")]):_c('span',{staticClass:\"title-annotation\"},[_vm._v(\"(\"+_vm._s(_vm.t(_vm.appName, 'not mounted'))+\")\")])])]),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":'icon-triangle-' + (_vm.showArchiveMounts ? 'n' : 's')},model:{value:(_vm.showArchiveMounts),callback:function ($$v) {_vm.showArchiveMounts=$$v},expression:\"showArchiveMounts\"}})],1)],1),_vm._v(\" \"),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showArchiveMounts),expression:\"showArchiveMounts\"}],staticClass:\"directory-chooser files-tab-entry\"},[(_vm.loading)?_c('div',{staticClass:\"icon-loading-small\"}):(_vm.archiveMounted)?_c('ul',{staticClass:\"archive-mounts\"},_vm._l((_vm.archiveMounts),function(mountPoint){return _c('ListItem',{key:mountPoint.id,attrs:{\"force-display-actions\":true,\"bold\":false},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('a',{staticClass:\"external icon-folder icon\",attrs:{\"target\":_vm.openMountTarget,\"href\":_vm.filesAppMountPointUrlI(mountPoint)}},[_vm._v(\"\\n              \"+_vm._s(mountPoint.mountPointPath)+\"\\n            \")])]},proxy:true},{key:\"actions\",fn:function(){return [_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.unmount(mountPoint, ...arguments)}}})]},proxy:true},(mountPoint.mountFlags & 1)?{key:\"extra\",fn:function(){return [_c('div',[_vm._v(_vm._s(_vm.t(_vm.appName, 'Common prefix {prefix} is stripped.', { prefix: _vm.commonPathPrefix })))])]},proxy:true}:null],null,true)})}),1):_c('div',[_c('FilePrefixPicker',{attrs:{\"hint\":_vm.t(_vm.appName, 'Not mounted, create a new mount point:'),\"placeholder\":_vm.t(_vm.appName, 'base name')},on:{\"update\":_vm.mountArchive},model:{value:(_vm.archiveMountFileInfo),callback:function ($$v) {_vm.archiveMountFileInfo=$$v},expression:\"archiveMountFileInfo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-center\"},[_c('div',{staticClass:\"label\",on:{\"click\":function($event){return _vm.$refs.mountOptions.openMenu()}}},[_vm._v(\"\\n            \"+_vm._s(_vm.t(_vm.appName, 'Mount Options'))+\"\\n          \")]),_vm._v(\" \"),_c('NcActions',{ref:\"mountOptions\",attrs:{\"force-menu\":true}},[_c('NcActionCheckbox',{ref:\"mountStripCommonPathPrefix\",attrs:{\"checked\":_vm.archiveMountStripCommonPathPrefix},on:{\"change\":function($event){_vm.archiveMountStripCommonPathPrefix = !_vm.archiveMountStripCommonPathPrefix}}},[_vm._v(\"\\n              \"+_vm._s(_vm.t(_vm.appName, 'strip common path prefix'))+\"\\n            \")]),_vm._v(\" \"),_c('NcActionCheckbox',{ref:\"mountBackgroundJob\",attrs:{\"checked\":_vm.archiveMountBackgroundJob},on:{\"change\":function($event){_vm.archiveMountBackgroundJob = !_vm.archiveMountBackgroundJob}}},[_vm._v(\"\\n              \"+_vm._s(_vm.t(_vm.appName, 'schedule as background job'))+\"\\n            \")])],1)],1)],1)]),_vm._v(\" \"),_c('li',{staticClass:\"files-tab-entry flex flex-center clickable\",on:{\"click\":function($event){_vm.showArchiveExtraction = !_vm.showArchiveExtraction}}},[_c('div',{staticClass:\"files-tab-entry__avatar icon-play-white\"}),_vm._v(\" \"),_c('div',{staticClass:\"files-tab-entry__desc\"},[_c('h5',[_vm._v(_vm._s(_vm.t(_vm.appName, 'Extract Archive')))])]),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":'icon-triangle-' + (_vm.showArchiveExtraction ? 'n' : 's')},model:{value:(_vm.showArchiveExtraction),callback:function ($$v) {_vm.showArchiveExtraction=$$v},expression:\"showArchiveExtraction\"}})],1)],1),_vm._v(\" \"),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showArchiveExtraction),expression:\"showArchiveExtraction\"}],staticClass:\"directory-chooser files-tab-entry\"},[(_vm.loading)?_c('div',{staticClass:\"icon-loading-small\"}):_c('div',[_c('FilePrefixPicker',{attrs:{\"hint\":_vm.t(_vm.appName, 'Choose a directory to extract the archive to:'),\"placeholder\":_vm.t(_vm.appName, 'basename')},on:{\"update\":_vm.extractArchive},model:{value:(_vm.archiveExtractFileInfo),callback:function ($$v) {_vm.archiveExtractFileInfo=$$v},expression:\"archiveExtractFileInfo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-center\"},[_c('div',{staticClass:\"label\",on:{\"click\":function($event){return _vm.$refs.extractionOptions.openMenu()}}},[_vm._v(\"\\n            \"+_vm._s(_vm.t(_vm.appName, 'Extraction Options'))+\"\\n          \")]),_vm._v(\" \"),_c('NcActions',{ref:\"extractionOptions\",attrs:{\"force-menu\":true}},[_c('NcActionCheckbox',{attrs:{\"checked\":_vm.archiveExtractStripCommonPathPrefix},on:{\"change\":function($event){_vm.archiveExtractStripCommonPathPrefix = !_vm.archiveExtractStripCommonPathPrefix}}},[_vm._v(\"\\n              \"+_vm._s(_vm.t(_vm.appName, 'strip common path prefix'))+\"\\n            \")]),_vm._v(\" \"),_c('NcActionCheckbox',{ref:\"extractBackgroundJob\",attrs:{\"checked\":_vm.archiveExtractBackgroundJob},on:{\"change\":function($event){_vm.archiveExtractBackgroundJob = !_vm.archiveExtractBackgroundJob}}},[_vm._v(\"\\n              \"+_vm._s(_vm.t(_vm.appName, 'schedule as background job'))+\"\\n            \")])],1)],1)],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2022, 2023, 2024 Claus-Justus Heine <himself@claus-justus-heine.de>\n *\n * @author Claus-Justus Heine <himself@claus-justus-heine.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { appName } from '../../config.js';\nimport { generateUrl as nextcloudGenerateUrl } from '@nextcloud/router';\n\n/**\n * Generate an absolute URL for this app.\n *\n * @param {string} url The locate URL without app-prefix.\n *\n * @param {object} urlParams Object holding url-parameters if url\n * contains parameters. \"Excess\" parameters will be appended as query\n * parameters to the URL.\n *\n * @param {object} [urlOptions] Object with query parameters\n * ```\n * {\n *   escape: BOOL,\n *   noRewrite: BOOL,\n * }\n * ```\n *\n * @return {string}\n */\nconst generateUrl = function(url, urlParams, urlOptions) {\n  // const str = '/image/{joinTable}/{ownerId}';\n  let generated = nextcloudGenerateUrl('/apps/' + appName + '/' + url, urlParams, urlOptions);\n  const queryParams = { ...urlParams };\n  for (const urlParam of url.matchAll(/{([^{}]*)}/g)) {\n    delete queryParams[urlParam[1]];\n  }\n  const queryArray = [];\n  for (const [key, value] of Object.entries(queryParams)) {\n    try {\n      queryArray.push(key + '=' + encodeURIComponent(value.toString()));\n    } catch (e) {\n      console.debug('STRING CONVERSION ERROR', e);\n    }\n  }\n  if (queryArray.length > 0) {\n    generated += '?' + queryArray.join('&');\n  }\n  return generated;\n};\n\nexport default generateUrl;\n","/**\n * @copyright Copyright (c) 2024 Claus-Justus Heine <himself@claus-justus-heine.de>\n * @author Claus-Justus Heine <himself@claus-justus-heine.de>\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { getCurrentUser } from '@nextcloud/auth';\nimport { join } from 'path';\nimport { File, Folder } from '@nextcloud/files';\nimport { generateRemoteUrl } from '@nextcloud/router';\n\n/**\n * @param {object} fileInfo File-info object.\n *\n * @param {undefined|string} [owner] If undefined the current user is used.\n *\n * @return {File|Folder}\n */\nexport const fileInfoToNode = function(fileInfo, owner) {\n  owner = owner || getCurrentUser().uid;\n  const userFrontEndFolder = '/' + owner + '/files';\n  if (fileInfo.topLevelFolder !== userFrontEndFolder) {\n    throw new Error(`${fileInfo.path} is located outside of the front end user file space ${userFrontEndFolder}.`);\n  }\n  const nodeData = {\n    id: fileInfo.fileid,\n    source: generateRemoteUrl(join('dav/files', owner, fileInfo.relativePath)),\n    root: `/files/${owner}`,\n    mime: fileInfo.mime,\n    mtime: new Date(fileInfo.lastmod * 1000),\n    owner,\n    size: fileInfo.size,\n    permissions: fileInfo.permissions,\n    attributes: {\n      ...fileInfo,\n      'has-preview': fileInfo.hasPreview,\n    },\n  };\n  return fileInfo.type === 'file' ? new File(nodeData) : new Folder(nodeData);\n};\n","<!--\n  - @author Claus-Justus Heine <himself@claus-justus-heine.de>\n  - @copyright 2022, 2023, 2024 Claus-Justus Heine\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n<template>\n  <div class=\"files-tab\">\n    <ul>\n      <li class=\"files-tab-entry flex flex-center clickable\"\n          @click=\"showArchiveInfo = !showArchiveInfo\"\n      >\n        <div class=\"files-tab-entry__avatar icon-info-white\" />\n        <div class=\"files-tab-entry__desc\">\n          <h5>{{ t(appName, 'Archive Information') }}</h5>\n        </div>\n        <NcActions>\n          <NcActionButton v-model=\"showArchiveInfo\"\n                          :icon=\"'icon-triangle-' + (showArchiveInfo ? 'n' : 's')\"\n          />\n        </NcActions>\n      </li>\n      <li v-show=\"showArchiveInfo\" class=\"files-tab-entry\">\n        <div v-if=\"loading\" class=\"icon-loading-small\" />\n        <ul v-show=\"!loading\" class=\"archive-info\">\n          <ListItem v-if=\"archiveStatus > 0\"\n                    :class=\"{ 'archive-error': archiveStatus > 0 }\"\n                    :title=\"t(appName, 'archive status')\"\n                    :bold=\"true\"\n                    :details=\"archiveStatusText\"\n          >\n            <template #icon>\n              <div class=\"icon-error\" />\n            </template>\n          </ListItem>\n          <ListItem :title=\"t(appName, 'archive format')\"\n                    :bold=\"true\"\n                    :details=\"archiveInfo.format || t(appName, 'unknown')\"\n          />\n          <ListItem :title=\"t(appName, 'MIME type')\"\n                    :bold=\"true\"\n                    :details=\"archiveInfo.mimeType || t(appName, 'unknown')\"\n          />\n          <ListItem :title=\"t(appName, 'backend driver')\"\n                    :bold=\"true\"\n                    :details=\"archiveInfo.backendDriver || t(appName, 'unknown')\"\n          />\n          <ListItem :title=\"t(appName, 'uncompressed size')\"\n                    :bold=\"true\"\n                    :details=\"humanArchiveOriginalSize\"\n          />\n          <ListItem :title=\"t(appName, 'compressed size')\"\n                    :bold=\"true\"\n                    :details=\"humanArchiveCompressedSize\"\n          />\n          <ListItem v-if=\"humanArchiveCompressedSize !== humanArchiveFileSize\"\n                    :title=\"t(appName, 'archive file size')\"\n                    :bold=\"true\"\n                    :details=\"humanArchiveFileSize\"\n          />\n          <ListItem :title=\"t(appName, '# archive members')\"\n                    :bold=\"true\"\n                    :details=\"numberOfArchiveMembers\"\n          />\n          <ListItem :title=\"t(appName, 'common prefix')\"\n                    :bold=\"true\"\n                    :details=\"commonPathPrefix\"\n          />\n          <ListItem v-if=\"archiveInfo.comment\"\n                    class=\"archive-comment\"\n                    :title=\"t(appName, 'creator\\'s comment')\"\n                    :bold=\"true\"\n          >\n            <template #subtitle>\n              {{ archiveInfo.comment }}\n            </template>\n          </ListItem>\n        </ul>\n      </li>\n      <li class=\"files-tab-entry flex flex-center\">\n        <div class=\"files-tab-entry__avatar icon-password-white\" />\n        <div class=\"files-tab-entry__desc\">\n          <h5>\n            <span class=\"main-title\">{{ t(appName, 'Passphrase') }}</span>\n            <span v-if=\"!archivePassPhrase\" class=\"title-annotation\">({{ t(appName, 'unset') }})</span>\n          </h5>\n        </div>\n        <NcActions :force-menu=\"true\">\n          <NcActionInput v-if=\"showArchivePassPhrase\"\n                         ref=\"archivePassPhrase\"\n                         :value=\"archivePassPhrase\"\n                         type=\"text\"\n                         icon=\"icon-password\"\n                         @submit=\"setPassPhrase\"\n          >\n            {{ t(appName, 'archive passphrase') }}\n          </NcActionInput>\n          <NcActionInput v-else\n                         ref=\"archivePassPhrase\"\n                         :value=\"archivePassPhrase\"\n                         type=\"password\"\n                         icon=\"icon-password\"\n                         @submit=\"setPassPhrase\"\n          >\n            {{ t(appName, 'archive passphrase') }}\n          </NcActionInput>\n          <NcActionCheckbox @change=\"togglePassPhraseVisibility\">\n            {{ t(appName, 'Show Passphrase') }}\n          </NcActionCheckbox>\n        </NcActions>\n      </li>\n      <li class=\"files-tab-entry flex flex-center clickable\"\n          @click=\"showArchiveMounts = !showArchiveMounts\"\n      >\n        <div class=\"files-tab-entry__avatar icon-external-white\" />\n        <div class=\"files-tab-entry__desc\">\n          <h5>\n            <span class=\"main-title\">{{ t(appName, 'Mount Points') }}</span>\n            <span v-if=\"archiveMounted\" class=\"title-annotation\">({{ '' + archiveMounts.length }})</span>\n            <span v-else class=\"title-annotation\">({{ t(appName, 'not mounted') }})</span>\n          </h5>\n        </div>\n        <NcActions>\n          <NcActionButton v-model=\"showArchiveMounts\"\n                          :icon=\"'icon-triangle-' + (showArchiveMounts ? 'n' : 's')\"\n          />\n        </NcActions>\n      </li>\n      <li v-show=\"showArchiveMounts\" class=\"directory-chooser files-tab-entry\">\n        <div v-if=\"loading\" class=\"icon-loading-small\" />\n        <ul v-else-if=\"archiveMounted\" class=\"archive-mounts\">\n          <ListItem v-for=\"mountPoint in archiveMounts\"\n                    :key=\"mountPoint.id\"\n                    :force-display-actions=\"true\"\n                    :bold=\"false\"\n          >\n            <template #title>\n              <a class=\"external icon-folder icon\"\n                 :target=\"openMountTarget\"\n                 :href=\"filesAppMountPointUrlI(mountPoint)\"\n              >\n                {{ mountPoint.mountPointPath }}\n              </a>\n            </template>\n            <template #actions>\n              <NcActionButton icon=\"icon-delete\" @click=\"unmount(mountPoint, ...arguments)\" />\n            </template>\n            <template v-if=\"mountPoint.mountFlags & 1\" #extra>\n              <div>{{ t(appName, 'Common prefix {prefix} is stripped.', { prefix: commonPathPrefix }) }}</div>\n            </template>\n          </ListItem>\n        </ul>\n        <div v-else>\n          <FilePrefixPicker v-model=\"archiveMountFileInfo\"\n                            :hint=\"t(appName, 'Not mounted, create a new mount point:')\"\n                            :placeholder=\"t(appName, 'base name')\"\n                            @update=\"mountArchive\"\n          />\n          <div class=\"flex flex-center\">\n            <div class=\"label\"\n                 @click=\"$refs.mountOptions.openMenu()\"\n            >\n              {{ t(appName, 'Mount Options') }}\n            </div>\n            <NcActions ref=\"mountOptions\"\n                       :force-menu=\"true\"\n            >\n              <NcActionCheckbox ref=\"mountStripCommonPathPrefix\"\n                                :checked=\"archiveMountStripCommonPathPrefix\"\n                                @change=\"archiveMountStripCommonPathPrefix = !archiveMountStripCommonPathPrefix\"\n              >\n                {{ t(appName, 'strip common path prefix') }}\n              </NcActionCheckbox>\n              <NcActionCheckbox ref=\"mountBackgroundJob\"\n                                :checked=\"archiveMountBackgroundJob\"\n                                @change=\"archiveMountBackgroundJob = !archiveMountBackgroundJob\"\n              >\n                {{ t(appName, 'schedule as background job') }}\n              </NcActionCheckbox>\n            </NcActions>\n          </div>\n        </div>\n      </li>\n      <li class=\"files-tab-entry flex flex-center clickable\"\n          @click=\"showArchiveExtraction = !showArchiveExtraction\"\n      >\n        <div class=\"files-tab-entry__avatar icon-play-white\" />\n        <div class=\"files-tab-entry__desc\">\n          <h5>{{ t(appName, 'Extract Archive') }}</h5>\n        </div>\n        <NcActions>\n          <NcActionButton v-model=\"showArchiveExtraction\"\n                          :icon=\"'icon-triangle-' + (showArchiveExtraction ? 'n' : 's')\"\n          />\n        </NcActions>\n      </li>\n      <li v-show=\"showArchiveExtraction\" class=\"directory-chooser files-tab-entry\">\n        <div v-if=\"loading\" class=\"icon-loading-small\" />\n        <div v-else>\n          <FilePrefixPicker v-model=\"archiveExtractFileInfo\"\n                            :hint=\"t(appName, 'Choose a directory to extract the archive to:')\"\n                            :placeholder=\"t(appName, 'basename')\"\n                            @update=\"extractArchive\"\n          />\n          <div class=\"flex flex-center\">\n            <div class=\"label\"\n                 @click=\"$refs.extractionOptions.openMenu()\"\n            >\n              {{ t(appName, 'Extraction Options') }}\n            </div>\n            <NcActions ref=\"extractionOptions\"\n                       :force-menu=\"true\"\n            >\n              <NcActionCheckbox :checked=\"archiveExtractStripCommonPathPrefix\"\n                                @change=\"archiveExtractStripCommonPathPrefix = !archiveExtractStripCommonPathPrefix\"\n              >\n                {{ t(appName, 'strip common path prefix') }}\n              </NcActionCheckbox>\n              <NcActionCheckbox ref=\"extractBackgroundJob\"\n                                :checked=\"archiveExtractBackgroundJob\"\n                                @change=\"archiveExtractBackgroundJob = !archiveExtractBackgroundJob\"\n              >\n                {{ t(appName, 'schedule as background job') }}\n              </NcActionCheckbox>\n            </NcActions>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\n\nimport { appName } from '../config.js'\nimport Vue, { set as vueSet, nextTick } from 'vue'\nimport { getInitialState } from '../toolkit/services/InitialStateService.js'\nimport { generateUrl, generateRemoteUrl } from '@nextcloud/router'\nimport { emit, subscribe } from '@nextcloud/event-bus'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport generateAppUrl from '../toolkit/util/generate-url.js'\nimport { fileInfoToNode } from '../toolkit/util/file-node-helper.js'\nimport md5 from 'blueimp-md5'\nimport { showError, showInfo, TOAST_PERMANENT_TIMEOUT } from '@nextcloud/dialogs'\nimport { translate as t, translatePlural as n } from '@nextcloud/l10n'\n\nimport { formatFileSize } from '@nextcloud/files'\nimport {\n  NcActionInput,\n  NcActionCheckbox,\n  NcActions,\n  NcActionButton,\n  Tooltip,\n} from '@nextcloud/vue'\nimport ListItem from '@rotdrop/nextcloud-vue-components/lib/components/ListItem.vue'\nimport FilePrefixPicker from '@rotdrop/nextcloud-vue-components/lib/components/FilePrefixPicker.vue'\nimport axios from '@nextcloud/axios'\n\nVue.directive('tooltip', Tooltip)\nVue.mixin({ data() { return { appName } }, methods: { t, n } })\n\nexport {\n  Vue,\n}\n\nexport default {\n  name: 'FilesTab',\n  components: {\n    NcActions,\n    NcActionButton,\n    NcActionInput,\n    NcActionCheckbox,\n    ListItem,\n    FilePrefixPicker,\n  },\n  data() {\n    return {\n      fileInfo: {},\n      fileName: undefined,\n      showArchiveInfo: true,\n      showArchivePassPhrase: false,\n      showArchiveMounts: false,\n      showArchiveExtraction: false,\n      initialState: {},\n      archiveInfo: {},\n      archiveStatus: null,\n      archiveMounts: [],\n      openMountTarget: md5(generateUrl('') + appName + '-open-archive-mount'),\n      loading: 0,\n      archiveMountFileInfo: {\n        dirName: undefined,\n        baseName: undefined,\n      },\n      archiveMountStripCommonPathPrefix: false,\n      archiveMountBackgroundJob: false,\n      archiveExtractFileInfo: {\n        dirName: undefined,\n        baseName: undefined,\n      },\n      archiveExtractStripCommonPathPrefix: false,\n      archiveExtractBackgroundJob: false,\n      archivePassPhrase: undefined,\n      //\n      backgroundMountsTimer: undefined,\n    }\n  },\n  computed: {\n    archiveFileId() {\n      return this.fileInfo?.id\n    },\n    archiveFileDirName() {\n      return this.fileInfo.path\n    },\n    archiveFileBaseName() {\n      return this.fileInfo.name\n    },\n    archiveFilePathName() {\n      return this.fileInfo.path + '/' + this.fileInfo.name\n    },\n    archiveMounted() {\n      return this.archiveMounts.length > 0\n    },\n    archiveMountBaseName: {\n      get() {\n        return this.archiveMountFileInfo.baseName\n      },\n      set(value) {\n        vueSet(this.archiveMountFileInfo, 'baseName', value)\n        return value\n      },\n    },\n    archiveMountDirName: {\n      get() {\n        return this.archiveMountFileInfo.dirName\n      },\n      set(value) {\n        vueSet(this.archiveMountFileInfo, 'dirName', value)\n        return value\n      },\n    },\n    archiveMountPathName() {\n      return this.archiveMountDirName + (this.archiveMountBaseName ? '/' + this.archiveMountBaseName : '')\n    },\n    archiveExtractBaseName: {\n      get() {\n        return this.archiveExtractFileInfo.baseName\n      },\n      set(value) {\n        vueSet(this.archiveExtractFileInfo, 'baseName', value)\n        return value\n      },\n    },\n    archiveExtractDirName: {\n      get() {\n        return this.archiveExtractFileInfo.dirName\n      },\n      set(value) {\n        vueSet(this.archiveExtractFileInfo, 'dirName', value)\n        return value\n      },\n    },\n    archiveExtractPathName() {\n      return this.archiveExtractDirName + (this.archiveExtractBaseName ? '/' + this.archiveExtractBaseName : '')\n    },\n    archiveInfoText() {\n      return JSON.stringify(this.archiveInfo, null, 2)\n    },\n    humanArchiveOriginalSize() {\n      return !isNaN(parseInt(this.archiveInfo.originalSize))\n        ? formatFileSize(this.archiveInfo.originalSize)\n        : t(appName, 'unknown')\n    },\n    humanArchiveCompressedSize() {\n      return !isNaN(parseInt(this.archiveInfo.compressedSize))\n        ? formatFileSize(this.archiveInfo.compressedSize)\n        : t(appName, 'unknown')\n    },\n    humanArchiveFileSize() {\n      return !isNaN(parseInt(this.archiveInfo.size))\n        ? formatFileSize(this.archiveInfo.size)\n        : t(appName, 'unknown')\n    },\n    numberOfArchiveMembers() {\n      if (!this.archiveInfo\n          || this.archiveInfo.numberOfFiles === undefined\n          || isNaN(parseInt('' + this.archiveInfo.numberOfFiles))) {\n        return t(appName, 'unknown')\n      }\n      return '' + this.archiveInfo.numberOfFiles\n    },\n    commonPathPrefix() {\n      return !this.archiveInfo\n        || this.archiveInfo.commonPathPrefix === undefined\n        ? t(appName, 'unknown')\n        : '/' + this.archiveInfo.commonPathPrefix\n    },\n    archiveStatusText() {\n      if (this.archiveStatus === 0) {\n        return t(appName, 'ok')\n      } else if (this.archiveStatus & 2) {\n        return t(appName, 'zip bomb')\n      } else if (this.archiveStatus & 1) {\n        return t(appName, 'too large')\n      }\n      return t(appName, 'unknown')\n    },\n    mountPointTitle() {\n      return t(appName, 'Mount Points')\n        + ' ('\n        + (this.archiveMounted ? this.archiveMounts.length : t(appName, 'not mounted'))\n        + ')'\n    },\n  },\n  created() {\n    // this.getData()\n    subscribe('files:node:deleted', this.onMountPointDeleted)\n    subscribe('files:node:renamed', this.onMountPointRenamed)\n\n    subscribe('notifications:notification:received', this.onNotification)\n  },\n  mounted() {\n    // this.getData()\n  },\n  beforeDestroy() {\n    if (this.backgroundMountsTimer) {\n      clearInterval(this.backgroundMountsTimer)\n      this.backgroundMountsTimer = undefined\n    }\n  },\n  methods: {\n    info() {\n      console.info.apply(null, arguments)\n    },\n    setBusyState(/* state */) {\n      // This cannot be used any longer. How to?\n      // this.fileList.showFileBusyState(this.fileInfo.name, state)\n    },\n    /**\n     * Update current fileInfo and fetch new data\n     * @param {object} fileInfo the current file FileInfo\n     */\n    async update(fileInfo) {\n      console.info('FILE INFO', fileInfo)\n\n      this.fileInfo = fileInfo\n      this.fileName = fileInfo.path + '/' + fileInfo.name\n\n      /* this.fileList = OCA.Files.App.currentFileList\n       * this.fileList.$el.off('updated').on('updated', function(event) {\n       *   console.info('FILE LIST UPDATED, ARGS', arguments)\n       * }) */\n      this.archiveMountBaseName = fileInfo.name.split('.')[0]\n      this.archiveMountDirName = fileInfo.path\n\n      this.archiveExtractBaseName = this.archiveMountBaseName\n      this.archiveExtractDirName = this.archiveMountDirName\n\n      this.getData()\n    },\n    /**\n     * Fetch some needed data ...\n     */\n    async getData() {\n      this.initialState = getInitialState()\n\n      this.archiveMountStripCommonPathPrefix = !!this.initialState.mountStripCommonPathPrefixDefault\n      this.archiveExtractStripCommonPathPrefix = !!this.initialState.extractStripCommonPathPrefixDefault\n      this.archiveMountBackgroundJob = !!this.initialState.mountBackgroundJob\n      this.archiveExtractBackgroundJob = !!this.initialState.extractBackgroundJob\n\n      this.getArchiveInfo(this.fileName)\n      this.refreshArchiveMounts(this.fileName, true)\n    },\n    async getArchiveInfo(fileName) {\n      ++this.loading\n      fileName = encodeURIComponent(fileName)\n      const url = generateAppUrl('archive/info/{fileName}', { fileName })\n      const requestData = {}\n      if (this.archivePassPhrase) {\n        requestData.passPhrase = this.archivePassPhrase\n      }\n      try {\n        const response = await axios.post(url, requestData)\n        const responseData = response.data\n        this.archiveInfo = responseData.archiveInfo\n        this.archiveStatus = responseData.archiveStatus\n        for (const message of responseData.messages) {\n          showInfo(message)\n        }\n        console.info('ARCHIVE INFO', this.archiveInfo)\n      } catch (e) {\n        console.error('ERROR', e)\n        if (e.response && e.response.data) {\n          const responseData = e.response.data\n          this.archiveInfo = responseData.archiveInfo\n          this.archiveStatus = responseData.archiveStatus\n          if (responseData.messages) {\n            for (const message of responseData.messages) {\n              showError(message, { timeout: TOAST_PERMANENT_TIMEOUT })\n            }\n          }\n        } else {\n          this.archiveInfo = {}\n        }\n      }\n\n      if (this.archiveInfo.defaultMountPoint) {\n        this.archiveMountBaseName = this.archiveInfo.defaultMountPoint\n      }\n      if (this.archiveInfo.defaultTargetBaseName) {\n        this.archiveExtractBaseName = this.archiveInfo.defaultTargetBaseName\n      }\n\n      --this.loading\n    },\n    async refreshArchiveMounts(filename, noEmit) {\n      const oldMounts = [...this.archiveMounts]\n      const mounts = await this.getArchiveMounts(filename, false)\n      this.archiveMounts = mounts.mounts\n      if (noEmit) {\n        // do no emit birth during initialization\n        return\n      }\n      // emit birth and death signals as needed, in order to update\n      // the frontend file-listing. The computational effort is\n      // quadratic, but we are talking here about the common case that\n      // there is only a single mount -- or by accident another\n      // one. So what.\n      const newMounts = this.archiveMounts.filter((mount) => oldMounts.findIndex((oldMount) => mount.mountPoint.fileid === oldMount.mountPoint.fileid) === -1)\n      const deletedMounts = oldMounts.filter((oldMount) => this.archiveMounts.findIndex((mount) => mount.mountPoint.fileid === oldMount.mountPoint.fileid) === -1)\n      for (const mount of deletedMounts) {\n        const node = fileInfoToNode(mount.mountPoint)\n        node.attributes['is-mount-root'] = true\n\n        console.info('EMIT DELETED', node)\n        emit('files:node:deleted', node)\n      }\n      for (const mount of newMounts) {\n        const node = fileInfoToNode(mount.mountPoint)\n        node.attributes['is-mount-root'] = true\n\n        console.info('EMIT CREATED', node)\n        emit('files:node:created', node)\n      }\n    },\n    async getArchiveMounts(fileName, silent) {\n      const result = {\n        mounts: [],\n        mounted: false,\n      }\n      if (silent !== true) {\n        ++this.loading\n      }\n      fileName = encodeURIComponent(fileName)\n      const url = generateAppUrl('archive/mount/{fileName}', { fileName })\n      try {\n        const response = await axios.get(url)\n        const responseData = response.data\n        result.mounts = responseData.mounts\n        result.mounted = responseData.mounted\n        for (const message of responseData.messages) {\n          showInfo(message)\n        }\n        console.info('MOUNTS', this.archiveMounts)\n      } catch (e) {\n        console.error('ERROR', e)\n        if (e.response && e.response.data) {\n          const responseData = e.response.data\n          result.mounts = responseData.mounts\n          result.mounted = responseData.mounted\n          if (responseData.messages) {\n            for (const message of responseData.messages) {\n              showError(message, { timeout: TOAST_PERMANENT_TIMEOUT })\n            }\n          }\n        }\n      }\n      // id=\"fileList\"\n      // data-path\n      // data-file\n      for (const mount of result.mounts) {\n        const pathComponents = mount.mountPointPath.split('/')\n        const baseName = pathComponents.pop()\n        const dirName = pathComponents.join('/')\n        mount.baseName = baseName\n        mount.dirName = dirName\n        if (!this.archivePassPhrase && mount.archivePassPhrase) {\n          this.archivePassPhrase = mount.archivePassPhrase\n        }\n        delete mount.archivePassPhrase\n      }\n      if (silent !== true) {\n        --this.loading\n      }\n      return result\n    },\n    async mountArchive() {\n      const archivePath = encodeURIComponent(this.fileInfo.path + '/' + this.fileInfo.name)\n      const mountPath = encodeURIComponent(this.archiveMountPathName)\n      const urlTemplate = this.archiveMountBackgroundJob\n        ? 'archive/schedule/mount/{archivePath}/{mountPath}'\n        : 'archive/mount/{archivePath}/{mountPath}'\n      const url = generateAppUrl(urlTemplate, { archivePath, mountPath })\n      this.setBusyState(true)\n      const requestData = {}\n      if (this.archivePassPhrase) {\n        requestData.passPhrase = this.archivePassPhrase\n      }\n      requestData.stripCommonPathPrefix = !!this.archiveMountStripCommonPathPrefix\n      try {\n        const response = await axios.post(url, requestData)\n        if (!this.archiveMountBackgroundJob) {\n          const newMount = response.data\n          const newFileId = newMount.mountPoint.fileid\n          if (this.archiveMounts.findIndex((mount) => mount.mountPoint.fileid === newFileId) === -1) {\n            this.archiveMounts.push(newMount)\n            const node = fileInfoToNode(response.data.mountPoint)\n            node.attributes['is-mount-root'] = true\n\n            console.info('EMIT CREATED', node)\n            emit('files:node:created', node)\n          }\n        }\n      } catch (e) {\n        console.error('ERROR', e)\n        if (e.response) {\n          const messages = []\n          if (e.response.data) {\n            const responseData = e.response.data\n            if (responseData.messages) {\n              messages.splice(messages.length, 0, responseData.messages)\n            }\n          }\n          if (!messages.length) {\n            messages.push(t(appName, 'Mount request failed with error {status}, \"{statusText}\".', e.response))\n          }\n          for (const message of messages) {\n            showError(message, { timeout: TOAST_PERMANENT_TIMEOUT })\n          }\n        }\n      }\n      this.setBusyState(false)\n    },\n    async unmount(mount) {\n      console.info('UNMOUNT MOUNT', mount)\n      const cloudUser = getCurrentUser()\n      const url = generateRemoteUrl('dav/files/' + cloudUser.uid + mount.mountPointPath)\n      this.setBusyState(true)\n      try {\n        await axios.delete(url)\n        const mountIndex = this.archiveMounts.indexOf(mount)\n        if (mountIndex >= 0) {\n          this.archiveMounts.splice(mountIndex, 1)\n        } else {\n          console.error('UNABLE TO FIND DELETED MOUNT IN LIST', mount, this.archiveMounts)\n        }\n        const node = fileInfoToNode(mount.mountPoint)\n        node.attributes['is-mount-root'] = true\n\n        console.info('EMIT DELETED')\n        emit('files:node:deleted', node)\n      } catch (e) {\n        console.error('ERROR', e)\n        const messages = []\n        if (e.response) {\n          // attempt parsing Sabre exception is available\n          const xml = e.response.request.responseXML\n          if (xml && xml.documentElement.localName === 'error' && xml.documentElement.namespaceURI === 'DAV:') {\n            const xmlMessages = xml.getElementsByTagNameNS('http://sabredav.org/ns', 'message')\n            // const exceptions = xml.getElementsByTagNameNS('http://sabredav.org/ns', 'exception');\n            for (const message of xmlMessages) {\n              messages.push(message.textContent)\n            }\n          }\n          if (e.response.data) {\n            const responseData = e.response.data\n            if (responseData.messages) {\n              messages.splice(messages.length, 0, ...responseData.messages)\n            }\n          }\n          if (!messages.length) {\n            messages.push(t(appName, 'Unmount request failed with error {status}, \"{statusText}\".', e.response))\n          }\n          for (const message of messages) {\n            showError(message, { timeout: TOAST_PERMANENT_TIMEOUT })\n          }\n          if (e.response.status === 404) {\n            this.refreshArchiveMounts()\n          }\n        }\n      }\n      this.setBusyState(false)\n    },\n    onNotification(event) {\n      if (event?.notification?.app !== appName) {\n        return\n      }\n      const destinationData = event?.notification?.messageRichParameters?.destination\n      if (destinationData?.mount?.archiveFileId !== this.archiveFileId) {\n        // not for us, in the future we may want to maintain a store\n        // and cache the data for all file-ids.\n        console.info('*** Archive notification for other file received', event)\n        return\n      }\n      if (destinationData?.status === 'mount') {\n        console.info('*** Mount notification received, updating mount-list', destinationData)\n        const mountFileId = destinationData.id\n        const mountIndex = this.archiveMounts.findIndex((mount) => mount.mountPoint.fileid === mountFileId)\n        if (mountIndex === -1) {\n          const mount = destinationData.mount\n          mount.mountPoint = destinationData.folder\n          this.archiveMounts.push(mount)\n        }\n      }\n    },\n    onMountPointRenamed(mountPoint) {\n      // update the list of mountpoints\n      const mountFileId = mountPoint.fileid\n      const mountIndex = this.archiveMounts.findIndex((mount) => mount.mountPoint.fileid === mountFileId)\n      if (mountIndex >= 0) {\n        console.info('BERFORE RENAME', { ...this.archiveMounts[mountIndex] })\n        vueSet(this.archiveMounts[mountIndex], 'mountPoint', mountPoint)\n        vueSet(this.archiveMounts[mountIndex], 'mountPointPath', mountPoint.path)\n        vueSet(this.archiveMounts[mountIndex], 'mountPointPathHash', md5(mountPoint.path))\n        console.info('AFTER RENAME', { ...this.archiveMounts[mountIndex] })\n      } else {\n        console.info('RENAME OF NODE NOT FOR US', mountPoint)\n      }\n    },\n    onMountPointDeleted(mountPoint) {\n      const mountFileId = mountPoint.fileid\n      const mountIndex = this.archiveMounts.findIndex((mount) => mount.mountPoint.fileid === mountFileId)\n      if (mountIndex >= 0) {\n        this.archiveMounts.splice(mountIndex, 1)\n        console.info('RECORD UNMOUNT', mountPoint)\n      } else {\n        console.info('DELETE OF NODE NOT FOR US', mountPoint)\n      }\n    },\n    async extractArchive() {\n      const archivePath = encodeURIComponent(this.fileInfo.path + '/' + this.fileInfo.name)\n      const targetPath = encodeURIComponent(this.archiveExtractPathName)\n      const urlTemplate = this.archiveExtractBackgroundJob\n        ? 'archive/schedule/extract/{archivePath}/{targetPath}'\n        : 'archive/extract/{archivePath}/{targetPath}'\n      const url = generateAppUrl(urlTemplate, { archivePath, targetPath })\n      this.setBusyState(true)\n      const requestData = {}\n      if (this.archivePassPhrase) {\n        requestData.passPhrase = this.archivePassPhrase\n      }\n      requestData.stripCommonPathPrefix = !!this.archiveExtractStripCommonPathPrefix\n      try {\n        const response = await axios.post(url, requestData)\n        if (!this.archiveExtractBackgroundJob) {\n          const node = fileInfoToNode(response.data.targetFolder)\n          node.attributes['is-mount-root'] = true\n\n          console.info('EMIT CREATED')\n          emit('files:node:created', node)\n        }\n      } catch (e) {\n        console.error('ERROR', e)\n        if (e.response) {\n          const messages = []\n          if (e.response.data) {\n            const responseData = e.response.data\n            if (responseData.messages) {\n              messages.splice(messages.length, 0, responseData.messages)\n            }\n          }\n          if (!messages.length) {\n            messages.push(t(appName, 'Archive extraction failed with error {status}, \"{statusText}\".', e.response))\n          }\n          for (const message of messages) {\n            showError(message, { timeout: TOAST_PERMANENT_TIMEOUT })\n          }\n        }\n      }\n      this.setBusyState(false)\n    },\n    async setPassPhrase() {\n      const newPassPhrase = this.showArchivePassPhrase\n        ? this.$refs.archivePassPhrase.$el.querySelector('input[type=\"text\"]').value\n        : this.$refs.archivePassPhrase.$el.querySelector('input[type=\"password\"]').value\n      this.archivePassPhrase = newPassPhrase\n\n      // patch it into existing mounts if any\n      const archivePath = encodeURIComponent(this.fileInfo.path + '/' + this.fileInfo.name)\n      const url = generateUrl('/apps/' + appName + '/archive/mount/{archivePath}', { archivePath })\n      this.setBusyState(true)\n      const requestData = {\n        changeSet: {\n          archivePassPhrase: this.archivePassPhrase,\n        },\n      }\n      try {\n        await axios.patch(url, requestData)\n      } catch (e) {\n        console.error('ERROR', e)\n        if (e.response) {\n          const messages = []\n          if (e.response.data) {\n            const responseData = e.response.data\n            if (responseData.messages) {\n              messages.splice(messages.length, 0, responseData.messages)\n            }\n          }\n          if (!messages.length) {\n            messages.push(t(appName, 'Patching the passphrase failed with error {status}, \"{statusText}\".', e.response))\n          }\n          for (const message of messages) {\n            showError(message, { timeout: TOAST_PERMANENT_TIMEOUT })\n          }\n        }\n      }\n      this.setBusyState(false)\n    },\n    async togglePassPhraseVisibility() {\n      // this is sooo complicated because the NC NcAction controls are\n      // seemingly only pro-forma vue-controls. There is no working\n      // v-model support, e.g.\n      let visibleElement = this.showArchivePassPhrase\n        ? this.$refs.archivePassPhrase.$el.querySelector('input[type=\"text\"]')\n        : this.$refs.archivePassPhrase.$el.querySelector('input[type=\"password\"]')\n      const currentValue = visibleElement.value\n\n      this.showArchivePassPhrase = !this.showArchivePassPhrase\n      await nextTick()\n\n      visibleElement = this.showArchivePassPhrase\n        ? this.$refs.archivePassPhrase.$el.querySelector('input[type=\"text\"]')\n        : this.$refs.archivePassPhrase.$el.querySelector('input[type=\"password\"]')\n      visibleElement.value = currentValue\n    },\n    filesAppMountPointUrl(mountPoint) {\n      return generateUrl('/apps/files') + '?dir=' + encodeURIComponent(mountPoint.mountPointPath)\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.files-tab {\n  .flex {\n    display:flex;\n    &.flex-center {\n      align-items:center;\n    }\n    &.flex-wrap {\n      flex-wrap:wrap;\n    }\n    .flex-grow {\n      flex-grow:1;\n    }\n  }\n  a.icon {\n    background-position: left;\n    padding-left:20px;\n  }\n  ::v-deep .archive-info {\n    .list-item__wrapper{\n      &:not(.archive-comment) {\n        .list-item-content__wrapper {\n          height:24px;\n        }\n        a.list-item {\n          padding:0;\n        }\n      }\n      &.archive-comment {\n        a.list-item {\n          padding:8px 0;\n          .line-two__subtitle {\n            max-width:100%;\n            white-space:normal;\n          }\n        }\n      }\n      &.archive-error {\n        .line-one__details {\n          font-weight:bold;\n          font-style:italic;\n          color:red;\n        }\n      }\n    }\n  }\n  .files-tab-entry {\n    min-height:44px;\n    &.clickable {\n      &, & * {\n        cursor:pointer;\n      }\n    }\n    .files-tab-entry__avatar {\n      width: 32px;\n      height: 32px;\n      line-height: 32px;\n      font-size: 18px;\n      background-color: var(--color-text-maxcontrast);\n      border-radius: 50%;\n      flex-shrink: 0;\n    }\n    .files-tab-entry__desc {\n      flex: 1 1;\n      padding: 8px;\n      line-height: 1.2em;\n      min-width:0;\n      h5 {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        max-width: inherit;\n      }\n    }\n    &.directory-chooser {\n      .dirname {\n        font-weight:bold;\n        font-family:monospace;\n        .button {\n          display:block;\n        }\n      }\n      .label {\n        padding-right:0.5ex;\n      }\n    }\n    /* ::v-deep .archive-mounts {\n       .list-item-content > .list-item-content__actions {\n       display: block !important;\n       }\n       } */\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesTab.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesTab.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FilesTab.vue?vue&type=template&id=7ac4e0a8&scoped=true\"\nimport script from \"./FilesTab.vue?vue&type=script&lang=js\"\nexport * from \"./FilesTab.vue?vue&type=script&lang=js\"\nimport style0 from \"./FilesTab.vue?vue&type=style&index=0&id=7ac4e0a8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ac4e0a8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["url","urlParams","urlOptions","generated","nextcloudGenerateUrl","appName","queryParams","urlParam","matchAll","queryArray","key","value","Object","entries","push","encodeURIComponent","toString","e","console","debug","length","join","fileInfoToNode","fileInfo","owner","userFrontEndFolder","getCurrentUser","uid","topLevelFolder","Error","path","nodeData","id","fileid","source","generateRemoteUrl","relativePath","root","mime","mtime","Date","lastmod","size","permissions","attributes","hasPreview","type","File","Folder","Vue","directive","Tooltip","mixin","data","methods","t","n","name","components","NcActions","NcActionButton","NcActionInput","NcActionCheckbox","ListItem","FilePrefixPicker","fileName","undefined","showArchiveInfo","showArchivePassPhrase","showArchiveMounts","showArchiveExtraction","initialState","archiveInfo","archiveStatus","archiveMounts","openMountTarget","md5","generateUrl","loading","archiveMountFileInfo","dirName","baseName","archiveMountStripCommonPathPrefix","archiveMountBackgroundJob","archiveExtractFileInfo","archiveExtractStripCommonPathPrefix","archiveExtractBackgroundJob","archivePassPhrase","backgroundMountsTimer","computed","archiveFileId","archiveFileDirName","archiveFileBaseName","archiveFilePathName","archiveMounted","archiveMountBaseName","get","set","vueSet","archiveMountDirName","archiveMountPathName","archiveExtractBaseName","archiveExtractDirName","archiveExtractPathName","archiveInfoText","JSON","stringify","humanArchiveOriginalSize","isNaN","parseInt","originalSize","formatFileSize","humanArchiveCompressedSize","compressedSize","humanArchiveFileSize","numberOfArchiveMembers","numberOfFiles","commonPathPrefix","archiveStatusText","mountPointTitle","created","subscribe","onMountPointDeleted","onMountPointRenamed","onNotification","mounted","beforeDestroy","clearInterval","info","apply","arguments","setBusyState","update","split","getData","getInitialState","mountStripCommonPathPrefixDefault","extractStripCommonPathPrefixDefault","mountBackgroundJob","extractBackgroundJob","getArchiveInfo","refreshArchiveMounts","generateAppUrl","requestData","passPhrase","responseData","axios","post","message","messages","showInfo","error","response","showError","timeout","TOAST_PERMANENT_TIMEOUT","defaultMountPoint","defaultTargetBaseName","filename","noEmit","oldMounts","mounts","getArchiveMounts","newMounts","filter","mount","findIndex","oldMount","mountPoint","deletedMounts","node","emit","silent","result","pathComponents","mountPointPath","pop","mountArchive","archivePath","mountPath","urlTemplate","stripCommonPathPrefix","newMount","newFileId","splice","unmount","cloudUser","delete","mountIndex","indexOf","xml","request","responseXML","documentElement","localName","namespaceURI","xmlMessages","getElementsByTagNameNS","textContent","status","event","notification","app","destinationData","messageRichParameters","destination","mountFileId","folder","extractArchive","targetPath","targetFolder","setPassPhrase","newPassPhrase","$refs","$el","querySelector","changeSet","patch","togglePassPhraseVisibility","visibleElement","currentValue","nextTick","filesAppMountPointUrl","_vm","this","_c","_self","staticClass","on","$event","_v","_s","attrs","model","callback","$$v","expression","directives","rawName","_e","class","scopedSlots","_u","fn","proxy","format","mimeType","backendDriver","comment","ref","_l","filesAppMountPointUrlI","mountFlags","prefix","mountOptions","openMenu","extractionOptions"],"sourceRoot":""}