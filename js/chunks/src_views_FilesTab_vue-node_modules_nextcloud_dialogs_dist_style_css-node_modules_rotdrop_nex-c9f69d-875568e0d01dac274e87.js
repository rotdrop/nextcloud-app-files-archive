/*! For license information please see src_views_FilesTab_vue-node_modules_nextcloud_dialogs_dist_style_css-node_modules_rotdrop_nex-c9f69d-875568e0d01dac274e87.js.LICENSE.txt */
"use strict";(self.webpackChunkfiles_archive=self.webpackChunkfiles_archive||[]).push([["src_views_FilesTab_vue-node_modules_nextcloud_dialogs_dist_style_css-node_modules_rotdrop_nex-c9f69d"],{6231:(e,t,i)=>{i.r(t),i.d(t,{Vue:()=>a.Ay,default:()=>M});var s=i(9027),a=i(5471),o=i(5845),n=i(9498),r=i(1338),c=i(2457);const h=function(e,t,i){let a=(0,n.Jv)("/apps/"+s.J+"/"+e,t,i);const o={...t};for(const t of e.matchAll(/{([^{}]*)}/g))delete o[t[1]];const r=[];for(const[e,t]of Object.entries(o))try{r.push(e+"="+encodeURIComponent(t.toString()))}catch(e){console.debug("STRING CONVERSION ERROR",e)}return r.length>0&&(a+="?"+r.join("&")),a};var l=i(8558),u=i(5810);const v=function(e,t){const i="/"+(t=t||(0,c.HW)().uid)+"/files";if(e.topLevelFolder!==i)throw new Error("".concat(e.path," is located outside of the front end user file space ").concat(i,"."));const s={id:e.fileid,source:(0,n.dC)((0,l.join)("dav/files",t,e.relativePath)),root:"/files/".concat(t),mime:e.mime,mtime:new Date(1e3*e.lastmod),owner:t,size:e.size,permissions:e.permissions,attributes:{...e,"has-preview":e.hasPreview}};return"file"===e.type?new u.ZH(s):new u.vd(s)};var f=i(8922),m=i.n(f),d=i(5168),p=i(3334),P=i(6333),N=i(5873),x=i(6390),I=i(6296);a.Ay.directive("tooltip",P.m_),a.Ay.mixin({data:()=>({appName:s.J}),methods:{t:p.Tl,n:p.zw}});const g={name:"FilesTab",components:{NcActions:P.B6,NcActionButton:P.Ko,NcActionInput:P.Az,NcActionCheckbox:P.RI,ListItem:N.A,FilePrefixPicker:x.A},data:()=>({fileInfo:{},fileName:void 0,showArchiveInfo:!0,showArchivePassPhrase:!1,showArchiveMounts:!1,showArchiveExtraction:!1,initialState:{},archiveInfo:{},archiveStatus:null,archiveMounts:[],openMountTarget:m()((0,n.Jv)("")+s.J+"-open-archive-mount"),loading:0,archiveMountFileInfo:{dirName:void 0,baseName:void 0},archiveMountStripCommonPathPrefix:!1,archiveMountBackgroundJob:!1,archiveExtractFileInfo:{dirName:void 0,baseName:void 0},archiveExtractStripCommonPathPrefix:!1,archiveExtractBackgroundJob:!1,archivePassPhrase:void 0,backgroundMountsTimer:void 0}),computed:{archiveFileId(){var e;return null===(e=this.fileInfo)||void 0===e?void 0:e.id},archiveFileDirName(){return this.fileInfo.path},archiveFileBaseName(){return this.fileInfo.name},archiveFilePathName(){return this.fileInfo.path+"/"+this.fileInfo.name},archiveMounted(){return this.archiveMounts.length>0},archiveMountBaseName:{get(){return this.archiveMountFileInfo.baseName},set(e){return(0,a.hZ)(this.archiveMountFileInfo,"baseName",e),e}},archiveMountDirName:{get(){return this.archiveMountFileInfo.dirName},set(e){return(0,a.hZ)(this.archiveMountFileInfo,"dirName",e),e}},archiveMountPathName(){return this.archiveMountDirName+(this.archiveMountBaseName?"/"+this.archiveMountBaseName:"")},archiveExtractBaseName:{get(){return this.archiveExtractFileInfo.baseName},set(e){return(0,a.hZ)(this.archiveExtractFileInfo,"baseName",e),e}},archiveExtractDirName:{get(){return this.archiveExtractFileInfo.dirName},set(e){return(0,a.hZ)(this.archiveExtractFileInfo,"dirName",e),e}},archiveExtractPathName(){return this.archiveExtractDirName+(this.archiveExtractBaseName?"/"+this.archiveExtractBaseName:"")},archiveInfoText(){return JSON.stringify(this.archiveInfo,null,2)},humanArchiveOriginalSize(){return isNaN(parseInt(this.archiveInfo.originalSize))?(0,p.Tl)(s.J,"unknown"):(0,u.v7)(this.archiveInfo.originalSize)},humanArchiveCompressedSize(){return isNaN(parseInt(this.archiveInfo.compressedSize))?(0,p.Tl)(s.J,"unknown"):(0,u.v7)(this.archiveInfo.compressedSize)},humanArchiveFileSize(){return isNaN(parseInt(this.archiveInfo.size))?(0,p.Tl)(s.J,"unknown"):(0,u.v7)(this.archiveInfo.size)},numberOfArchiveMembers(){return!this.archiveInfo||void 0===this.archiveInfo.numberOfFiles||isNaN(parseInt(""+this.archiveInfo.numberOfFiles))?(0,p.Tl)(s.J,"unknown"):""+this.archiveInfo.numberOfFiles},commonPathPrefix(){return this.archiveInfo&&void 0!==this.archiveInfo.commonPathPrefix?"/"+this.archiveInfo.commonPathPrefix:(0,p.Tl)(s.J,"unknown")},archiveStatusText(){return 0===this.archiveStatus?(0,p.Tl)(s.J,"ok"):2&this.archiveStatus?(0,p.Tl)(s.J,"zip bomb"):1&this.archiveStatus?(0,p.Tl)(s.J,"too large"):(0,p.Tl)(s.J,"unknown")},mountPointTitle(){return(0,p.Tl)(s.J,"Mount Points")+" ("+(this.archiveMounted?this.archiveMounts.length:(0,p.Tl)(s.J,"not mounted"))+")"}},created(){(0,r.B1)("files:node:deleted",this.onMountPointDeleted),(0,r.B1)("files:node:renamed",this.onMountPointRenamed),(0,r.B1)("notifications:notification:received",this.onNotification)},mounted(){},beforeDestroy(){this.backgroundMountsTimer&&(clearInterval(this.backgroundMountsTimer),this.backgroundMountsTimer=void 0)},methods:{info(){console.info.apply(null,arguments)},setBusyState(){},async update(e){console.info("FILE INFO",e),this.fileInfo=e,this.fileName=e.path+"/"+e.name,this.archiveMountBaseName=e.name.split(".")[0],this.archiveMountDirName=e.path,this.archiveExtractBaseName=this.archiveMountBaseName,this.archiveExtractDirName=this.archiveMountDirName,this.getData()},async getData(){this.initialState=(0,o.C)(),this.archiveMountStripCommonPathPrefix=!!this.initialState.mountStripCommonPathPrefixDefault,this.archiveExtractStripCommonPathPrefix=!!this.initialState.extractStripCommonPathPrefixDefault,this.archiveMountBackgroundJob=!!this.initialState.mountBackgroundJob,this.archiveExtractBackgroundJob=!!this.initialState.extractBackgroundJob,this.getArchiveInfo(this.fileName),this.refreshArchiveMounts(this.fileName,!0)},async getArchiveInfo(e){++this.loading,e=encodeURIComponent(e);const t=h("archive/info/{fileName}",{fileName:e}),i={};this.archivePassPhrase&&(i.passPhrase=this.archivePassPhrase);try{const e=(await I.A.post(t,i)).data;this.archiveInfo=e.archiveInfo,this.archiveStatus=e.archiveStatus;for(const t of e.messages)(0,d.cf)(t);console.info("ARCHIVE INFO",this.archiveInfo)}catch(e){if(console.error("ERROR",e),e.response&&e.response.data){const t=e.response.data;if(this.archiveInfo=t.archiveInfo,this.archiveStatus=t.archiveStatus,t.messages)for(const e of t.messages)(0,d.Qg)(e,{timeout:d.DH})}else this.archiveInfo={}}this.archiveInfo.defaultMountPoint&&(this.archiveMountBaseName=this.archiveInfo.defaultMountPoint),this.archiveInfo.defaultTargetBaseName&&(this.archiveExtractBaseName=this.archiveInfo.defaultTargetBaseName),--this.loading},async refreshArchiveMounts(e,t){const i=[...this.archiveMounts],s=await this.getArchiveMounts(e,!1);if(this.archiveMounts=s.mounts,t)return;const a=this.archiveMounts.filter((e=>-1===i.findIndex((t=>e.mountPoint.fileid===t.mountPoint.fileid)))),o=i.filter((e=>-1===this.archiveMounts.findIndex((t=>t.mountPoint.fileid===e.mountPoint.fileid))));for(const e of o){const t=v(e.mountPoint);console.info("EMIT DELETED",t),(0,r.Ic)("files:node:deleted",t)}for(const e of a){const t=v(e.mountPoint);console.info("EMIT CREATED",t),(0,r.Ic)("files:node:created",t)}},async getArchiveMounts(e,t){const i={mounts:[],mounted:!1};!0!==t&&++this.loading,e=encodeURIComponent(e);const s=h("archive/mount/{fileName}",{fileName:e});try{const e=(await I.A.get(s)).data;i.mounts=e.mounts,i.mounted=e.mounted;for(const t of e.messages)(0,d.cf)(t);console.info("MOUNTS",this.archiveMounts)}catch(e){if(console.error("ERROR",e),e.response&&e.response.data){const t=e.response.data;if(i.mounts=t.mounts,i.mounted=t.mounted,t.messages)for(const e of t.messages)(0,d.Qg)(e,{timeout:d.DH})}}for(const e of i.mounts){const t=e.mountPointPath.split("/"),i=t.pop(),s=t.join("/");e.baseName=i,e.dirName=s,!this.archivePassPhrase&&e.archivePassPhrase&&(this.archivePassPhrase=e.archivePassPhrase),delete e.archivePassPhrase}return!0!==t&&--this.loading,i},async mountArchive(){const e=encodeURIComponent(this.fileInfo.path+"/"+this.fileInfo.name),t=encodeURIComponent(this.archiveMountPathName),i=this.archiveMountBackgroundJob?"archive/schedule/mount/{archivePath}/{mountPath}":"archive/mount/{archivePath}/{mountPath}",a=h(i,{archivePath:e,mountPath:t});this.setBusyState(!0);const o={};this.archivePassPhrase&&(o.passPhrase=this.archivePassPhrase),o.stripCommonPathPrefix=!!this.archiveMountStripCommonPathPrefix;try{const e=await I.A.post(a,o);if(!this.archiveMountBackgroundJob){const t=e.data,i=t.mountPoint.fileid;if(-1===this.archiveMounts.findIndex((e=>e.mountPoint.fileid===i))){this.archiveMounts.push(t);const i=v(e.data.mountPoint);console.info("EMIT CREATED",i),(0,r.Ic)("files:node:created",i)}}}catch(e){if(console.error("ERROR",e),e.response){const t=[];if(e.response.data){const i=e.response.data;i.messages&&t.splice(t.length,0,i.messages)}t.length||t.push((0,p.Tl)(s.J,'Mount request failed with error {status}, "{statusText}".',e.response));for(const e of t)(0,d.Qg)(e,{timeout:d.DH})}}this.setBusyState(!1)},async unmount(e){console.info("UNMOUNT MOUNT",e);const t=(0,c.HW)(),i=(0,n.dC)("dav/files/"+t.uid+e.mountPointPath);this.setBusyState(!0);try{await I.A.delete(i);const t=this.archiveMounts.indexOf(e);t>=0?this.archiveMounts.splice(t,1):console.error("UNABLE TO FIND DELETED MOUNT IN LIST",e,this.archiveMounts);const s=v(e.mountPoint);console.info("EMIT DELETED"),(0,r.Ic)("files:node:deleted",s)}catch(e){console.error("ERROR",e);const t=[];if(e.response){const i=e.response.request.responseXML;if(i&&"error"===i.documentElement.localName&&"DAV:"===i.documentElement.namespaceURI){const e=i.getElementsByTagNameNS("http://sabredav.org/ns","message");for(const i of e)t.push(i.textContent)}if(e.response.data){const i=e.response.data;i.messages&&t.splice(t.length,0,...i.messages)}t.length||t.push((0,p.Tl)(s.J,'Unmount request failed with error {status}, "{statusText}".',e.response));for(const e of t)(0,d.Qg)(e,{timeout:d.DH});404===e.response.status&&this.refreshArchiveMounts()}}this.setBusyState(!1)},onNotification(e){var t,i,a;if((null==e||null===(t=e.notification)||void 0===t?void 0:t.app)!==s.J)return;const o=null==e||null===(i=e.notification)||void 0===i||null===(i=i.messageRichParameters)||void 0===i?void 0:i.destination;if((null==o||null===(a=o.mount)||void 0===a?void 0:a.archiveFileId)===this.archiveFileId){if("mount"===(null==o?void 0:o.status)){console.info("*** Mount notification received, updating mount-list",o);const e=o.id;if(-1===this.archiveMounts.findIndex((t=>t.mountPoint.fileid===e))){const e=o.mount;e.mountPoint=o.folder,this.archiveMounts.push(e)}}}else console.info("*** Archive notification for other file received",e)},onMountPointRenamed(e){const t=e.fileid,i=this.archiveMounts.findIndex((e=>e.mountPoint.fileid===t));i>=0?(console.info("BERFORE RENAME",{...this.archiveMounts[i]}),(0,a.hZ)(this.archiveMounts[i],"mountPoint",e),(0,a.hZ)(this.archiveMounts[i],"mountPointPath",e.path),(0,a.hZ)(this.archiveMounts[i],"mountPointPathHash",m()(e.path)),console.info("AFTER RENAME",{...this.archiveMounts[i]})):console.info("RENAME OF NODE NOT FOR US",e)},onMountPointDeleted(e){const t=e.fileid,i=this.archiveMounts.findIndex((e=>e.mountPoint.fileid===t));i>=0?(this.archiveMounts.splice(i,1),console.info("RECORD UNMOUNT",e)):console.info("DELETE OF NODE NOT FOR US",e)},async extractArchive(){const e=encodeURIComponent(this.fileInfo.path+"/"+this.fileInfo.name),t=encodeURIComponent(this.archiveExtractPathName),i=this.archiveExtractBackgroundJob?"archive/schedule/extract/{archivePath}/{targetPath}":"archive/extract/{archivePath}/{targetPath}",a=h(i,{archivePath:e,targetPath:t});this.setBusyState(!0);const o={};this.archivePassPhrase&&(o.passPhrase=this.archivePassPhrase),o.stripCommonPathPrefix=!!this.archiveExtractStripCommonPathPrefix;try{const e=await I.A.post(a,o);if(!this.archiveExtractBackgroundJob){const t=v(e.data.targetFolder);console.info("EMIT CREATED"),(0,r.Ic)("files:node:created",t)}}catch(e){if(console.error("ERROR",e),e.response){const t=[];if(e.response.data){const i=e.response.data;i.messages&&t.splice(t.length,0,i.messages)}t.length||t.push((0,p.Tl)(s.J,'Archive extraction failed with error {status}, "{statusText}".',e.response));for(const e of t)(0,d.Qg)(e,{timeout:d.DH})}}this.setBusyState(!1)},async setPassPhrase(){const e=this.showArchivePassPhrase?this.$refs.archivePassPhrase.$el.querySelector('input[type="text"]').value:this.$refs.archivePassPhrase.$el.querySelector('input[type="password"]').value;this.archivePassPhrase=e;const t=encodeURIComponent(this.fileInfo.path+"/"+this.fileInfo.name),i=(0,n.Jv)("/apps/"+s.J+"/archive/mount/{archivePath}",{archivePath:t});this.setBusyState(!0);const a={changeSet:{archivePassPhrase:this.archivePassPhrase}};try{await I.A.patch(i,a)}catch(e){if(console.error("ERROR",e),e.response){const t=[];if(e.response.data){const i=e.response.data;i.messages&&t.splice(t.length,0,i.messages)}t.length||t.push((0,p.Tl)(s.J,'Patching the passphrase failed with error {status}, "{statusText}".',e.response));for(const e of t)(0,d.Qg)(e,{timeout:d.DH})}}this.setBusyState(!1)},async togglePassPhraseVisibility(){let e=this.showArchivePassPhrase?this.$refs.archivePassPhrase.$el.querySelector('input[type="text"]'):this.$refs.archivePassPhrase.$el.querySelector('input[type="password"]');const t=e.value;this.showArchivePassPhrase=!this.showArchivePassPhrase,await(0,a.dY)(),e=this.showArchivePassPhrase?this.$refs.archivePassPhrase.$el.querySelector('input[type="text"]'):this.$refs.archivePassPhrase.$el.querySelector('input[type="password"]'),e.value=t},filesAppMountPointUrl:e=>(0,n.Jv)("/apps/files")+"?dir="+encodeURIComponent(e.mountPointPath)}};const M=(0,i(4486).A)(g,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"files-tab"},[t("ul",[t("li",{staticClass:"files-tab-entry flex flex-center clickable",on:{click:function(t){e.showArchiveInfo=!e.showArchiveInfo}}},[t("div",{staticClass:"files-tab-entry__avatar icon-info-white"}),e._v(" "),t("div",{staticClass:"files-tab-entry__desc"},[t("h5",[e._v(e._s(e.t(e.appName,"Archive Information")))])]),e._v(" "),t("NcActions",[t("NcActionButton",{attrs:{icon:"icon-triangle-"+(e.showArchiveInfo?"n":"s")},model:{value:e.showArchiveInfo,callback:function(t){e.showArchiveInfo=t},expression:"showArchiveInfo"}})],1)],1),e._v(" "),t("li",{directives:[{name:"show",rawName:"v-show",value:e.showArchiveInfo,expression:"showArchiveInfo"}],staticClass:"files-tab-entry"},[e.loading?t("div",{staticClass:"icon-loading-small"}):e._e(),e._v(" "),t("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"archive-info"},[e.archiveStatus>0?t("ListItem",{class:{"archive-error":e.archiveStatus>0},attrs:{title:e.t(e.appName,"archive status"),bold:!0,details:e.archiveStatusText},scopedSlots:e._u([{key:"icon",fn:function(){return[t("div",{staticClass:"icon-error"})]},proxy:!0}],null,!1,2833062560)}):e._e(),e._v(" "),t("ListItem",{attrs:{title:e.t(e.appName,"archive format"),bold:!0,details:e.archiveInfo.format||e.t(e.appName,"unknown")}}),e._v(" "),t("ListItem",{attrs:{title:e.t(e.appName,"MIME type"),bold:!0,details:e.archiveInfo.mimeType||e.t(e.appName,"unknown")}}),e._v(" "),t("ListItem",{attrs:{title:e.t(e.appName,"backend driver"),bold:!0,details:e.archiveInfo.backendDriver||e.t(e.appName,"unknown")}}),e._v(" "),t("ListItem",{attrs:{title:e.t(e.appName,"uncompressed size"),bold:!0,details:e.humanArchiveOriginalSize}}),e._v(" "),t("ListItem",{attrs:{title:e.t(e.appName,"compressed size"),bold:!0,details:e.humanArchiveCompressedSize}}),e._v(" "),e.humanArchiveCompressedSize!==e.humanArchiveFileSize?t("ListItem",{attrs:{title:e.t(e.appName,"archive file size"),bold:!0,details:e.humanArchiveFileSize}}):e._e(),e._v(" "),t("ListItem",{attrs:{title:e.t(e.appName,"# archive members"),bold:!0,details:e.numberOfArchiveMembers}}),e._v(" "),t("ListItem",{attrs:{title:e.t(e.appName,"common prefix"),bold:!0,details:e.commonPathPrefix}}),e._v(" "),e.archiveInfo.comment?t("ListItem",{staticClass:"archive-comment",attrs:{title:e.t(e.appName,"creator's comment"),bold:!0},scopedSlots:e._u([{key:"subtitle",fn:function(){return[e._v("\n            "+e._s(e.archiveInfo.comment)+"\n          ")]},proxy:!0}],null,!1,3635500645)}):e._e()],1)]),e._v(" "),t("li",{staticClass:"files-tab-entry flex flex-center"},[t("div",{staticClass:"files-tab-entry__avatar icon-password-white"}),e._v(" "),t("div",{staticClass:"files-tab-entry__desc"},[t("h5",[t("span",{staticClass:"main-title"},[e._v(e._s(e.t(e.appName,"Passphrase")))]),e._v(" "),e.archivePassPhrase?e._e():t("span",{staticClass:"title-annotation"},[e._v("("+e._s(e.t(e.appName,"unset"))+")")])])]),e._v(" "),t("NcActions",{attrs:{"force-menu":!0}},[e.showArchivePassPhrase?t("NcActionInput",{ref:"archivePassPhrase",attrs:{value:e.archivePassPhrase,type:"text",icon:"icon-password"},on:{submit:e.setPassPhrase}},[e._v("\n          "+e._s(e.t(e.appName,"archive passphrase"))+"\n        ")]):t("NcActionInput",{ref:"archivePassPhrase",attrs:{value:e.archivePassPhrase,type:"password",icon:"icon-password"},on:{submit:e.setPassPhrase}},[e._v("\n          "+e._s(e.t(e.appName,"archive passphrase"))+"\n        ")]),e._v(" "),t("NcActionCheckbox",{on:{change:e.togglePassPhraseVisibility}},[e._v("\n          "+e._s(e.t(e.appName,"Show Passphrase"))+"\n        ")])],1)],1),e._v(" "),t("li",{staticClass:"files-tab-entry flex flex-center clickable",on:{click:function(t){e.showArchiveMounts=!e.showArchiveMounts}}},[t("div",{staticClass:"files-tab-entry__avatar icon-external-white"}),e._v(" "),t("div",{staticClass:"files-tab-entry__desc"},[t("h5",[t("span",{staticClass:"main-title"},[e._v(e._s(e.t(e.appName,"Mount Points")))]),e._v(" "),e.archiveMounted?t("span",{staticClass:"title-annotation"},[e._v("("+e._s(""+e.archiveMounts.length)+")")]):t("span",{staticClass:"title-annotation"},[e._v("("+e._s(e.t(e.appName,"not mounted"))+")")])])]),e._v(" "),t("NcActions",[t("NcActionButton",{attrs:{icon:"icon-triangle-"+(e.showArchiveMounts?"n":"s")},model:{value:e.showArchiveMounts,callback:function(t){e.showArchiveMounts=t},expression:"showArchiveMounts"}})],1)],1),e._v(" "),t("li",{directives:[{name:"show",rawName:"v-show",value:e.showArchiveMounts,expression:"showArchiveMounts"}],staticClass:"directory-chooser files-tab-entry"},[e.loading?t("div",{staticClass:"icon-loading-small"}):e.archiveMounted?t("ul",{staticClass:"archive-mounts"},e._l(e.archiveMounts,(function(i){return t("ListItem",{key:i.id,attrs:{"force-display-actions":!0,bold:!1},scopedSlots:e._u([{key:"title",fn:function(){return[t("a",{staticClass:"external icon-folder icon",attrs:{target:e.openMountTarget,href:e.filesAppMountPointUrlI(i)}},[e._v("\n              "+e._s(i.mountPointPath)+"\n            ")])]},proxy:!0},{key:"actions",fn:function(){return[t("NcActionButton",{attrs:{icon:"icon-delete"},on:{click:function(t){return e.unmount(i,...arguments)}}})]},proxy:!0},1&i.mountFlags?{key:"extra",fn:function(){return[t("div",[e._v(e._s(e.t(e.appName,"Common prefix {prefix} is stripped.",{prefix:e.commonPathPrefix})))])]},proxy:!0}:null],null,!0)})})),1):t("div",[t("FilePrefixPicker",{attrs:{hint:e.t(e.appName,"Not mounted, create a new mount point:"),placeholder:e.t(e.appName,"base name")},on:{update:e.mountArchive},model:{value:e.archiveMountFileInfo,callback:function(t){e.archiveMountFileInfo=t},expression:"archiveMountFileInfo"}}),e._v(" "),t("div",{staticClass:"flex flex-center"},[t("div",{staticClass:"label",on:{click:function(t){return e.$refs.mountOptions.openMenu()}}},[e._v("\n            "+e._s(e.t(e.appName,"Mount Options"))+"\n          ")]),e._v(" "),t("NcActions",{ref:"mountOptions",attrs:{"force-menu":!0}},[t("NcActionCheckbox",{ref:"mountStripCommonPathPrefix",attrs:{checked:e.archiveMountStripCommonPathPrefix},on:{change:function(t){e.archiveMountStripCommonPathPrefix=!e.archiveMountStripCommonPathPrefix}}},[e._v("\n              "+e._s(e.t(e.appName,"strip common path prefix"))+"\n            ")]),e._v(" "),t("NcActionCheckbox",{ref:"mountBackgroundJob",attrs:{checked:e.archiveMountBackgroundJob},on:{change:function(t){e.archiveMountBackgroundJob=!e.archiveMountBackgroundJob}}},[e._v("\n              "+e._s(e.t(e.appName,"schedule as background job"))+"\n            ")])],1)],1)],1)]),e._v(" "),t("li",{staticClass:"files-tab-entry flex flex-center clickable",on:{click:function(t){e.showArchiveExtraction=!e.showArchiveExtraction}}},[t("div",{staticClass:"files-tab-entry__avatar icon-play-white"}),e._v(" "),t("div",{staticClass:"files-tab-entry__desc"},[t("h5",[e._v(e._s(e.t(e.appName,"Extract Archive")))])]),e._v(" "),t("NcActions",[t("NcActionButton",{attrs:{icon:"icon-triangle-"+(e.showArchiveExtraction?"n":"s")},model:{value:e.showArchiveExtraction,callback:function(t){e.showArchiveExtraction=t},expression:"showArchiveExtraction"}})],1)],1),e._v(" "),t("li",{directives:[{name:"show",rawName:"v-show",value:e.showArchiveExtraction,expression:"showArchiveExtraction"}],staticClass:"directory-chooser files-tab-entry"},[e.loading?t("div",{staticClass:"icon-loading-small"}):t("div",[t("FilePrefixPicker",{attrs:{hint:e.t(e.appName,"Choose a directory to extract the archive to:"),placeholder:e.t(e.appName,"basename")},on:{update:e.extractArchive},model:{value:e.archiveExtractFileInfo,callback:function(t){e.archiveExtractFileInfo=t},expression:"archiveExtractFileInfo"}}),e._v(" "),t("div",{staticClass:"flex flex-center"},[t("div",{staticClass:"label",on:{click:function(t){return e.$refs.extractionOptions.openMenu()}}},[e._v("\n            "+e._s(e.t(e.appName,"Extraction Options"))+"\n          ")]),e._v(" "),t("NcActions",{ref:"extractionOptions",attrs:{"force-menu":!0}},[t("NcActionCheckbox",{attrs:{checked:e.archiveExtractStripCommonPathPrefix},on:{change:function(t){e.archiveExtractStripCommonPathPrefix=!e.archiveExtractStripCommonPathPrefix}}},[e._v("\n              "+e._s(e.t(e.appName,"strip common path prefix"))+"\n            ")]),e._v(" "),t("NcActionCheckbox",{ref:"extractBackgroundJob",attrs:{checked:e.archiveExtractBackgroundJob},on:{change:function(t){e.archiveExtractBackgroundJob=!e.archiveExtractBackgroundJob}}},[e._v("\n              "+e._s(e.t(e.appName,"schedule as background job"))+"\n            ")])],1)],1)],1)])])])}),[],!1,null,"0f05a46e",null).exports}}]);
//# sourceMappingURL=src_views_FilesTab_vue-node_modules_nextcloud_dialogs_dist_style_css-node_modules_rotdrop_nex-c9f69d-875568e0d01dac274e87.js.map